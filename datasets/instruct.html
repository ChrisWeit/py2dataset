
        <html>
        <head>
            <style>
                table {border-collapse: collapse; width: 100%; table-layout: fixed;}
                th, td {
                    border: 1px solid black;
                    padding: 8px;
                    text-align: left;
                    white-space: pre-line;
                    vertical-align: top;
                    word-wrap: break-word;
                }
            </style>
        </head>
        <body>
            <table>
                <thead>
                    <tr>
        <th style='width: 33.333333333333336%;'>instruction</th><th style='width: 33.333333333333336%;'>input</th><th style='width: 33.333333333333336%;'>output</th>
                    </tr>
                </thead>
                <tbody>
        <tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List&nbsp;<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;internal_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;structural&nbsp;relationships&nbsp;between&nbsp;the&nbsp;functions&nbsp;and&nbsp;classes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;within&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;Inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename};&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;8400,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:&nbsp;#&nbsp;get&nbsp;default&nbsp;questions&nbsp;if&nbsp;can&#x27;t&nbsp;read&nbsp;questions_pathname&nbsp;file&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;]<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>json,&nbsp;pathlib,&nbsp;importlib,&nbsp;os,&nbsp;logging,&nbsp;typing,&nbsp;yaml</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List&nbsp;<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;internal_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;structural&nbsp;relationships&nbsp;between&nbsp;the&nbsp;functions&nbsp;and&nbsp;classes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;within&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;Inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename};&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;8400,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:&nbsp;#&nbsp;get&nbsp;default&nbsp;questions&nbsp;if&nbsp;can&#x27;t&nbsp;read&nbsp;questions_pathname&nbsp;file&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;]<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;get_default_questions&#x27;,&nbsp;&#x27;get_default_model_config&#x27;,&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;os.makedirs&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;json.load&#x27;,&nbsp;&quot;model_config[&#x27;model_import_path&#x27;].rsplit&quot;,&nbsp;&#x27;getattr&#x27;,&nbsp;&#x27;importlib.import_module&#x27;,&nbsp;&#x27;inference_function&#x27;,&nbsp;&#x27;model_params.pop&#x27;,&nbsp;&#x27;ModelClass&#x27;,&nbsp;&#x27;yaml.safe_load&#x27;,&nbsp;&#x27;Path(output_dir).is_dir&#x27;,&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;yaml.dump&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&nbsp;or&nbsp;OUTPUT_DIR&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.makedirs&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.getcwd()&#x27;,&nbsp;&#x27;QUESTIONS_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;questions_pathname&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_questions&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;questions&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;model_config[&#x27;model_import_path&#x27;].rsplit&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;,&nbsp;&#x27;1&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;getattr&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;ModelClass&#x27;,&nbsp;&#x27;inference_function_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;importlib.import_module&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;module_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;inference_function&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;model_params.pop(&#x27;model_path&#x27;)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;model_params.pop&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;model_path&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ModelClass&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;model_params.pop(&#x27;model_path&#x27;)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.getcwd()&#x27;,&nbsp;&#x27;MODEL_CONFIG_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;model_config_pathname&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.safe_load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;config_file&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_model_config&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;model_config&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;model_config[&#x27;inference_model&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;model&#x27;,&nbsp;&#x27;None&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_questions&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;questions&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(output_dir).is_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.path.join(output_dir,&nbsp;QUESTIONS_FILE)&#x27;,&nbsp;&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;,&nbsp;&#x27;QUESTIONS_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;questions&#x27;,&nbsp;&#x27;file&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_model_config&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;model_config&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(output_dir).is_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE)&#x27;,&nbsp;&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;,&nbsp;&#x27;MODEL_CONFIG_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;model_config&#x27;,&nbsp;&#x27;file&#x27;]}]}</td></tr><tr><td>What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List&nbsp;<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;internal_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;structural&nbsp;relationships&nbsp;between&nbsp;the&nbsp;functions&nbsp;and&nbsp;classes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;within&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;Inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename};&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;8400,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:&nbsp;#&nbsp;get&nbsp;default&nbsp;questions&nbsp;if&nbsp;can&#x27;t&nbsp;read&nbsp;questions_pathname&nbsp;file&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;]<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>get_default_questions,&nbsp;instantiate_model,&nbsp;write_model_config_file,&nbsp;write_questions_file,&nbsp;get_questions,&nbsp;get_default_model_config,&nbsp;get_output_dir,&nbsp;get_model</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_output_dir&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>output_dir</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions_pathname</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;instantiate_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>model_config</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;])</td><td>model_config_pathname</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;write_questions_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>output_dir</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;write_model_config_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>output_dir</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_default_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[{&#x27;id&#x27;:&nbsp;&#x27;file_dependencies&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;internal_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;entire_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;structural&nbsp;relationships&nbsp;between&nbsp;the&nbsp;functions&nbsp;and&nbsp;classes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_functions&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_classes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_methods&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;within&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_attributes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_inheritance&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;Inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_purpose&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename};&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;}]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>Return&nbsp;default&nbsp;question&nbsp;list&nbsp;Args:&nbsp;None&nbsp;Returns:&nbsp;ListDict:&nbsp;The&nbsp;default&nbsp;question&nbsp;list</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_default_model_config&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{&#x27;prompt_template&#x27;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,&nbsp;&#x27;inference_model&#x27;:&nbsp;{&#x27;model_import_path&#x27;:&nbsp;&#x27;ctransformers.AutoModelForCausalLM&#x27;,&nbsp;&#x27;model_inference_function&#x27;:&nbsp;&#x27;from_pretrained&#x27;,&nbsp;&#x27;model_params&#x27;:&nbsp;{&#x27;model_path&#x27;:&nbsp;&#x27;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&#x27;,&nbsp;&#x27;model_type&#x27;:&nbsp;&#x27;llama&#x27;,&nbsp;&#x27;local_files_only&#x27;:&nbsp;False,&nbsp;&#x27;threads&#x27;:&nbsp;28,&nbsp;&#x27;batch_size&#x27;:&nbsp;128,&nbsp;&#x27;context_length&#x27;:&nbsp;8400,&nbsp;&#x27;max_new_tokens&#x27;:&nbsp;8092,&nbsp;&#x27;gpu_layers&#x27;:&nbsp;100,&nbsp;&#x27;reset&#x27;:&nbsp;True}}}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict&nbsp;Args:&nbsp;None&nbsp;Returns:&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_output_dir&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.&nbsp;Args:&nbsp;output_dir&nbsp;str:&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.&nbsp;Returns:&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default&nbsp;Args:&nbsp;questions_pathname&nbsp;str:&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file&nbsp;Returns:&nbsp;ListDict:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;instantiate_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>or&nbsp;None&nbsp;if&nbsp;error.,&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.&nbsp;Args:&nbsp;model_config&nbsp;dict:&nbsp;model&nbsp;configuration&nbsp;dictionary.&nbsp;Returns:&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;])</td><td>Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.&nbsp;Agrs:&nbsp;model_config_pathname&nbsp;str:&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;Returns:&nbsp;Tupleobject,&nbsp;str:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;write_questions_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.&nbsp;Args:&nbsp;output_dir&nbsp;str:&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;write_model_config_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.&nbsp;Args:&nbsp;output_dir&nbsp;str:&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_output_dir&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>os.makedirs,&nbsp;logging.info,&nbsp;os.path.abspath</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>get_default_questions,&nbsp;json.load,&nbsp;os.getcwd,&nbsp;logging.info,&nbsp;os.path.join,&nbsp;open</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;instantiate_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>inference_function,&nbsp;ModelClass,&nbsp;model_params.pop,&nbsp;model_configmodel_import_path.rsplit,&nbsp;importlib.import_module,&nbsp;logging.info,&nbsp;getattr</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;])</td><td>get_default_model_config,&nbsp;instantiate_model,&nbsp;os.getcwd,&nbsp;logging.info,&nbsp;os.path.join,&nbsp;yaml.safe_load,&nbsp;open</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;write_questions_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>get_default_questions,&nbsp;json.dump,&nbsp;Pathoutput_dir.is_dir,&nbsp;os.getcwd,&nbsp;Path,&nbsp;os.path.join,&nbsp;open</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;write_model_config_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>Pathoutput_dir.is_dir,&nbsp;os.getcwd,&nbsp;Path,&nbsp;os.path.join,&nbsp;get_default_model_config,&nbsp;yaml.dump,&nbsp;open</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_default_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[{&#x27;id&#x27;:&nbsp;&#x27;file_dependencies&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;internal_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;entire_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;structural&nbsp;relationships&nbsp;between&nbsp;the&nbsp;functions&nbsp;and&nbsp;classes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_functions&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_classes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_methods&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;within&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_attributes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_inheritance&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;Inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_purpose&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename};&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;}]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_default_model_config&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{&#x27;prompt_template&#x27;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,&nbsp;&#x27;inference_model&#x27;:&nbsp;{&#x27;model_import_path&#x27;:&nbsp;&#x27;ctransformers.AutoModelForCausalLM&#x27;,&nbsp;&#x27;model_inference_function&#x27;:&nbsp;&#x27;from_pretrained&#x27;,&nbsp;&#x27;model_params&#x27;:&nbsp;{&#x27;model_path&#x27;:&nbsp;&#x27;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&#x27;,&nbsp;&#x27;model_type&#x27;:&nbsp;&#x27;llama&#x27;,&nbsp;&#x27;local_files_only&#x27;:&nbsp;False,&nbsp;&#x27;threads&#x27;:&nbsp;28,&nbsp;&#x27;batch_size&#x27;:&nbsp;128,&nbsp;&#x27;context_length&#x27;:&nbsp;8400,&nbsp;&#x27;max_new_tokens&#x27;:&nbsp;8092,&nbsp;&#x27;gpu_layers&#x27;:&nbsp;100,&nbsp;&#x27;reset&#x27;:&nbsp;True}}}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>model_config</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_output_dir&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>output_dir</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions,&nbsp;questions_pathname</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;instantiate_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>model_params,&nbsp;inference_function,&nbsp;ModelClass,&nbsp;model,&nbsp;inference_function_name</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;])</td><td>model_config_pathname,&nbsp;model_config</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;write_questions_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>questions,&nbsp;output_dir</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;write_model_config_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>output_dir,&nbsp;model_config</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_default_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[{&#x27;id&#x27;:&nbsp;&#x27;file_dependencies&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;internal_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;entire_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;structural&nbsp;relationships&nbsp;between&nbsp;the&nbsp;functions&nbsp;and&nbsp;classes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_functions&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_classes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_methods&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;within&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_attributes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_inheritance&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;Inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_purpose&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename};&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;}]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_default_model_config&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{&#x27;prompt_template&#x27;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,&nbsp;&#x27;inference_model&#x27;:&nbsp;{&#x27;model_import_path&#x27;:&nbsp;&#x27;ctransformers.AutoModelForCausalLM&#x27;,&nbsp;&#x27;model_inference_function&#x27;:&nbsp;&#x27;from_pretrained&#x27;,&nbsp;&#x27;model_params&#x27;:&nbsp;{&#x27;model_path&#x27;:&nbsp;&#x27;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&#x27;,&nbsp;&#x27;model_type&#x27;:&nbsp;&#x27;llama&#x27;,&nbsp;&#x27;local_files_only&#x27;:&nbsp;False,&nbsp;&#x27;threads&#x27;:&nbsp;28,&nbsp;&#x27;batch_size&#x27;:&nbsp;128,&nbsp;&#x27;context_length&#x27;:&nbsp;8400,&nbsp;&#x27;max_new_tokens&#x27;:&nbsp;8092,&nbsp;&#x27;gpu_layers&#x27;:&nbsp;100,&nbsp;&#x27;reset&#x27;:&nbsp;True}}}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>model_config</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_output_dir&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>output_dir</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_questions&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;instantiate_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>model,&nbsp;None</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_model&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py&#x27;?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;])</td><td>instantiate_modelmodel_configinference_model,&nbsp;model_configprompt_template</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_py2dataset_params.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List&nbsp;<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;internal_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;structural&nbsp;relationships&nbsp;between&nbsp;the&nbsp;functions&nbsp;and&nbsp;classes&nbsp;defined&nbsp;and&nbsp;used&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;within&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;Inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename};&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;8400,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:&nbsp;#&nbsp;get&nbsp;default&nbsp;questions&nbsp;if&nbsp;can&#x27;t&nbsp;read&nbsp;questions_pathname&nbsp;file&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;ImportError&nbsp;or&nbsp;AttributeError&nbsp;or&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;]),&nbsp;model_config[&#x27;prompt_template&#x27;]<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>The&nbsp;`get_default_questions`&nbsp;function&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions&nbsp;with&nbsp;ids,&nbsp;texts,&nbsp;and&nbsp;types&nbsp;for&nbsp;use&nbsp;in&nbsp;the&nbsp;py2dataset&nbsp;program.&nbsp;It&nbsp;validates&nbsp;that&nbsp;each&nbsp;question&nbsp;is&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;has&nbsp;all&nbsp;three&nbsp;keys&nbsp;specified&nbsp;in&nbsp;[req01].&nbsp;<br/>The&nbsp;`get_default_model_config`&nbsp;function&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;used&nbsp;by&nbsp;the&nbsp;`py2dataset`&nbsp;program.&nbsp;The&nbsp;prompt&nbsp;template&nbsp;is&nbsp;set&nbsp;to&nbsp;a&nbsp;default&nbsp;value,&nbsp;but&nbsp;can&nbsp;be&nbsp;customized&nbsp;based&nbsp;on&nbsp;user&nbsp;input.&nbsp;<br/>The&nbsp;`get_output_dir`&nbsp;function&nbsp;takes&nbsp;an&nbsp;optional&nbsp;output&nbsp;directory&nbsp;and&nbsp;verifies&nbsp;whether&nbsp;it&nbsp;exists&nbsp;or&nbsp;creates&nbsp;a&nbsp;new&nbsp;directory&nbsp;using&nbsp;Path().&nbsp;The&nbsp;specified&nbsp;OUTPUT_DIR&nbsp;global&nbsp;variable&nbsp;serves&nbsp;as&nbsp;a&nbsp;default.&nbsp;This&nbsp;allows&nbsp;users&nbsp;the&nbsp;ability&nbsp;to&nbsp;pass&nbsp;a&nbsp;non-valid&nbsp;file&nbsp;path&nbsp;when&nbsp;running&nbsp;the&nbsp;program,&nbsp;and&nbsp;ensures&nbsp;that&nbsp;there&nbsp;is&nbsp;always&nbsp;a&nbsp;valid&nbsp;output&nbsp;directory&nbsp;for&nbsp;writing&nbsp;files.&nbsp;<br/>The&nbsp;`get_questions`&nbsp;function&nbsp;accepts&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument,&nbsp;but&nbsp;defaults&nbsp;to&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;it&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.&nbsp;It&nbsp;then&nbsp;checks&nbsp;if&nbsp;the&nbsp;file&nbsp;exists&nbsp;and&nbsp;is&nbsp;valid&nbsp;JSON&nbsp;format&nbsp;using&nbsp;json.load().&nbsp;If&nbsp;it&nbsp;fails,&nbsp;it&nbsp;returns&nbsp;default&nbsp;questions&nbsp;from&nbsp;get_default_questions()&nbsp;instead.&nbsp;<br/>The&nbsp;`instantiate_model`&nbsp;function&nbsp;takes&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument&nbsp;and&nbsp;imports&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.&nbsp;It&nbsp;then&nbsp;instantiates&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration&nbsp;based&nbsp;on&nbsp;the&nbsp;import&nbsp;path&nbsp;and&nbsp;parameters.&nbsp;If&nbsp;there&nbsp;is&nbsp;an&nbsp;error,&nbsp;it&nbsp;returns&nbsp;None.&nbsp;<br/>The&nbsp;`get_model`&nbsp;function&nbsp;accepts&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument&nbsp;and&nbsp;defaults&nbsp;to&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.&nbsp;It&nbsp;then&nbsp;validates&nbsp;and&nbsp;imports&nbsp;a&nbsp;new&nbsp;dictionary&nbsp;config&nbsp;and&nbsp;updates&nbsp;default&nbsp;prompt&nbsp;using&nbsp;the&nbsp;appropriate&nbsp;global&nbsp;variable&nbsp;based&nbsp;on&nbsp;whether&nbsp;an&nbsp;updated&nbsp;output&nbsp;was&nbsp;received&nbsp;in&nbsp;its&nbsp;signature,&nbsp;[req08]&nbsp;using&nbsp;Path()&nbsp;validation&nbsp;check&nbsp;with&nbsp;`output_dir.is_dir()`.&nbsp;If&nbsp;it&nbsp;fails&nbsp;to&nbsp;load,&nbsp;it&nbsp;defaults&nbsp;to&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;and&nbsp;uses&nbsp;yaml.safe_load().&nbsp;It&nbsp;returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;object&nbsp;along&nbsp;with&nbsp;a&nbsp;prompt&nbsp;template.&nbsp;<br/>The&nbsp;`write_questions_file`&nbsp;function&nbsp;accepts&nbsp;an&nbsp;optional&nbsp;output&nbsp;directory&nbsp;and&nbsp;writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;that&nbsp;directory&nbsp;or&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;none&nbsp;is&nbsp;specified&nbsp;using&nbsp;open().&nbsp;It&nbsp;defaults&nbsp;to&nbsp;Path().exists()&nbsp;for&nbsp;checking&nbsp;the&nbsp;directory&nbsp;path&nbsp;before&nbsp;writing&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;unwanted&nbsp;directories&nbsp;or&nbsp;errors.&nbsp;<br/>The&nbsp;`write_model_config_file`&nbsp;function&nbsp;accepts&nbsp;an&nbsp;optional&nbsp;output&nbsp;directory&nbsp;and&nbsp;writes&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;that&nbsp;directory&nbsp;or&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;none&nbsp;is&nbsp;specified&nbsp;using&nbsp;open().&nbsp;It&nbsp;defaults&nbsp;to&nbsp;Path().exists()&nbsp;for&nbsp;checking&nbsp;the&nbsp;directory&nbsp;path&nbsp;before&nbsp;writing&nbsp;to&nbsp;avoid&nbsp;creating&nbsp;unwanted&nbsp;directories&nbsp;or&nbsp;errors.&nbsp;<br/>The&nbsp;`get_output_dir`&nbsp;function&nbsp;uses&nbsp;os.path.abspath()&nbsp;to&nbsp;ensure&nbsp;that&nbsp;the&nbsp;output&nbsp;directory&nbsp;is&nbsp;an&nbsp;absolute&nbsp;path,&nbsp;and&nbsp;then&nbsp;creates&nbsp;it&nbsp;if&nbsp;it&nbsp;does&nbsp;not&nbsp;exist&nbsp;using&nbsp;os.makedirs().&nbsp;It&nbsp;logs&nbsp;a&nbsp;message&nbsp;indicating&nbsp;which&nbsp;directory&nbsp;was&nbsp;used&nbsp;for&nbsp;output.&nbsp;<br/>The&nbsp;`get_questions`&nbsp;function&nbsp;accepts&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument&nbsp;and&nbsp;checks&nbsp;whether&nbsp;it&nbsp;exists&nbsp;or&nbsp;not.&nbsp;If&nbsp;it&nbsp;fails&nbsp;to&nbsp;load,&nbsp;it&nbsp;defaults&nbsp;to&nbsp;the&nbsp;default&nbsp;questions&nbsp;file&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.&nbsp;It&nbsp;then&nbsp;validates&nbsp;that&nbsp;each&nbsp;question&nbsp;is&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;all&nbsp;three&nbsp;keys&nbsp;specified&nbsp;in&nbsp;[req01].&nbsp;<br/>The&nbsp;`instantiate_model`&nbsp;function&nbsp;imports&nbsp;the&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config&nbsp;dictionary&nbsp;using&nbsp;importlib.import_module()&nbsp;and&nbsp;getattr().&nbsp;It&nbsp;then&nbsp;instantiates&nbsp;the&nbsp;model&nbsp;object&nbsp;based&nbsp;on&nbsp;whether&nbsp;the&nbsp;&quot;model_inference_function&quot;&nbsp;value&nbsp;is&nbsp;specified&nbsp;or&nbsp;not.&nbsp;The&nbsp;latter&nbsp;allows&nbsp;users&nbsp;to&nbsp;select&nbsp;their&nbsp;desired&nbsp;Hugging&nbsp;Face&nbsp;API,&nbsp;ct-transformers&nbsp;specifically&nbsp;in&nbsp;this&nbsp;case.&nbsp;<br/>The&nbsp;`get_model`&nbsp;function&nbsp;accepts&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument&nbsp;and&nbsp;defaults&nbsp;to&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;it&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.&nbsp;It&nbsp;then&nbsp;validates&nbsp;that&nbsp;the&nbsp;file&nbsp;exists&nbsp;using&nbsp;yaml.safe_load()&nbsp;before&nbsp;loading&nbsp;a&nbsp;new&nbsp;dictionary&nbsp;config&nbsp;and&nbsp;updating&nbsp;default&nbsp;prompt&nbsp;using&nbsp;the&nbsp;appropriate&nbsp;global&nbsp;variable&nbsp;based&nbsp;on&nbsp;whether&nbsp;an&nbsp;updated&nbsp;output&nbsp;was&nbsp;received&nbsp;in&nbsp;its&nbsp;signature,&nbsp;[req08]&nbsp;using&nbsp;Path().&nbsp;If&nbsp;it&nbsp;fails&nbsp;to&nbsp;load,&nbsp;it&nbsp;defaults&nbsp;to&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.&nbsp;It&nbsp;returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;object&nbsp;along&nbsp;with&nbsp;a&nbsp;prompt&nbsp;template&nbsp;specified&nbsp;by&nbsp;the&nbsp;user&nbsp;or&nbsp;the&nbsp;default&nbsp;prompt.&nbsp;<br/>The&nbsp;`write_questions_file`&nbsp;function&nbsp;writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;provided&nbsp;output&nbsp;directory&nbsp;using&nbsp;json.dump().&nbsp;If&nbsp;no&nbsp;output&nbsp;directory&nbsp;is&nbsp;provided,&nbsp;it&nbsp;defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.&nbsp;<br/>The&nbsp;`write_model_config_file`&nbsp;function&nbsp;also&nbsp;takes&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;and&nbsp;creates&nbsp;a&nbsp;default&nbsp;YAML&nbsp;config&nbsp;file&nbsp;in&nbsp;the&nbsp;provided&nbsp;path&nbsp;or&nbsp;current&nbsp;directory.&nbsp;This&nbsp;allows&nbsp;for&nbsp;user-specific&nbsp;settings&nbsp;such&nbsp;as&nbsp;different&nbsp;prompts&nbsp;or&nbsp;model&nbsp;parameters.</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>re,&nbsp;typing,&nbsp;logging</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;DatasetGenerator.__init__&#x27;,&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;generator.generate&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;re.sub&#x27;,&nbsp;&#x27;element.strip&#x27;,&nbsp;&quot;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split&quot;,&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;response.strip&#x27;,&nbsp;&#x27;list_to_update.append&#x27;,&nbsp;&#x27;any&#x27;,&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;self.prompt.format&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;self.llm&#x27;,&nbsp;&#x27;logger.error&#x27;,&nbsp;&#x27;question_id.endswith&#x27;,&nbsp;&#x27;info.get&#x27;,&nbsp;&#x27;str&#x27;,&nbsp;&#x27;str(response).strip&#x27;,&nbsp;&#x27;self.instruct_list.append&#x27;,&nbsp;&#x27;item.strip&#x27;,&nbsp;&#x27;str(info[item_type]).split&#x27;,&nbsp;&#x27;question_text.format&#x27;,&nbsp;&quot;self.file_details[&#x27;classes&#x27;].items&quot;,&nbsp;&#x27;class_info.items&#x27;,&nbsp;&#x27;key.startswith&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;self.file_details[self.question_mapping[question_type]].items&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.__init__&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;file_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;llm&#x27;,&nbsp;&#x27;prompt&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;input_str&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;list_to_update&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;response&#x27;,&nbsp;&#x27;additional_field&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;list_to_update&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;response&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;info&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info&#x27;,&nbsp;&#x27;item_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(items)&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;question_text&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;self.instruct_list&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(re.sub(&#x27;[^\\\\w\\\\-_&gt;\\\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;re.sub&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\\\s+&#x27;&quot;,&nbsp;&quot;&#x27;&nbsp;&#x27;&quot;,&nbsp;&#x27;input_str&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;element.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;,&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;cleaned_elements&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;response.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list_to_update.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;any&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prefix&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;[f&quot;Instruction:&nbsp;{item[\&#x27;instruction\&#x27;]}&nbsp;\\nOutput:&nbsp;{item[\&#x27;output\&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.prompt.format&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Response:&nbsp;{response}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prompt&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logger.error&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;question_id.endswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;purpose&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;info.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;question_id&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;response&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;input_str&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;response&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str(response).strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.instruct_list.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;item.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str(info[item_type]).split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;,&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info[item_type]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;items&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;question_text.format&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;info&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.file_details[&#x27;classes&#x27;].items&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_info.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;key.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.file_details[self.question_mapping[question_type]].items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info&#x27;,&nbsp;&#x27;item_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(items)&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;[s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;input_str&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;question_text&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;llm&#x27;,&nbsp;&#x27;prompt&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;generator.generate&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]}]}</td></tr><tr><td>What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>get_python_datasets</td></tr><tr><td>What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>DatasetGenerator</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>questions,&nbsp;file_details,&nbsp;file_path,&nbsp;llm,&nbsp;base_name,&nbsp;prompt</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.&nbsp;Args:&nbsp;file_path&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;file_details&nbsp;Dict:&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.&nbsp;base_name&nbsp;str:&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.&nbsp;questions&nbsp;ListDict:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.&nbsp;llm&nbsp;object:&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;prompt&nbsp;str:&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;Returns:&nbsp;TupleListDict,&nbsp;ListDict:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>DatasetGenerator,&nbsp;generator.generate</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator.generate</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>add_to_list,&nbsp;process_question_type,&nbsp;get_response_from_llm,&nbsp;generate,&nbsp;get_string_from_info,&nbsp;process_question,&nbsp;clean_and_get_unique_elements</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>or&nbsp;method.&nbsp;generate&nbsp;-&gt;&nbsp;TupleListDict,&nbsp;response:&nbsp;str,&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.&nbsp;Attributes:&nbsp;file_path&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;file_details&nbsp;Dictstr,&nbsp;function,&nbsp;str:&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;instruct_list&nbsp;ListDictstr,&nbsp;class,&nbsp;additional_fieldNone&nbsp;-&gt;&nbsp;ListDict:&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.&nbsp;get_response_from_llmquery:&nbsp;str,&nbsp;context:&nbsp;str&nbsp;-&gt;&nbsp;str:&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.&nbsp;process_questionquestion_type:&nbsp;str,&nbsp;info:&nbsp;Dict&nbsp;-&gt;&nbsp;None:&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.&nbsp;process_question_typequestion_type:&nbsp;str,&nbsp;str:&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.&nbsp;question_mapping&nbsp;Dictstr,&nbsp;query:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;ListDict:&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.,&nbsp;question_text:&nbsp;str&nbsp;-&gt;&nbsp;None:&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;context:&nbsp;str,&nbsp;Any:&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.&nbsp;base_name&nbsp;str:&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.&nbsp;questions&nbsp;ListDictstr,&nbsp;str:&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.&nbsp;use_llm&nbsp;bool:&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.&nbsp;llm&nbsp;object:&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;prompt&nbsp;str:&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.&nbsp;Methods:&nbsp;clean_and_get_unique_elementsinput_str:&nbsp;str&nbsp;-&gt;&nbsp;str:&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.&nbsp;add_to_listlist_to_update:&nbsp;ListDict</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>questions,&nbsp;file_details,&nbsp;question_mapping,&nbsp;use_llm,&nbsp;file_path,&nbsp;llm,&nbsp;instruct_list,&nbsp;base_name,&nbsp;prompt</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>excluded_instructions,&nbsp;filtered_instruct_list,&nbsp;methods_string,&nbsp;full_context,&nbsp;inputs_string,&nbsp;context,&nbsp;cleaned_elements,&nbsp;past_instructs,&nbsp;method_name,&nbsp;response,&nbsp;items,&nbsp;info,&nbsp;query,&nbsp;prompt,&nbsp;mapping,&nbsp;variables_string,&nbsp;combined_string,&nbsp;response_str</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}</td><td>questions,&nbsp;file_details,&nbsp;self,&nbsp;file_path,&nbsp;llm,&nbsp;base_name,&nbsp;prompt</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>input_str</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>response,&nbsp;list_to_update,&nbsp;query,&nbsp;additional_field</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>self,&nbsp;context,&nbsp;query</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;process_question&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>self,&nbsp;question_id,&nbsp;question_type,&nbsp;info,&nbsp;context,&nbsp;query</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;get_string_from_info&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>info,&nbsp;item_type</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;process_question_type&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>self,&nbsp;question_id,&nbsp;question_type,&nbsp;question_text</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.&nbsp;Args:&nbsp;input_str&nbsp;str:&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.&nbsp;Returns:&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.&nbsp;Args:&nbsp;list_to_update&nbsp;ListDict:&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.&nbsp;query&nbsp;str:&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.&nbsp;response&nbsp;str:&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.&nbsp;additional_field&nbsp;str:&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.&nbsp;Returns:&nbsp;ListDict:&nbsp;The&nbsp;updated&nbsp;list.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.&nbsp;Args:&nbsp;query&nbsp;str:&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.&nbsp;context&nbsp;str:&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.&nbsp;Returns:&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;process_question&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.&nbsp;Args:&nbsp;question_type&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;question_id&nbsp;str:&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;query&nbsp;str:&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.&nbsp;context&nbsp;str:&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.&nbsp;info&nbsp;Dict:&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;process_question_type&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>class,&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;or&nbsp;method.&nbsp;Args:&nbsp;question_type&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;question_id&nbsp;str:&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;question_text&nbsp;str:&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.&nbsp;Args:&nbsp;None&nbsp;Returns:&nbsp;TupleListDict,&nbsp;ListDict:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>,&nbsp;re.sub,&nbsp;.join,&nbsp;element.strip,&nbsp;&nbsp;,&nbsp;set,&nbsp;input_str.split,&nbsp;re.subs</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>response.strip,&nbsp;list_to_update.append</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>n.join,&nbsp;logging.info,&nbsp;logger.error,&nbsp;self.llm,&nbsp;self.prompt.format,&nbsp;iteminstruction.startswith,&nbsp;any</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;process_question&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>info.get,&nbsp;self.clean_and_get_unique_elements,&nbsp;self.get_response_from_llm,&nbsp;strresponse.strip,&nbsp;str,&nbsp;question_id.endswith,&nbsp;self.instruct_list.append</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;get_string_from_info&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>,&nbsp;item.strip,&nbsp;strinfoitem_type.split,&nbsp;.join,&nbsp;str</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;process_question_type&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>,&nbsp;self.clean_and_get_unique_elements,&nbsp;len,&nbsp;self.file_detailsclasses.items,&nbsp;question_text.format,&nbsp;self.process_question,&nbsp;self.file_detailsself.question_mappingquestion_type.items,&nbsp;self.get_string_from_info,&nbsp;.join,&nbsp;key.startswith,&nbsp;class_info.items</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self.process_question_type</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>,&nbsp;.joincleaned_elements</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>list_to_update</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>response</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;get_string_from_info&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>,&nbsp;.joinitems</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self.instruct_list</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;given&nbsp;Python&nbsp;file.&nbsp;It&nbsp;provides&nbsp;a&nbsp;`DatasetGenerator`&nbsp;class&nbsp;that&nbsp;accepts&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.&nbsp;The&nbsp;`clean_and_get_unique_elements`,&nbsp;`add_to_list`,&nbsp;`get_response_from_llm`,&nbsp;`process_question`,&nbsp;and&nbsp;`generate`&nbsp;methods&nbsp;are&nbsp;provided&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string,&nbsp;add&nbsp;a&nbsp;response&nbsp;to&nbsp;the&nbsp;list,&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model,&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method,&nbsp;and&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list&nbsp;respectively.&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;creates&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input&nbsp;and&nbsp;generates&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.&nbsp;<br/><br/>Functions:<br/>1.&nbsp;get_python_datasets:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Takes&nbsp;in&nbsp;the&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;b.&nbsp;Creates&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;c.&nbsp;Generates&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;d.&nbsp;Returns&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/><br/>Class:&nbsp;DatasetGenerator<br/>1.&nbsp;__init__:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Initializes&nbsp;and&nbsp;stores&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>2.&nbsp;clean_and_get_unique_elements:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>3.&nbsp;add_to_list:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Adds&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>4.&nbsp;get_response_from_llm:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Retrieves&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>5.&nbsp;process_question:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Processes&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;`instruct_list`.<br/>6.&nbsp;process_question_type:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>7.&nbsp;generate:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Generates&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;returns&nbsp;the&nbsp;`instruct_list`.<br/><br/>Attributes&nbsp;of&nbsp;DatasetGenerator:<br/>1.&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>2.&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>3.&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>4.&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>5.&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>6.&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>7.&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>8.&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>9.&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/><br/>Methods&nbsp;of&nbsp;DatasetGenerator:<br/>1.&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>2.&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>3.&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Retrieves&nbsp;a&nbsp;language&nbsp;model&nbsp;response&nbsp;for&nbsp;the&nbsp;given&nbsp;query&nbsp;and&nbsp;context.<br/>4.&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict):&nbsp;Generate&nbsp;an&nbsp;output&nbsp;string&nbsp;and&nbsp;store&nbsp;in&nbsp;instruct&nbsp;list&nbsp;for&nbsp;specific&nbsp;input&nbsp;file&nbsp;elements&nbsp;and&nbsp;llm&nbsp;use&nbsp;if&nbsp;enabled.&nbsp;<br/>5.&nbsp;get_string_from_info(self,&nbsp;info,&nbsp;item_type)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;comma-separated&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements&nbsp;from&nbsp;the&nbsp;provided&nbsp;dictionary.<br/>6.&nbsp;process_question_type(self,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str):&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;or&nbsp;class&nbsp;attributes&nbsp;and&nbsp;generate&nbsp;responses.<br/>7.&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>re,&nbsp;json,&nbsp;logging,&nbsp;typing,&nbsp;ast,&nbsp;networkx</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;CodeVisitor&#x27;,&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;G.add_node&#x27;,&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;list&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;function_details_lookup.keys&#x27;,&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;ast.get_docstring&#x27;,&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&quot;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend&quot;,&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;any&#x27;,&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;class_defs.append&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;{ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;base&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.get_docstring&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;decorator&#x27;,&nbsp;&#x27;ast.Name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;attributes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;any&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self.classes.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;subnode&#x27;,&nbsp;&#x27;ast.ImportFrom&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_defs.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;,&nbsp;&#x27;ast.Call&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;arg&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;get_all_calls(child)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_def&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G.nodes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;qualified_method_name&#x27;,&nbsp;&quot;details[&#x27;calls&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;set(target_details.get(&#x27;returns&#x27;,&nbsp;[]))&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;class_def.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;called&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;tree&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}&quot;,&nbsp;&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;\&#x27;&quot;\&#x27;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;]}]}</td></tr><tr><td>What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>get_python_file_details,&nbsp;code_graph,&nbsp;add_edges_for_calls,&nbsp;get_all_calls,&nbsp;get_edge_data_from_details,&nbsp;add_edge_with_data</td></tr><tr><td>What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>CodeVisitor</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>file_summary</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target_details,&nbsp;source_details,&nbsp;target</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>init_method,&nbsp;source,&nbsp;target</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>calls,&nbsp;source_name</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_path</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;node.&nbsp;Args:&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.&nbsp;Returns:&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;node.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>str:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.&nbsp;Returns:&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.,&nbsp;UnionDict,&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.&nbsp;Args:&nbsp;file_summary:&nbsp;Dictstr</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.&nbsp;Args:&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;Returns:&nbsp;Dictstr,&nbsp;UnionDict,&nbsp;str:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls.update,&nbsp;get_all_calls,&nbsp;isinstance,&nbsp;ast.iter_child_nodes,&nbsp;ast.unparse</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>function_details_lookup.keys,&nbsp;class_detailsmethod_defs.items,&nbsp;class_method_details_lookup.items,&nbsp;set,&nbsp;nx.DiGraph,&nbsp;G.add_edge,&nbsp;target_details.get,&nbsp;G.edges.data,&nbsp;class_def.keys,&nbsp;function_details_lookup.items,&nbsp;function_details_lookup.update,&nbsp;list,&nbsp;called.split,&nbsp;source_name.split,&nbsp;function_details_lookup.get,&nbsp;called.startswith,&nbsp;get_edge_data_from_details,&nbsp;add_edge_with_data,&nbsp;class_method_details_lookup.get,&nbsp;Gsourcetarget.update,&nbsp;G.add_node,&nbsp;class_def.items,&nbsp;add_edges_for_calls,&nbsp;called.replace</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target_details.get,&nbsp;set,&nbsp;list</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>G.add_edge,&nbsp;class_method_details_lookup.get,&nbsp;get_edge_data_from_details,&nbsp;function_details_lookup.get</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>called.split,&nbsp;source_name.split,&nbsp;class_def.keys,&nbsp;called.startswith,&nbsp;add_edge_with_data,&nbsp;G.add_node,&nbsp;list,&nbsp;called.replace</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>ast.parse,&nbsp;code_graph,&nbsp;json.dumpsfile_detailsfile_infofile_summary.replace,&nbsp;json.dumps,&nbsp;CodeVisitor,&nbsp;open,&nbsp;f.read,&nbsp;visitor.analyze,&nbsp;logging.warning</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>method_name,&nbsp;function_details_lookup,&nbsp;edge_data,&nbsp;class_method_details_lookup,&nbsp;target_details,&nbsp;qualified_method_name,&nbsp;edges,&nbsp;nodes,&nbsp;fully_qualified_name,&nbsp;init_method_name,&nbsp;class_names,&nbsp;called_class_name,&nbsp;init_method,&nbsp;source_details,&nbsp;G</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>target_details,&nbsp;source_details</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>method_name,&nbsp;init_method_name,&nbsp;fully_qualified_name,&nbsp;class_names,&nbsp;called_class_name,&nbsp;init_method</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>code,&nbsp;file_details,&nbsp;visitor,&nbsp;tree</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>edges:&nbsp;edges,&nbsp;edge_data,&nbsp;nodes:&nbsp;nodes</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_details,&nbsp;None</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>analyze,&nbsp;extract_details,&nbsp;visit_FunctionDef,&nbsp;visit_ClassDef</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;Abstract&nbsp;Syntax&nbsp;Tree&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.&nbsp;Attributes:&nbsp;code&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.&nbsp;functionsDict:&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.&nbsp;classes&nbsp;Dict:&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.&nbsp;file_info&nbsp;Dict:&nbsp;details&nbsp;about&nbsp;the&nbsp;file.&nbsp;Methods:&nbsp;visit_FunctionDefnode:&nbsp;ast.FunctionDef&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.&nbsp;visit_ClassDefnode:&nbsp;ast.ClassDef&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.&nbsp;extract_detailsnode:&nbsp;ast.AST,&nbsp;Liststr:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.&nbsp;analyzenode:&nbsp;ast.AST&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.,&nbsp;node_type:&nbsp;str&nbsp;-&gt;&nbsp;Dictstr,&nbsp;Unionstr</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>file_info,&nbsp;current_class</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>method_defs,&nbsp;node_walk,&nbsp;function_defs,&nbsp;call_data,&nbsp;class_defs,&nbsp;attributes,&nbsp;details</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>ast.NodeVisitor</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>code,&nbsp;self</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>self,&nbsp;node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>self,&nbsp;node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>self,&nbsp;node_type,&nbsp;node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>self,&nbsp;node</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.&nbsp;Args:&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.&nbsp;Args:&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.&nbsp;Args:&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>Liststr:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.,&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.&nbsp;Args:&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.&nbsp;Returns:&nbsp;Dictstr,&nbsp;Unionstr</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;node,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;file_info&nbsp;with&nbsp;file&nbsp;details&nbsp;Args:&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>call_data.keys,&nbsp;any,&nbsp;ast.get_docstring,&nbsp;self.classesself.current_classclass_attributes.extend,&nbsp;set,&nbsp;get_all_calls,&nbsp;isinstance,&nbsp;ast.walk,&nbsp;list,&nbsp;ast.unparse,&nbsp;ast.dump,&nbsp;details.update</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>class_defs.append,&nbsp;method_name.startswith,&nbsp;len,&nbsp;self.functions.keys,&nbsp;class_details.items,&nbsp;self.classes.keys,&nbsp;self.classes.items,&nbsp;isinstance,&nbsp;ast.walk,&nbsp;self.functions.items,&nbsp;list,&nbsp;self.visit,&nbsp;ast.dump</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>details</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>1.&nbsp;The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;given&nbsp;Python&nbsp;file&nbsp;using&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree),&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph,&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.&nbsp;It&nbsp;provides&nbsp;functions&nbsp;for&nbsp;getting&nbsp;all&nbsp;calls&nbsp;in&nbsp;an&nbsp;AST&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;a&nbsp;specified&nbsp;node,&nbsp;class&nbsp;and&nbsp;function&nbsp;definition&nbsp;analysis&nbsp;with&nbsp;associated&nbsp;methods&nbsp;such&nbsp;as&nbsp;getting&nbsp;their&nbsp;attributes&nbsp;and&nbsp;call&nbsp;details,&nbsp;extracting&nbsp;summaries&nbsp;from&nbsp;a&nbsp;file&nbsp;using&nbsp;CodeVisitor&nbsp;class,&nbsp;creating&nbsp;a&nbsp;comprehensive&nbsp;code&nbsp;graph&nbsp;representing&nbsp;relationships&nbsp;between&nbsp;nodes&nbsp;(functions,&nbsp;classes,&nbsp;etc.),&nbsp;and&nbsp;extracting&nbsp;file-level&nbsp;information.&nbsp;<br/>2.&nbsp;Functions:&nbsp;get_all_calls&nbsp;-&nbsp;This&nbsp;function&nbsp;recursively&nbsp;finds&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;a&nbsp;specified&nbsp;node;&nbsp;CodeVisitor&nbsp;-&nbsp;Extracts&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;in&nbsp;a&nbsp;Python&nbsp;file&nbsp;using&nbsp;AST;&nbsp;code_graph&nbsp;-&nbsp;Creates&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;in&nbsp;a&nbsp;code&nbsp;graph&nbsp;based&nbsp;on&nbsp;function/class/method&nbsp;call&nbsp;relationships,&nbsp;returns&nbsp;comprehensive&nbsp;information&nbsp;on&nbsp;file&nbsp;level;&nbsp;get_python_file_details&nbsp;-&nbsp;This&nbsp;function&nbsp;takes&nbsp;in&nbsp;a&nbsp;file&nbsp;path,&nbsp;extracts&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;CodeVisitor&nbsp;class&nbsp;and&nbsp;includes&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>3.&nbsp;Input:&nbsp;<br/>-&nbsp;get_all_calls(node):&nbsp;Accepts&nbsp;an&nbsp;AST&nbsp;node&nbsp;as&nbsp;input&nbsp;and&nbsp;recursively&nbsp;finds&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;its&nbsp;subtree.<br/>-&nbsp;CodeVisitor(code):&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class&nbsp;with&nbsp;source&nbsp;code,&nbsp;visits&nbsp;functions&nbsp;and&nbsp;classes&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;them,&nbsp;and&nbsp;stores&nbsp;their&nbsp;attributes/properties,&nbsp;such&nbsp;as&nbsp;function&nbsp;name,&nbsp;definition,&nbsp;docstring,&nbsp;inputs,&nbsp;return&nbsp;types,&nbsp;annotations,&nbsp;call_inputs,&nbsp;and&nbsp;defaults&nbsp;in&nbsp;dictionaries.<br/>-&nbsp;analyze(node):&nbsp;Traverses&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;&nbsp;and&nbsp;populates&nbsp;file_info&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.&nbsp;<br/>-&nbsp;code_graph(file_summary):&nbsp;Accepts&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;file&nbsp;summary&nbsp;information&nbsp;(e.g.,&nbsp;dependencies,&nbsp;function&nbsp;names,&nbsp;class&nbsp;names)&nbsp;and&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;in&nbsp;the&nbsp;code&nbsp;graph,&nbsp;indicating&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>-&nbsp;get_python_file_details(file_path):&nbsp;Extracts&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;AST&nbsp;and&nbsp;the&nbsp;CodeVisitor&nbsp;class,&nbsp;including&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph.</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets&nbsp;that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;extract_python_data&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;base&nbsp;name,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_file_details&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;Python&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;If&nbsp;the&nbsp;use_llm&nbsp;parameter&nbsp;is&nbsp;True,&nbsp;instantiate&nbsp;the&nbsp;LLM&nbsp;using&nbsp;the&nbsp;&#x27;get_model&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_datasets&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>[req01]&nbsp;The&nbsp;process_python_directories&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Search&nbsp;for&nbsp;all&nbsp;Python&nbsp;files&nbsp;within&nbsp;the&nbsp;given&nbsp;directory&nbsp;and&nbsp;its&nbsp;subdirectories&nbsp;using&nbsp;a&nbsp;glob&nbsp;pattern.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;call&nbsp;the&nbsp;extract_python_data&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;For&nbsp;valid&nbsp;Python&nbsp;file&nbsp;datasets,&nbsp;call&nbsp;the&nbsp;save_python_data&nbsp;function&nbsp;to&nbsp;save&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together&nbsp;using&nbsp;the&nbsp;&#x27;combine_json_files&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;combined&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;questions&nbsp;pathname,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;quiet&nbsp;mode,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;starting&nbsp;directory&nbsp;based&nbsp;on&nbsp;provided&nbsp;or&nbsp;default&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Adjust&nbsp;the&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;the&nbsp;quiet&nbsp;flag.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Call&nbsp;the&nbsp;process_python_directories&nbsp;function&nbsp;to&nbsp;process&nbsp;the&nbsp;Python&nbsp;files&nbsp;and&nbsp;generate&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;datasets.<br/>[req03]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;parameters&nbsp;for&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;based&nbsp;on&nbsp;the&nbsp;processed&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;with&nbsp;the&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;gc<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple,&nbsp;Union<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;None,&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/><br/>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#do&nbsp;this&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;aviod&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;and&nbsp;save&nbsp;file_details&nbsp;and&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/><br/>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;&nbsp;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;&#x27;datasets&#x27;&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--use_llm&nbsp;(bool,&nbsp;optional):&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()</td><td>get_python_file_details,&nbsp;logging,&nbsp;os,&nbsp;sys,&nbsp;get_python_datasets,&nbsp;typing,&nbsp;multiprocessing,&nbsp;save_py2dataset_output,&nbsp;pathlib,&nbsp;gc,&nbsp;get_py2dataset_params</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets&nbsp;that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;extract_python_data&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;base&nbsp;name,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_file_details&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;Python&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;If&nbsp;the&nbsp;use_llm&nbsp;parameter&nbsp;is&nbsp;True,&nbsp;instantiate&nbsp;the&nbsp;LLM&nbsp;using&nbsp;the&nbsp;&#x27;get_model&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_datasets&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>[req01]&nbsp;The&nbsp;process_python_directories&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Search&nbsp;for&nbsp;all&nbsp;Python&nbsp;files&nbsp;within&nbsp;the&nbsp;given&nbsp;directory&nbsp;and&nbsp;its&nbsp;subdirectories&nbsp;using&nbsp;a&nbsp;glob&nbsp;pattern.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;call&nbsp;the&nbsp;extract_python_data&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;For&nbsp;valid&nbsp;Python&nbsp;file&nbsp;datasets,&nbsp;call&nbsp;the&nbsp;save_python_data&nbsp;function&nbsp;to&nbsp;save&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together&nbsp;using&nbsp;the&nbsp;&#x27;combine_json_files&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;combined&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;questions&nbsp;pathname,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;quiet&nbsp;mode,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;starting&nbsp;directory&nbsp;based&nbsp;on&nbsp;provided&nbsp;or&nbsp;default&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Adjust&nbsp;the&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;the&nbsp;quiet&nbsp;flag.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Call&nbsp;the&nbsp;process_python_directories&nbsp;function&nbsp;to&nbsp;process&nbsp;the&nbsp;Python&nbsp;files&nbsp;and&nbsp;generate&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;datasets.<br/>[req03]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;parameters&nbsp;for&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;based&nbsp;on&nbsp;the&nbsp;processed&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;with&nbsp;the&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;gc<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple,&nbsp;Union<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;None,&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/><br/>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#do&nbsp;this&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;aviod&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;and&nbsp;save&nbsp;file_details&nbsp;and&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/><br/>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;&nbsp;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;&#x27;datasets&#x27;&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--use_llm&nbsp;(bool,&nbsp;optional):&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()</td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;extract_python_data&#x27;,&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;main&#x27;,&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;pythonfile_path.relative_to&#x27;,&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;Path(start_dir).rglob&#x27;,&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;pythonfile_path.is_dir&#x27;,&nbsp;&#x27;Process&#x27;,&nbsp;&#x27;proc.start&#x27;,&nbsp;&#x27;proc.join&#x27;,&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;logging.getLogger().setLevel&#x27;,&nbsp;&#x27;logging.getLogger&#x27;,&nbsp;&#x27;sys.setrecursionlimit&#x27;,&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;get_questions&#x27;,&nbsp;&quot;&#x27;&nbsp;&#x27;.join&quot;,&nbsp;&quot;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;arg_string.split&#x27;,&nbsp;&#x27;arg_string.replace&#x27;,&nbsp;&quot;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&quot;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split&quot;,&nbsp;&quot;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split&quot;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;extract_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;extract_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_details&#x27;,&nbsp;&#x27;tuple&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;extract_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;llm&#x27;,&nbsp;&#x27;prompt&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;pythonfile_path.relative_to&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;model_config_pathname&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;extract_python_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;pythonfile_path&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;llm&#x27;,&nbsp;&#x27;prompt&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;(file_details,&nbsp;instruct_list)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_details&#x27;,&nbsp;&#x27;tuple&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_details&#x27;,&nbsp;&#x27;instruct_list&#x27;,&nbsp;&#x27;relative_path&#x27;,&nbsp;&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(start_dir).rglob&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;[!_]*.py&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;pythonfile_path.is_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Process&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;proc.start&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;proc.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.getLogger().setLevel&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;logging.INFO&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.getLogger&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;sys.setrecursionlimit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;3000&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;questions_pathname&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;process_python_directories&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;,&nbsp;&#x27;output_dir&#x27;,&nbsp;&#x27;model_config_pathname&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;use_llm&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;datasets&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;sys.argv[1:]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;arg_string.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;--questions_pathname&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;arg_string.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;--quiet&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;,&nbsp;&#x27;output_dir&#x27;,&nbsp;&#x27;questions_pathname&#x27;,&nbsp;&#x27;model_config_pathname&#x27;,&nbsp;&#x27;use_llm&#x27;,&nbsp;&#x27;quiet&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;datasets&#x27;]}]}</td></tr><tr><td>What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets&nbsp;that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;extract_python_data&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;base&nbsp;name,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_file_details&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;Python&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;If&nbsp;the&nbsp;use_llm&nbsp;parameter&nbsp;is&nbsp;True,&nbsp;instantiate&nbsp;the&nbsp;LLM&nbsp;using&nbsp;the&nbsp;&#x27;get_model&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_datasets&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>[req01]&nbsp;The&nbsp;process_python_directories&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Search&nbsp;for&nbsp;all&nbsp;Python&nbsp;files&nbsp;within&nbsp;the&nbsp;given&nbsp;directory&nbsp;and&nbsp;its&nbsp;subdirectories&nbsp;using&nbsp;a&nbsp;glob&nbsp;pattern.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;call&nbsp;the&nbsp;extract_python_data&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;For&nbsp;valid&nbsp;Python&nbsp;file&nbsp;datasets,&nbsp;call&nbsp;the&nbsp;save_python_data&nbsp;function&nbsp;to&nbsp;save&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together&nbsp;using&nbsp;the&nbsp;&#x27;combine_json_files&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;combined&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;questions&nbsp;pathname,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;quiet&nbsp;mode,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;starting&nbsp;directory&nbsp;based&nbsp;on&nbsp;provided&nbsp;or&nbsp;default&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Adjust&nbsp;the&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;the&nbsp;quiet&nbsp;flag.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Call&nbsp;the&nbsp;process_python_directories&nbsp;function&nbsp;to&nbsp;process&nbsp;the&nbsp;Python&nbsp;files&nbsp;and&nbsp;generate&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;datasets.<br/>[req03]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;parameters&nbsp;for&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;based&nbsp;on&nbsp;the&nbsp;processed&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;with&nbsp;the&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;gc<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple,&nbsp;Union<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;None,&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/><br/>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#do&nbsp;this&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;aviod&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;and&nbsp;save&nbsp;file_details&nbsp;and&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/><br/>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;&nbsp;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;&#x27;datasets&#x27;&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--use_llm&nbsp;(bool,&nbsp;optional):&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()</td><td>process_python_directories,&nbsp;py2dataset,&nbsp;main,&nbsp;extract_python_data,&nbsp;process_single_file</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;extract_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;(None,&nbsp;None)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)</td><td>llm,&nbsp;base_name,&nbsp;questions,&nbsp;file_path,&nbsp;prompt</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;process_single_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>model_config_pathname,&nbsp;output_dir,&nbsp;pythonfile_path,&nbsp;questions,&nbsp;start_dir,&nbsp;use_llm</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;process_python_directories&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>model_config_pathname,&nbsp;output_dir,&nbsp;questions,&nbsp;start_dir,&nbsp;use_llm</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;py2dataset&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>model_config_pathname,&nbsp;output_dir,&nbsp;quiet,&nbsp;questions_pathname,&nbsp;start_dir,&nbsp;use_llm</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;extract_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;(None,&nbsp;None)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)</td><td>ListDict:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.&nbsp;prompt&nbsp;str:&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.&nbsp;Returns:&nbsp;TupleUnionDict,&nbsp;Tuple,&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.&nbsp;Args:&nbsp;file_path&nbsp;str:&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;base_name&nbsp;str:&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.&nbsp;questions&nbsp;Dict:&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.&nbsp;llm&nbsp;object:&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;instruct.json&nbsp;dataset.,&nbsp;ListDict</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;process_single_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.&nbsp;Args:&nbsp;pythonfile_path&nbsp;str:&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;start_dir&nbsp;str:&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;model_config_pathname&nbsp;str:&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;questions&nbsp;Dict:&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.&nbsp;use_llm&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;output_dir&nbsp;str:&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Returns:&nbsp;none</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;process_python_directories&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..&nbsp;Returns:&nbsp;Dictstr,&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.&nbsp;Args:&nbsp;start_dir&nbsp;str:&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;output_dir&nbsp;str:&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;model_config_pathname&nbsp;str:&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;questions&nbsp;Dict:&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.&nbsp;use_llm&nbsp;bool:&nbsp;If&nbsp;True,&nbsp;ListDict:&nbsp;Datasets&nbsp;dictionary.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;py2dataset&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>optional:&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;model_config_pathname&nbsp;str,&nbsp;optional:&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.&nbsp;output_dir&nbsp;str,&nbsp;optional:&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;use_llm&nbsp;bool,&nbsp;optional:&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Returns:&nbsp;Dictstr,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;quiet&nbsp;bool,&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.&nbsp;Args:&nbsp;start_dir&nbsp;str,&nbsp;optional:&nbsp;If&nbsp;True,&nbsp;ListDict:&nbsp;Datasets&nbsp;dictionary.,&nbsp;optional:&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;questions_pathname&nbsp;str</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;main&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;&#x27;datasets&#x27;&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--use_llm&nbsp;(bool,&nbsp;optional):&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet)</td><td>defaults&nbsp;defined&nbsp;in&nbsp;get_py2dataset_params.py&nbsp;will&nbsp;be&nbsp;used.&nbsp;--use_llm&nbsp;bool,&nbsp;optional:&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;optional:&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;optional:&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.&nbsp;--output_dir&nbsp;str,&nbsp;optional:&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;datasets&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.&nbsp;--questions_pathname&nbsp;str,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.,&nbsp;optional:&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;--quiet&nbsp;bool,&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.&nbsp;Args:&nbsp;--start_dir&nbsp;str,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;get_py2dataset_params.py&nbsp;will&nbsp;be&nbsp;used.&nbsp;--model_config_pathname&nbsp;str,&nbsp;optional:&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;extract_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;(None,&nbsp;None)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)</td><td>isinstance,&nbsp;get_python_datasets,&nbsp;get_python_file_details</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;process_single_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>save_python_data,&nbsp;pythonfile_path.relative_to,&nbsp;isinstance,&nbsp;logging.info,&nbsp;get_model,&nbsp;extract_python_data,&nbsp;..join</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;process_python_directories&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>combine_json_files,&nbsp;pythonfile_path.is_dir,&nbsp;proc.start,&nbsp;Pathstart_dir.rglob,&nbsp;Process,&nbsp;proc.join,&nbsp;Path</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;py2dataset&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>get_questions,&nbsp;logging.getLogger,&nbsp;os.path.abspath,&nbsp;process_python_directories,&nbsp;logging.getLogger.setLevel,&nbsp;logging.info,&nbsp;sys.setrecursionlimit,&nbsp;os.getcwd,&nbsp;get_output_dir</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;main&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;&#x27;datasets&#x27;&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--use_llm&nbsp;(bool,&nbsp;optional):&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet)</td><td>arg_string.replace,&nbsp;arg_string.split--start_dir&nbsp;1.split,&nbsp;arg_string.split--model_config_pathname&nbsp;1.split,&nbsp;arg_string.split--questions_pathname&nbsp;1.split,&nbsp;arg_string.split--output_dir&nbsp;1.split,&nbsp;py2dataset,&nbsp;arg_string.split,&nbsp;&nbsp;.join</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;extract_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;(None,&nbsp;None)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)</td><td>file_details,&nbsp;instruct_list</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;process_single_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>base_name,&nbsp;relative_path</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;process_python_directories&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>datasets,&nbsp;proc</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;py2dataset&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>questions,&nbsp;output_dir,&nbsp;start_dir,&nbsp;datasets</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;main&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;&#x27;datasets&#x27;&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--use_llm&nbsp;(bool,&nbsp;optional):&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet)</td><td>model_config_pathname,&nbsp;output_dir,&nbsp;quiet,&nbsp;arg_string,&nbsp;questions_pathname,&nbsp;start_dir,&nbsp;use_llm</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;extract_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;(None,&nbsp;None)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(file_details,&nbsp;instruct_list)</td><td>file_details,&nbsp;instruct_list</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;process_python_directories&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>datasets</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;py2dataset&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py&#x27;?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>datasets</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.py2dataset.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets&nbsp;that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;extract_python_data&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;base&nbsp;name,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_file_details&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;Python&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;If&nbsp;the&nbsp;use_llm&nbsp;parameter&nbsp;is&nbsp;True,&nbsp;instantiate&nbsp;the&nbsp;LLM&nbsp;using&nbsp;the&nbsp;&#x27;get_model&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;the&nbsp;&#x27;get_python_datasets&#x27;&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>[req01]&nbsp;The&nbsp;process_python_directories&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Search&nbsp;for&nbsp;all&nbsp;Python&nbsp;files&nbsp;within&nbsp;the&nbsp;given&nbsp;directory&nbsp;and&nbsp;its&nbsp;subdirectories&nbsp;using&nbsp;a&nbsp;glob&nbsp;pattern.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;call&nbsp;the&nbsp;extract_python_data&nbsp;function&nbsp;to&nbsp;get&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;For&nbsp;valid&nbsp;Python&nbsp;file&nbsp;datasets,&nbsp;call&nbsp;the&nbsp;save_python_data&nbsp;function&nbsp;to&nbsp;save&nbsp;the&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together&nbsp;using&nbsp;the&nbsp;&#x27;combine_json_files&#x27;&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;combined&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;the&nbsp;starting&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;questions&nbsp;pathname,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;quiet&nbsp;mode,&nbsp;and&nbsp;use&nbsp;of&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;starting&nbsp;directory&nbsp;based&nbsp;on&nbsp;provided&nbsp;or&nbsp;default&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Adjust&nbsp;the&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;the&nbsp;quiet&nbsp;flag.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Call&nbsp;the&nbsp;process_python_directories&nbsp;function&nbsp;to&nbsp;process&nbsp;the&nbsp;Python&nbsp;files&nbsp;and&nbsp;generate&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;the&nbsp;datasets.<br/>[req03]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;the&nbsp;parameters&nbsp;for&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;based&nbsp;on&nbsp;the&nbsp;processed&nbsp;command-line&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;the&nbsp;py2dataset&nbsp;function&nbsp;with&nbsp;the&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;gc<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple,&nbsp;Union<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;extract_python_data(file_path:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extracts&nbsp;data&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;Base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;object.&nbsp;If&nbsp;None,&nbsp;use&nbsp;the&nbsp;default&nbsp;prompt.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;Prompt&nbsp;to&nbsp;use&nbsp;for&nbsp;the&nbsp;Large&nbsp;Language&nbsp;Model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[Union[Dict,&nbsp;Tuple],&nbsp;List[Dict],&nbsp;List[Dict]]:&nbsp;File&nbsp;details&nbsp;dictionary&nbsp;or&nbsp;tuple&nbsp;of&nbsp;file&nbsp;details&nbsp;and&nbsp;None,&nbsp;instruct.json&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;None,&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details,&nbsp;instruct_list<br/><br/><br/>def&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#do&nbsp;this&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;aviod&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;llm,&nbsp;prompt&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;and&nbsp;save&nbsp;file_details&nbsp;and&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details,&nbsp;instruct_list&nbsp;=&nbsp;extract_python_data(pythonfile_path,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/><br/>def&nbsp;process_python_directories(start_dir:&nbsp;str,&nbsp;output_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;and&nbsp;subdirectories.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;each&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;LLM&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;for&nbsp;JSON..<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;start_dir&nbsp;==&nbsp;&#x27;&#x27;&nbsp;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;process_python_directories(start_dir,&nbsp;output_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;the&nbsp;&#x27;datasets&#x27;&nbsp;directory&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.&nbsp;If&nbsp;not&nbsp;provided,&nbsp;defaults&nbsp;defined&nbsp;in&nbsp;&#x27;get_py2dataset_params.py&#x27;&nbsp;will&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--use_llm&nbsp;(bool,&nbsp;optional):&nbsp;Use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;--quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;If&nbsp;provided,&nbsp;only&nbsp;warnings&nbsp;and&nbsp;errors&nbsp;will&nbsp;be&nbsp;logged.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()</td><td>##&nbsp;Function&nbsp;and&nbsp;class&nbsp;details</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;sys<br/>import&nbsp;os<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Union<br/><br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)<br/><br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;as&nbsp;follow&nbsp;for&nbsp;each&nbsp;item&nbsp;in&nbsp;the&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)<br/></td><td>sys,&nbsp;networkx,&nbsp;os,&nbsp;json,&nbsp;matplotlib.pyplot,&nbsp;html,&nbsp;re,&nbsp;yaml,&nbsp;typing,&nbsp;logging,&nbsp;pathlib</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;sys<br/>import&nbsp;os<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Union<br/><br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)<br/><br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;as&nbsp;follow&nbsp;for&nbsp;each&nbsp;item&nbsp;in&nbsp;the&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;read_file&#x27;,&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;file_path.open&#x27;,&nbsp;&#x27;json.load&#x27;,&nbsp;&#x27;yaml.load&#x27;,&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;yaml.dump&#x27;,&nbsp;&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace&quot;,&nbsp;&#x27;text.replace&#x27;,&nbsp;&#x27;Path(directory).rglob&#x27;,&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;json_file.with_suffix&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;dataset[0].keys&#x27;,&nbsp;&#x27;escape&#x27;,&nbsp;&#x27;str&#x27;,&nbsp;&#x27;value.replace&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;file.write&#x27;,&nbsp;&#x27;logging.save&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;seen.add&#x27;,&nbsp;&#x27;result.append&#x27;,&nbsp;&#x27;combined_data.extend&#x27;,&nbsp;&#x27;combined_data.copy&#x27;,&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;code_output.append&#x27;,&nbsp;&#x27;graph_output.append&#x27;,&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;G.add_nodes_from&#x27;,&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;edge.items&#x27;,&nbsp;&#x27;plt.figure&#x27;,&nbsp;&#x27;nx.spring_layout&#x27;,&nbsp;&#x27;nx.draw&#x27;,&nbsp;&#x27;G.edges&#x27;,&nbsp;&#x27;label.append&#x27;,&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;nx.draw_networkx_edge_labels&#x27;,&nbsp;&#x27;plt.savefig&#x27;,&nbsp;&#x27;plt.close&#x27;,&nbsp;&#x27;output_subdir.mkdir&#x27;,&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;zip&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;file_path.open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;file_path.open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;data&#x27;,&nbsp;&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;data&#x27;,&nbsp;&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\t&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;text.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(directory).rglob&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;*.json&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;directory&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;json_file&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;json.load(f)&#x27;,&nbsp;&#x27;yaml.load(f)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json_file.with_suffix&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.html&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;dataset[0].keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;dataset[0].keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;escape&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;str(entry[key])&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;entry[key]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;value&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;value.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\n&#x27;&quot;,&nbsp;&quot;&#x27;&lt;br/&gt;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;html_file_path&#x27;,&nbsp;&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;file.write&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;html_content&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.save&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\t&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;text.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;seen.add&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(item[key1],&nbsp;item[key2])&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;result.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;item&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;directory&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(directory).rglob&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;*.{file_name}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;json_file&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;json.load(f)&#x27;,&nbsp;&#x27;yaml.load(f)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;combined_data.extend&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;json_file_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;combined_data&#x27;,&nbsp;&quot;&#x27;instruction&#x27;&quot;,&nbsp;&quot;&#x27;output&#x27;&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;result&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;combined_data.copy&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;code_output.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;graph_output.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;combined_data&#x27;,&nbsp;&#x27;file_path&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;directory&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;seen.add&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(item[key1],&nbsp;item[key2])&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;result.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;item&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_nodes_from&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;]&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;edge.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;plt.figure&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.spring_layout&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.draw&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G&#x27;,&nbsp;&#x27;pos&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.edges&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;label.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&quot;\\nReturns:&nbsp;{\&#x27;,&nbsp;\&#x27;.join(edge[2][\&#x27;target_returns\&#x27;])}&quot;&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;edge[2][&#x27;target_returns&#x27;]&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;label&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.draw_networkx_edge_labels&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G&#x27;,&nbsp;&#x27;pos&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;plt.savefig&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_file&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;plt.close&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;output_subdir.mkdir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;zip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_names&#x27;,&nbsp;&#x27;contents&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;content&#x27;,&nbsp;&#x27;output_subdir&nbsp;/&nbsp;file_name&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;output_subdir&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;&quot;]}]}</td></tr><tr><td>What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;sys<br/>import&nbsp;os<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Union<br/><br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)<br/><br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;as&nbsp;follow&nbsp;for&nbsp;each&nbsp;item&nbsp;in&nbsp;the&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)<br/></td><td>convert_json_to_html,&nbsp;remove_duplicate_dataset_entries,&nbsp;read_file,&nbsp;preserve_spacing,&nbsp;save_python_data,&nbsp;write_file,&nbsp;combine_json_files,&nbsp;create_code_graph</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;read_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)</td><td>file_path</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;write_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>file_path,&nbsp;data</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;convert_json_to_html&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))</td><td>directory</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;preserve_spacing&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>text,&nbsp;tab_width</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;combine_json_files&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>directory</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>dataset,&nbsp;key2,&nbsp;key1</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;create_code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>output_subdir,&nbsp;base_name,&nbsp;file_details</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;save_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)</td><td>relative_path,&nbsp;output_dir,&nbsp;instruct_list,&nbsp;file_details</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;read_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)</td><td>Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.&nbsp;Args:&nbsp;file_path&nbsp;Path:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.&nbsp;Returns:&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;write_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;Args:&nbsp;data&nbsp;Dict:&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.&nbsp;file_path&nbsp;Path:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;convert_json_to_html&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))</td><td>Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.&nbsp;Args:&nbsp;directory&nbsp;str:&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;preserve_spacing&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;combine_json_files&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;instruct.json,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.&nbsp;Args:&nbsp;directory&nbsp;str:&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.&nbsp;Returns:&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;instruct_list&nbsp;datasets.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.&nbsp;Args:&nbsp;dataset&nbsp;ListDict:&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.&nbsp;key1&nbsp;str:&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.&nbsp;key2&nbsp;str:&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.&nbsp;Returns:&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;create_code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.&nbsp;Args:&nbsp;file_details&nbsp;dict:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.&nbsp;base_name&nbsp;str:&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.&nbsp;output_subdir&nbsp;Path:&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;save_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)</td><td>and&nbsp;code&nbsp;graphs.&nbsp;Args:&nbsp;file_details&nbsp;dict:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.&nbsp;instruct_list&nbsp;list:&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.&nbsp;relative_path&nbsp;Path:&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;output_dir&nbsp;str:&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.&nbsp;Returns:&nbsp;None,&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;read_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)</td><td>yaml.load,&nbsp;file_path.open,&nbsp;json.load</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;write_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>yaml.dump,&nbsp;file_path.open,&nbsp;json.dump</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;convert_json_to_html&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))</td><td>Pathdirectory.rglob,&nbsp;logging.info,&nbsp;dataset0.keys,&nbsp;len,&nbsp;Path,&nbsp;nbsp.replace,&nbsp;escape,&nbsp;text.replace,&nbsp;file.write,&nbsp;read_file,&nbsp;str,&nbsp;preserve_spacing,&nbsp;json_file.with_suffix,&nbsp;value.replace,&nbsp;text.replace&nbsp;,&nbsp;logging.save,&nbsp;open</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;preserve_spacing&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>text.replace&nbsp;,&nbsp;nbsp.replace,&nbsp;text.replace</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;combine_json_files&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>Pathdirectory.rglob,&nbsp;combined_data.copy,&nbsp;graph_output.append,&nbsp;convert_json_to_html,&nbsp;code_output.append,&nbsp;Path,&nbsp;remove_duplicate_dataset_entries,&nbsp;read_file,&nbsp;result.append,&nbsp;combined_data.extend,&nbsp;iteminstruction.startswith,&nbsp;seen.add,&nbsp;write_file,&nbsp;set</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>result.append,&nbsp;set,&nbsp;seen.add</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;create_code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>,&nbsp;G.add_nodes_from,&nbsp;n.join,&nbsp;label.append,&nbsp;G.add_edge,&nbsp;.join,&nbsp;nx.draw,&nbsp;plt.close,&nbsp;plt.savefig,&nbsp;nx.spring_layout,&nbsp;nx.DiGraph,&nbsp;G.edges,&nbsp;edge.items,&nbsp;nx.draw_networkx_edge_labels,&nbsp;plt.figure</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;save_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)</td><td>logging.info,&nbsp;Path,&nbsp;zip,&nbsp;write_file,&nbsp;create_code_graph,&nbsp;output_subdir.mkdir,&nbsp;..join</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;read_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)</td><td>file_type</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;write_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>file_type</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;convert_json_to_html&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))</td><td>column_width,&nbsp;html_content,&nbsp;html_file,&nbsp;column_count,&nbsp;html_file_path,&nbsp;value,&nbsp;dataset</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;combine_json_files&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>purpose_data,&nbsp;graph_data,&nbsp;code_graph_output,&nbsp;instruct_data,&nbsp;graph_output,&nbsp;combined_data,&nbsp;result,&nbsp;seen,&nbsp;code_output,&nbsp;file_path,&nbsp;json_file_data</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>seen,&nbsp;result</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;create_code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>G,&nbsp;edge_labels,&nbsp;label,&nbsp;graph_type,&nbsp;output_file,&nbsp;pos</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;save_python_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)</td><td>output_subdir,&nbsp;file_names,&nbsp;contents,&nbsp;base_name</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;read_file&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)</td><td>json.loadf,&nbsp;yaml.loadf</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;convert_json_to_html&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))</td><td>text.replace&nbsp;,&nbsp;nbsp.replacet,&nbsp;nbsp&nbsp;&nbsp;tab_width</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;preserve_spacing&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>text.replace&nbsp;,&nbsp;nbsp.replacet,&nbsp;nbsp&nbsp;&nbsp;tab_width</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;combine_json_files&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>instruct_list:&nbsp;instruct_data,&nbsp;result</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py&#x27;?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>result</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.save_py2dataset_output.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;sys<br/>import&nbsp;os<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Union<br/><br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f)<br/><br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.save(logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;))<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;as&nbsp;follow&nbsp;for&nbsp;each&nbsp;item&nbsp;in&nbsp;the&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;Describe&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;],&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}&#x27;)<br/></td><td>The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;provide&nbsp;utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.&nbsp;It&nbsp;includes&nbsp;functions&nbsp;such&nbsp;as&nbsp;read_file(),&nbsp;write_file(),&nbsp;convert_json_to_html(),&nbsp;combine_json_files(),&nbsp;create_code_graph(),&nbsp;and&nbsp;save_python_data().&nbsp;The&nbsp;functions&nbsp;are&nbsp;used&nbsp;to&nbsp;read&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;files,&nbsp;convert&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format,&nbsp;merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;a&nbsp;given&nbsp;directory,&nbsp;remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files,&nbsp;write&nbsp;the&nbsp;data&nbsp;as&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;files,&nbsp;generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;provided&nbsp;file&nbsp;details,&nbsp;and&nbsp;save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/><br/>1.&nbsp;read_file()&nbsp;-&nbsp;This&nbsp;function&nbsp;reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.&nbsp;It&nbsp;takes&nbsp;in&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument&nbsp;and&nbsp;opens&nbsp;the&nbsp;file&nbsp;using&nbsp;the&nbsp;appropriate&nbsp;method&nbsp;(json.load()&nbsp;for&nbsp;JSON&nbsp;files&nbsp;and&nbsp;yaml.load()&nbsp;for&nbsp;YAML&nbsp;files)&nbsp;to&nbsp;load&nbsp;the&nbsp;data&nbsp;into&nbsp;a&nbsp;Python&nbsp;dictionary.<br/>2.&nbsp;write_file()&nbsp;-&nbsp;This&nbsp;function&nbsp;writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;It&nbsp;takes&nbsp;in&nbsp;two&nbsp;arguments,&nbsp;&quot;data&quot;&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;information&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;written&nbsp;and&nbsp;&quot;file_path&quot;&nbsp;as&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;output&nbsp;file.&nbsp;The&nbsp;appropriate&nbsp;method&nbsp;(json.dump()&nbsp;for&nbsp;JSON&nbsp;files&nbsp;and&nbsp;yaml.safe_dump())&nbsp;is&nbsp;used&nbsp;to&nbsp;write&nbsp;the&nbsp;data&nbsp;to&nbsp;the&nbsp;file&nbsp;with&nbsp;proper&nbsp;indentation&nbsp;and&nbsp;spacing.<br/>3.&nbsp;convert_json_to_html()&nbsp;-&nbsp;This&nbsp;function&nbsp;converts&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;a&nbsp;given&nbsp;directory&nbsp;into&nbsp;HTML&nbsp;format&nbsp;while&nbsp;preserving&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;&quot;input&quot;&nbsp;field.&nbsp;It&nbsp;first&nbsp;searches&nbsp;for&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;provided&nbsp;directory&nbsp;using&nbsp;pathlib.Path.rglob()&nbsp;and&nbsp;loops&nbsp;through&nbsp;them&nbsp;to&nbsp;load&nbsp;their&nbsp;content.&nbsp;It&nbsp;then&nbsp;converts&nbsp;each&nbsp;dictionary&nbsp;of&nbsp;entries&nbsp;into&nbsp;an&nbsp;HTML&nbsp;table&nbsp;with&nbsp;appropriate&nbsp;CSS&nbsp;styles&nbsp;and&nbsp;saves&nbsp;it&nbsp;as&nbsp;a&nbsp;.html&nbsp;file.<br/>4.&nbsp;combine_json_files()&nbsp;-&nbsp;This&nbsp;function&nbsp;combines&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&quot;instruct.json&quot;&nbsp;and&nbsp;removes&nbsp;duplicates&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys&nbsp;(&quot;instruction&quot;&nbsp;and&nbsp;&quot;output&quot;).&nbsp;It&nbsp;first&nbsp;creates&nbsp;an&nbsp;empty&nbsp;list&nbsp;called&nbsp;&quot;combined_data&quot;.&nbsp;Then,&nbsp;it&nbsp;loops&nbsp;through&nbsp;each&nbsp;JSON&nbsp;file&nbsp;in&nbsp;the&nbsp;directory&nbsp;using&nbsp;pathlib.Path.rglob()&nbsp;to&nbsp;load&nbsp;its&nbsp;content&nbsp;into&nbsp;a&nbsp;dictionary&nbsp;called&nbsp;&quot;json_file_data&quot;.&nbsp;The&nbsp;function&nbsp;then&nbsp;uses&nbsp;remove_duplicate_dataset_entries()&nbsp;to&nbsp;filter&nbsp;out&nbsp;duplicates&nbsp;from&nbsp;combined_data&nbsp;based&nbsp;on&nbsp;two&nbsp;keys&nbsp;(&quot;instruction&quot;&nbsp;and&nbsp;&quot;output&quot;)&nbsp;before&nbsp;writing&nbsp;it&nbsp;back&nbsp;to&nbsp;instruct.json&nbsp;file.&nbsp;Additionally,&nbsp;it&nbsp;generates&nbsp;training&nbsp;data&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;as&nbsp;follow&nbsp;for&nbsp;each&nbsp;item&nbsp;in&nbsp;the&nbsp;dataset&nbsp;by&nbsp;extracting&nbsp;specific&nbsp;entries&nbsp;with&nbsp;regex&nbsp;pattern&nbsp;matching.&nbsp;Finally,&nbsp;it&nbsp;calls&nbsp;convert_json_to_html()&nbsp;function&nbsp;to&nbsp;save&nbsp;HTML&nbsp;files&nbsp;for&nbsp;each&nbsp;JSON&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory.<br/>5.&nbsp;remove_duplicate_dataset_entries()&nbsp;-&nbsp;This&nbsp;function&nbsp;removes&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;a&nbsp;provided&nbsp;list&nbsp;of&nbsp;dictionaries&nbsp;based&nbsp;on&nbsp;two&nbsp;keys&nbsp;(&quot;instruction&quot;&nbsp;and&nbsp;&quot;output&quot;).&nbsp;It&nbsp;initializes&nbsp;an&nbsp;empty&nbsp;set&nbsp;called&nbsp;&quot;seen&quot;,&nbsp;an&nbsp;empty&nbsp;list&nbsp;called&nbsp;&quot;result&quot;.&nbsp;Then,&nbsp;it&nbsp;loops&nbsp;through&nbsp;each&nbsp;item&nbsp;in&nbsp;the&nbsp;dataset&nbsp;and&nbsp;checks&nbsp;if&nbsp;the&nbsp;tuple&nbsp;(item[&quot;instruction&quot;],&nbsp;item[&quot;output&quot;])&nbsp;is&nbsp;already&nbsp;present&nbsp;in&nbsp;seen.&nbsp;If&nbsp;not,&nbsp;it&nbsp;adds&nbsp;it&nbsp;to&nbsp;both&nbsp;seen&nbsp;and&nbsp;result&nbsp;sets.&nbsp;The&nbsp;function&nbsp;returns&nbsp;a&nbsp;list&nbsp;without&nbsp;duplicate&nbsp;entries&nbsp;based&nbsp;on&nbsp;those&nbsp;two&nbsp;keys.<br/>6.&nbsp;create_code_graph()&nbsp;-&nbsp;This&nbsp;function&nbsp;takes&nbsp;&quot;file_details&quot;,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments&nbsp;and&nbsp;generates&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details&nbsp;using&nbsp;networkx&nbsp;library.&nbsp;It&nbsp;creates&nbsp;a&nbsp;directed&nbsp;graph&nbsp;(DiGraph)&nbsp;called&nbsp;G,&nbsp;adds&nbsp;nodes&nbsp;from&nbsp;&quot;file_info&quot;[&quot;nodes&quot;],&nbsp;and&nbsp;then&nbsp;loops&nbsp;through&nbsp;each&nbsp;edge&nbsp;in&nbsp;&quot;file_info&quot;[&quot;edges&quot;]&nbsp;to&nbsp;add&nbsp;edges&nbsp;with&nbsp;their&nbsp;respective&nbsp;inputs&nbsp;and&nbsp;returns.&nbsp;The&nbsp;function&nbsp;then&nbsp;uses&nbsp;nx.draw()&nbsp;to&nbsp;draw&nbsp;the&nbsp;graph,&nbsp;labels&nbsp;the&nbsp;edges&nbsp;based&nbsp;on&nbsp;input&nbsp;and&nbsp;return&nbsp;values,&nbsp;and&nbsp;saves&nbsp;it&nbsp;as&nbsp;a&nbsp;PNG&nbsp;image&nbsp;using&nbsp;plt.savefig().<br/>7.&nbsp;save_python_data()&nbsp;-&nbsp;This&nbsp;function&nbsp;takes&nbsp;&quot;file_details&quot;,&nbsp;&quot;instruct_list&quot;,&nbsp;&quot;relative_path&quot;,&nbsp;and&nbsp;&quot;output_dir&quot;&nbsp;as&nbsp;arguments&nbsp;and&nbsp;saves&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.&nbsp;It&nbsp;first&nbsp;creates&nbsp;an&nbsp;output&nbsp;directory&nbsp;using&nbsp;pathlib.Path().mkdir()&nbsp;method&nbsp;if&nbsp;it&nbsp;does&nbsp;not&nbsp;exist.&nbsp;Then,&nbsp;it&nbsp;loops&nbsp;through&nbsp;each&nbsp;entry&nbsp;in&nbsp;instruct_list&nbsp;and&nbsp;generates&nbsp;two&nbsp;different&nbsp;JSON&nbsp;files&nbsp;(&quot;details&quot;&nbsp;and&nbsp;&quot;instruct&quot;)&nbsp;by&nbsp;filtering&nbsp;entries&nbsp;that&nbsp;start&nbsp;with&nbsp;specific&nbsp;patterns&nbsp;(1)&nbsp;Describe&nbsp;the&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:&nbsp;and&nbsp;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;Python&nbsp;file:).&nbsp;It&nbsp;also&nbsp;calls&nbsp;create_code_graph()&nbsp;to&nbsp;generate&nbsp;a&nbsp;PNG&nbsp;image&nbsp;of&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph.<br/>8.&nbsp;The&nbsp;function&nbsp;read_file()&nbsp;takes&nbsp;in&nbsp;a&nbsp;&quot;file_path&quot;&nbsp;argument,&nbsp;checks&nbsp;its&nbsp;extension&nbsp;using&nbsp;file_path.suffix[1:]&nbsp;(i.e.,&nbsp;&#x27;json&#x27;&nbsp;or&nbsp;&#x27;yaml&#x27;)&nbsp;and&nbsp;loads&nbsp;it&nbsp;accordingly&nbsp;with&nbsp;either&nbsp;json.load()&nbsp;or&nbsp;yaml.load().&nbsp;It&nbsp;returns&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>9.&nbsp;The&nbsp;function&nbsp;write_file()&nbsp;takes&nbsp;in&nbsp;two&nbsp;arguments,&nbsp;&quot;data&quot;&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;information&nbsp;that&nbsp;needs&nbsp;to&nbsp;be&nbsp;written&nbsp;and&nbsp;&quot;file_path&quot;&nbsp;as&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;output&nbsp;file.&nbsp;It&nbsp;uses&nbsp;appropriate&nbsp;methods&nbsp;(json.dump()&nbsp;for&nbsp;JSON&nbsp;files&nbsp;and&nbsp;yaml.safe_dump())&nbsp;to&nbsp;write&nbsp;the&nbsp;data&nbsp;to&nbsp;the&nbsp;file&nbsp;with&nbsp;proper&nbsp;indentation&nbsp;and&nbsp;spacing.<br/>10.&nbsp;The&nbsp;function&nbsp;preserve_spacing()&nbsp;takes&nbsp;in&nbsp;a&nbsp;&quot;text&quot;&nbsp;argument&nbsp;and&nbsp;preserves&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;while&nbsp;converting&nbsp;it&nbsp;into&nbsp;HTML&nbsp;format&nbsp;by&nbsp;replacing&nbsp;spaces&nbsp;with&nbsp;&amp;nbsp;&nbsp;and&nbsp;tabs&nbsp;with&nbsp;&amp;nbsp;&nbsp;*&nbsp;tab_width&nbsp;(default&nbsp;4).<br/><br/>Reasons&nbsp;to&nbsp;follow:&nbsp;The&nbsp;requirements&nbsp;from&nbsp;the&nbsp;code&nbsp;problem&nbsp;indicate&nbsp;that&nbsp;read_file&nbsp;should&nbsp;open&nbsp;either&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;using&nbsp;an&nbsp;appropriate&nbsp;loader.&nbsp;Therefore,&nbsp;&quot;try-except&quot;&nbsp;blocks&nbsp;are&nbsp;added&nbsp;around&nbsp;the&nbsp;two&nbsp;possible&nbsp;load&nbsp;methods&nbsp;for&nbsp;different&nbsp;types&nbsp;of&nbsp;files&nbsp;and&nbsp;it&nbsp;will&nbsp;use&nbsp;json.load()&nbsp;if&nbsp;it&nbsp;is&nbsp;unable&nbsp;to&nbsp;load&nbsp;with&nbsp;yaml.load().&nbsp;Additionally,&nbsp;it&nbsp;has&nbsp;some&nbsp;comments&nbsp;and&nbsp;indentation&nbsp;rules&nbsp;in&nbsp;line&nbsp;59&nbsp;and&nbsp;62.&nbsp;write_file&nbsp;uses&nbsp;both&nbsp;SafeDumper&nbsp;from&nbsp;PyYAML&nbsp;to&nbsp;preserve&nbsp;the&nbsp;order&nbsp;of&nbsp;dictionaries&nbsp;and&nbsp;indent=4&nbsp;for&nbsp;JSON&nbsp;files.&nbsp;The&nbsp;function&nbsp;convert_json_to_html()&nbsp;is&nbsp;used&nbsp;to&nbsp;generate&nbsp;HTML&nbsp;tables&nbsp;from&nbsp;JSON&nbsp;files&nbsp;while&nbsp;preserving&nbsp;spacing&nbsp;and&nbsp;tabs,&nbsp;which&nbsp;are&nbsp;replaced&nbsp;with&nbsp;&amp;nbsp;&nbsp;and&nbsp;&lt;br/&gt;&nbsp;tags&nbsp;respectively.&nbsp;It&nbsp;also&nbsp;uses&nbsp;pathlib.Path.rglob()&nbsp;to&nbsp;search&nbsp;for&nbsp;all&nbsp;.json&nbsp;files&nbsp;in&nbsp;a&nbsp;given&nbsp;directory,&nbsp;as&nbsp;specified&nbsp;in&nbsp;the&nbsp;problem&nbsp;requirements.<br/>The&nbsp;function&nbsp;remove_duplicate_dataset_entries()&nbsp;removes&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;&quot;dataset&quot;&nbsp;by&nbsp;iterating&nbsp;over&nbsp;each&nbsp;item&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;checking&nbsp;if&nbsp;its&nbsp;(instruction,&nbsp;output)&nbsp;tuple&nbsp;is&nbsp;already&nbsp;present&nbsp;in&nbsp;&quot;seen&quot;,&nbsp;an&nbsp;empty&nbsp;set.&nbsp;It&nbsp;adds&nbsp;the&nbsp;new&nbsp;items&nbsp;to&nbsp;&quot;result&quot;&nbsp;if&nbsp;it&nbsp;is&nbsp;not&nbsp;a&nbsp;duplicate&nbsp;and&nbsp;returns&nbsp;the&nbsp;updated&nbsp;list.&nbsp;The&nbsp;function&nbsp;then&nbsp;filters&nbsp;out&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;from&nbsp;instruct_list,&nbsp;which&nbsp;is&nbsp;combined&nbsp;with&nbsp;code&nbsp;data&nbsp;using&nbsp;regex&nbsp;patterns&nbsp;and&nbsp;saved&nbsp;as&nbsp;training.json&nbsp;file.<br/>The&nbsp;function&nbsp;create_code_graph()&nbsp;takes&nbsp;in&nbsp;&quot;file_details&quot;,&nbsp;&quot;base_name&quot;,&nbsp;and&nbsp;&quot;output_subdir&quot;&nbsp;to&nbsp;generate&nbsp;call&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;information&nbsp;using&nbsp;networkx&nbsp;library&nbsp;and&nbsp;save&nbsp;it&nbsp;as&nbsp;a&nbsp;PNG&nbsp;image&nbsp;using&nbsp;plt.savefig().&nbsp;The&nbsp;base&nbsp;name&nbsp;is&nbsp;used&nbsp;to&nbsp;create&nbsp;a&nbsp;unique&nbsp;file&nbsp;name&nbsp;for&nbsp;each&nbsp;graph.<br/>The&nbsp;function&nbsp;save_python_data()&nbsp;takes&nbsp;in&nbsp;&quot;file_details&quot;,&nbsp;&quot;instruct_list&quot;,&nbsp;&quot;relative_path&quot;&nbsp;(as&nbsp;str),&nbsp;and&nbsp;&quot;output_dir&quot;.&nbsp;It&nbsp;uses&nbsp;Path()&nbsp;method&nbsp;to&nbsp;create&nbsp;an&nbsp;output&nbsp;directory&nbsp;if&nbsp;it&nbsp;does&nbsp;not&nbsp;exist,&nbsp;and&nbsp;then&nbsp;creates&nbsp;two&nbsp;JSON&nbsp;files:&nbsp;details.json&nbsp;and&nbsp;instruct.json.&nbsp;It&nbsp;also&nbsp;calls&nbsp;create_code_graph()&nbsp;to&nbsp;generate&nbsp;PNG&nbsp;images&nbsp;of&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;and&nbsp;saves&nbsp;them&nbsp;in&nbsp;the&nbsp;same&nbsp;directory&nbsp;as&nbsp;instruct.json.<br/>Variables:&nbsp;<br/>-&nbsp;file_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;file&nbsp;based&nbsp;on&nbsp;its&nbsp;extension&nbsp;(either&nbsp;&#x27;yaml&#x27;&nbsp;or&nbsp;&#x27;json&#x27;)<br/>-&nbsp;html_content&nbsp;(str):&nbsp;The&nbsp;HTML&nbsp;content&nbsp;for&nbsp;each&nbsp;table,&nbsp;including&nbsp;CSS&nbsp;styles&nbsp;and&nbsp;headers<br/>-&nbsp;column_count&nbsp;(int):&nbsp;The&nbsp;number&nbsp;of&nbsp;columns&nbsp;in&nbsp;the&nbsp;&quot;input&quot;&nbsp;and&nbsp;&quot;output&quot;&nbsp;data&nbsp;tables,&nbsp;to&nbsp;set&nbsp;fixed&nbsp;width&nbsp;for&nbsp;them&nbsp;as&nbsp;1/3&nbsp;and&nbsp;2/3.&nbsp;It&nbsp;will&nbsp;help&nbsp;determine&nbsp;column_width<br/>-&nbsp;html_file&nbsp;(Path):&nbsp;The&nbsp;output&nbsp;file&nbsp;path&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension<br/>-&nbsp;seen&nbsp;(set):&nbsp;A&nbsp;set&nbsp;used&nbsp;to&nbsp;store&nbsp;unique&nbsp;(instruction,&nbsp;output)&nbsp;tuples&nbsp;to&nbsp;avoid&nbsp;duplicates&nbsp;in&nbsp;&quot;combine_json_files()&quot;&nbsp;function<br/>-&nbsp;dataset&nbsp;(list):&nbsp;The&nbsp;list&nbsp;of&nbsp;dictionaries&nbsp;extracted&nbsp;from&nbsp;each&nbsp;JSON&nbsp;file,&nbsp;contains&nbsp;&#x27;instruct&#x27;,&nbsp;&#x27;output&#x27;,&nbsp;and&nbsp;other&nbsp;information&nbsp;such&nbsp;as&nbsp;call&nbsp;nodes/edges&nbsp;for&nbsp;creating&nbsp;a&nbsp;code&nbsp;graph<br/>-&nbsp;pos:&nbsp;the&nbsp;node&nbsp;positions&nbsp;determined&nbsp;by&nbsp;nx.spring_layout()&nbsp;function&nbsp;used&nbsp;to&nbsp;position&nbsp;the&nbsp;nodes&nbsp;on&nbsp;the&nbsp;network&nbsp;plot.<br/>-&nbsp;result&nbsp;(list):&nbsp;An&nbsp;empty&nbsp;list&nbsp;of&nbsp;combined&nbsp;JSON&nbsp;data&nbsp;from&nbsp;multiple&nbsp;files<br/>-&nbsp;edge_labels&nbsp;(dict):&nbsp;A&nbsp;dictionary&nbsp;that&nbsp;maps&nbsp;edges&nbsp;to&nbsp;their&nbsp;respective&nbsp;input&nbsp;and&nbsp;return&nbsp;values,&nbsp;for&nbsp;displaying&nbsp;them&nbsp;as&nbsp;labels&nbsp;in&nbsp;the&nbsp;graph<br/>-&nbsp;output_file&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;where&nbsp;the&nbsp;PNG&nbsp;image&nbsp;will&nbsp;be&nbsp;saved</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.setup.py&#x27;?</td><td>from&nbsp;setuptools&nbsp;import&nbsp;setup<br/><br/>with&nbsp;open(&quot;README.md&quot;,&nbsp;&quot;r&quot;)&nbsp;as&nbsp;fh:<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description&nbsp;=&nbsp;fh.read()<br/><br/>setup(<br/>&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;version=&quot;0.1&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author=&quot;Jeff&nbsp;Meloy&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author_email=&quot;jeffmeloy@gmail.com&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;description=&quot;A&nbsp;tool&nbsp;to&nbsp;generate&nbsp;structured&nbsp;datasets&nbsp;from&nbsp;Python&nbsp;source&nbsp;code&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description=long_description,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description_content_type=&quot;text/markdown&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;url=&quot;https://github.com/jeffmeloy/py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;py_modules=[&quot;py2dataset&quot;,&nbsp;&quot;get_python_file_details&quot;,&nbsp;&quot;get_python_json&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;classifiers=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Programming&nbsp;Language&nbsp;::&nbsp;Python&nbsp;::&nbsp;3&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;License&nbsp;::&nbsp;OSI&nbsp;Approved&nbsp;::&nbsp;MIT&nbsp;License&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Operating&nbsp;System&nbsp;::&nbsp;OS&nbsp;Independent&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;python_requires=&#x27;&gt;=3.8&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;install_requires=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;matplotlib&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;networkx&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ctransformers&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pyyaml&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;entry_points={&#x27;console_scripts&#x27;:&nbsp;[&#x27;py2dataset&nbsp;=&nbsp;py2dataset:main&#x27;]},<br/>&nbsp;&nbsp;&nbsp;&nbsp;packages=[&#x27;py2dataset&#x27;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;package_dir={&#x27;py2dataset&#x27;:&nbsp;&#x27;.\\&#x27;},<br/>)</td><td>setuptools</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.setup.py&#x27;?</td><td>from&nbsp;setuptools&nbsp;import&nbsp;setup<br/><br/>with&nbsp;open(&quot;README.md&quot;,&nbsp;&quot;r&quot;)&nbsp;as&nbsp;fh:<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description&nbsp;=&nbsp;fh.read()<br/><br/>setup(<br/>&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;version=&quot;0.1&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author=&quot;Jeff&nbsp;Meloy&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author_email=&quot;jeffmeloy@gmail.com&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;description=&quot;A&nbsp;tool&nbsp;to&nbsp;generate&nbsp;structured&nbsp;datasets&nbsp;from&nbsp;Python&nbsp;source&nbsp;code&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description=long_description,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description_content_type=&quot;text/markdown&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;url=&quot;https://github.com/jeffmeloy/py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;py_modules=[&quot;py2dataset&quot;,&nbsp;&quot;get_python_file_details&quot;,&nbsp;&quot;get_python_json&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;classifiers=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Programming&nbsp;Language&nbsp;::&nbsp;Python&nbsp;::&nbsp;3&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;License&nbsp;::&nbsp;OSI&nbsp;Approved&nbsp;::&nbsp;MIT&nbsp;License&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Operating&nbsp;System&nbsp;::&nbsp;OS&nbsp;Independent&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;python_requires=&#x27;&gt;=3.8&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;install_requires=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;matplotlib&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;networkx&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ctransformers&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pyyaml&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;entry_points={&#x27;console_scripts&#x27;:&nbsp;[&#x27;py2dataset&nbsp;=&nbsp;py2dataset:main&#x27;]},<br/>&nbsp;&nbsp;&nbsp;&nbsp;packages=[&#x27;py2dataset&#x27;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;package_dir={&#x27;py2dataset&#x27;:&nbsp;&#x27;.\\&#x27;},<br/>)</td><td>{&#x27;nodes&#x27;:&nbsp;[],&nbsp;&#x27;edges&#x27;:&nbsp;[]}</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.setup.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>from&nbsp;setuptools&nbsp;import&nbsp;setup<br/><br/>with&nbsp;open(&quot;README.md&quot;,&nbsp;&quot;r&quot;)&nbsp;as&nbsp;fh:<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description&nbsp;=&nbsp;fh.read()<br/><br/>setup(<br/>&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;version=&quot;0.1&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author=&quot;Jeff&nbsp;Meloy&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author_email=&quot;jeffmeloy@gmail.com&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;description=&quot;A&nbsp;tool&nbsp;to&nbsp;generate&nbsp;structured&nbsp;datasets&nbsp;from&nbsp;Python&nbsp;source&nbsp;code&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description=long_description,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description_content_type=&quot;text/markdown&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;url=&quot;https://github.com/jeffmeloy/py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;py_modules=[&quot;py2dataset&quot;,&nbsp;&quot;get_python_file_details&quot;,&nbsp;&quot;get_python_json&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;classifiers=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Programming&nbsp;Language&nbsp;::&nbsp;Python&nbsp;::&nbsp;3&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;License&nbsp;::&nbsp;OSI&nbsp;Approved&nbsp;::&nbsp;MIT&nbsp;License&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Operating&nbsp;System&nbsp;::&nbsp;OS&nbsp;Independent&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;python_requires=&#x27;&gt;=3.8&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;install_requires=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;matplotlib&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;networkx&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ctransformers&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pyyaml&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;entry_points={&#x27;console_scripts&#x27;:&nbsp;[&#x27;py2dataset&nbsp;=&nbsp;py2dataset:main&#x27;]},<br/>&nbsp;&nbsp;&nbsp;&nbsp;packages=[&#x27;py2dataset&#x27;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;package_dir={&#x27;py2dataset&#x27;:&nbsp;&#x27;.\\&#x27;},<br/>)</td><td>The&nbsp;&#x27;py2dataset.setup.py&#x27;&nbsp;file&nbsp;is&nbsp;a&nbsp;setup&nbsp;script&nbsp;that&nbsp;uses&nbsp;the&nbsp;setuptools&nbsp;library&nbsp;to&nbsp;install&nbsp;py2dataset&nbsp;package&nbsp;and&nbsp;its&nbsp;dependencies&nbsp;in&nbsp;the&nbsp;Python&nbsp;environment.&nbsp;The&nbsp;code&nbsp;opens&nbsp;a&nbsp;file&nbsp;called&nbsp;README.md&nbsp;using&nbsp;the&nbsp;&quot;with&nbsp;open()&quot;&nbsp;function,&nbsp;reads&nbsp;its&nbsp;content,&nbsp;and&nbsp;assigns&nbsp;it&nbsp;to&nbsp;the&nbsp;variable&nbsp;&#x27;long_description&#x27;.&nbsp;Then,&nbsp;it&nbsp;creates&nbsp;a&nbsp;dictionary&nbsp;object&nbsp;named&nbsp;&#x27;setup()&#x27;&nbsp;that&nbsp;contains&nbsp;metadata&nbsp;for&nbsp;the&nbsp;package&nbsp;including&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;package&nbsp;(&#x27;py2dataset&#x27;),&nbsp;version&nbsp;number&nbsp;(&#x27;0.1&#x27;),&nbsp;author&nbsp;information,&nbsp;description,&nbsp;long_description,&nbsp;url,&nbsp;module&nbsp;names,&nbsp;classifiers,&nbsp;and&nbsp;dependencies.&nbsp;The&nbsp;entry&nbsp;point&nbsp;is&nbsp;defined&nbsp;as&nbsp;&#x27;console_scripts&#x27;,&nbsp;which&nbsp;means&nbsp;it&nbsp;can&nbsp;be&nbsp;executed&nbsp;from&nbsp;the&nbsp;command&nbsp;line&nbsp;by&nbsp;typing&nbsp;&#x27;py2dataset&#x27;&nbsp;in&nbsp;the&nbsp;terminal.&nbsp;Finally,&nbsp;it&nbsp;specifies&nbsp;the&nbsp;package&nbsp;directory&nbsp;(&#x27;package_dir&#x27;)&nbsp;and&nbsp;installs&nbsp;the&nbsp;package.<br/><br/>1.&nbsp;Purpose:&nbsp;This&nbsp;file&nbsp;sets&nbsp;up&nbsp;the&nbsp;py2dataset&nbsp;package&nbsp;for&nbsp;installation&nbsp;in&nbsp;the&nbsp;Python&nbsp;environment.<br/>2.&nbsp;Functions:<br/>-&nbsp;setup():&nbsp;It&nbsp;creates&nbsp;a&nbsp;dictionary&nbsp;object&nbsp;named&nbsp;&#x27;setup()&#x27;&nbsp;with&nbsp;various&nbsp;metadata&nbsp;for&nbsp;the&nbsp;package&nbsp;and&nbsp;passes&nbsp;it&nbsp;as&nbsp;an&nbsp;argument&nbsp;to&nbsp;setuptools&#x27;&nbsp;setup()&nbsp;function&nbsp;that&nbsp;performs&nbsp;necessary&nbsp;configurations&nbsp;before&nbsp;installing&nbsp;the&nbsp;package.&nbsp;This&nbsp;function&nbsp;contains&nbsp;four&nbsp;keys&nbsp;-&nbsp;name,&nbsp;version,&nbsp;author,&nbsp;author_email,&nbsp;long_description.<br/><br/>3.&nbsp;Inputs:&nbsp;The&nbsp;function&nbsp;does&nbsp;not&nbsp;take&nbsp;any&nbsp;input.<br/>4.&nbsp;Outputs:&nbsp;None,&nbsp;this&nbsp;is&nbsp;a&nbsp;setup&nbsp;file&nbsp;to&nbsp;be&nbsp;executed&nbsp;on&nbsp;installation.<br/>5.&nbsp;Variables:&nbsp;<br/>-&nbsp;long_description&nbsp;(string):&nbsp;This&nbsp;variable&nbsp;contains&nbsp;the&nbsp;content&nbsp;of&nbsp;README.md&nbsp;file&nbsp;that&nbsp;describes&nbsp;the&nbsp;package&nbsp;in&nbsp;detail.<br/>-&nbsp;py_modules&nbsp;(list):&nbsp;It&nbsp;is&nbsp;a&nbsp;list&nbsp;containing&nbsp;&#x27;py2dataset&#x27;&nbsp;and&nbsp;&#x27;get_python_file_details&#x27;.<br/>-&nbsp;classifiers&nbsp;(list):&nbsp;A&nbsp;list&nbsp;of&nbsp;strings&nbsp;that&nbsp;specify&nbsp;the&nbsp;type&nbsp;of&nbsp;Python&nbsp;environment&nbsp;required&nbsp;for&nbsp;this&nbsp;package,&nbsp;i.e.,&nbsp;&gt;=3.8.<br/>-&nbsp;install_requires&nbsp;(list):&nbsp;A&nbsp;list&nbsp;of&nbsp;dependencies&nbsp;required&nbsp;by&nbsp;py2dataset&nbsp;package,&nbsp;such&nbsp;as&nbsp;&#x27;matplotlib&#x27;,&nbsp;&#x27;networkx&#x27;&nbsp;etc.&nbsp;If&nbsp;not&nbsp;found,&nbsp;the&nbsp;corresponding&nbsp;modules&nbsp;are&nbsp;automatically&nbsp;downloaded&nbsp;during&nbsp;installation<br/><br/>Here&#x27;s&nbsp;an&nbsp;itemized&nbsp;explanation&nbsp;step-by-step&nbsp;of&nbsp;how&nbsp;the&nbsp;script&nbsp;works:&nbsp;<br/><br/>1.&nbsp;Opens&nbsp;the&nbsp;file&nbsp;called&nbsp;&quot;README.md&quot;&nbsp;using&nbsp;the&nbsp;&quot;with&nbsp;open()&quot;&nbsp;function.<br/>2.&nbsp;Assigns&nbsp;its&nbsp;content&nbsp;to&nbsp;a&nbsp;variable&nbsp;named&nbsp;&#x27;long_description&#x27;.<br/>3.&nbsp;Creates&nbsp;a&nbsp;dictionary&nbsp;object&nbsp;named&nbsp;&#x27;setup()&#x27;&nbsp;with&nbsp;various&nbsp;metadata&nbsp;for&nbsp;the&nbsp;package&nbsp;including&nbsp;name,&nbsp;version,&nbsp;author,&nbsp;author&nbsp;email,&nbsp;description&nbsp;and&nbsp;long_description&nbsp;content&nbsp;from&nbsp;the&nbsp;file.<br/>4.&nbsp;Installs&nbsp;&#x27;setuptools&#x27;,&nbsp;&#x27;matplotlib&#x27;,&nbsp;&#x27;networkx&#x27;,&nbsp;&#x27;ctransformers&#x27;&nbsp;and&nbsp;&#x27;pyyaml&#x27;.<br/>5.&nbsp;Adds&nbsp;&#x27;entry&nbsp;point&#x27;&nbsp;named&nbsp;&#x27;console_scripts&#x27;&nbsp;to&nbsp;execute&nbsp;the&nbsp;package&nbsp;from&nbsp;command&nbsp;line&nbsp;by&nbsp;typing&nbsp;&#x27;py2dataset&#x27;.<br/>6.&nbsp;Specifies&nbsp;the&nbsp;package&nbsp;directory&nbsp;as&nbsp;&#x27;.\\&#x27;&nbsp;for&nbsp;py2dataset.<br/>7.&nbsp;Installs&nbsp;the&nbsp;package&nbsp;using&nbsp;setuptools&#x27;&nbsp;setup()&nbsp;function.</td></tr>
                </tbody>
            </table>
        </body>
        </html>
        