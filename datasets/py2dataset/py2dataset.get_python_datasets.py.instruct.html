
        <html>
        <head>
            <style>
                table {border-collapse: collapse; width: 100%; table-layout: fixed;}
                th, td {
                    border: 1px solid black;
                    padding: 8px;
                    text-align: left;
                    white-space: pre-line;
                    vertical-align: top;
                    word-wrap: break-word;
                }
            </style>
        </head>
        <body>
            <table>
                <thead>
                    <tr>
        <th style='width: 33.333333333333336%;'>instruction</th><th style='width: 33.333333333333336%;'>input</th><th style='width: 33.333333333333336%;'>output</th>
                    </tr>
                </thead>
                <tbody>
        <tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>re,&nbsp;typing,&nbsp;logging</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;DatasetGenerator.__init__&#x27;,&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;generator.generate&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;re.sub&#x27;,&nbsp;&#x27;element.strip&#x27;,&nbsp;&quot;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split&quot;,&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;response.strip&#x27;,&nbsp;&#x27;list_to_update.append&#x27;,&nbsp;&#x27;any&#x27;,&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;self.prompt.format&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;self.llm&#x27;,&nbsp;&#x27;logger.error&#x27;,&nbsp;&#x27;question_id.endswith&#x27;,&nbsp;&#x27;info.get&#x27;,&nbsp;&#x27;str&#x27;,&nbsp;&#x27;str(response).strip&#x27;,&nbsp;&#x27;self.instruct_list.append&#x27;,&nbsp;&#x27;item.strip&#x27;,&nbsp;&#x27;str(info[item_type]).split&#x27;,&nbsp;&#x27;question_text.format&#x27;,&nbsp;&quot;self.file_details[&#x27;classes&#x27;].items&quot;,&nbsp;&#x27;class_info.items&#x27;,&nbsp;&#x27;key.startswith&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;self.file_details[self.question_mapping[question_type]].items&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.__init__&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;file_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;llm&#x27;,&nbsp;&#x27;prompt&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;input_str&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;list_to_update&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;response&#x27;,&nbsp;&#x27;additional_field&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;list_to_update&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;response&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;info&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info&#x27;,&nbsp;&#x27;item_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(items)&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;question_text&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;self.instruct_list&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(re.sub(&#x27;[^\\\\w\\\\-_&gt;\\\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;re.sub&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\\\s+&#x27;&quot;,&nbsp;&quot;&#x27;&nbsp;&#x27;&quot;,&nbsp;&#x27;input_str&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;element.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;,&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;cleaned_elements&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;response.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list_to_update.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;any&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prefix&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;[f&quot;Instruction:&nbsp;{item[\&#x27;instruction\&#x27;]}&nbsp;\\nOutput:&nbsp;{item[\&#x27;output\&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.prompt.format&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Response:&nbsp;{response}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prompt&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logger.error&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;question_id.endswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;purpose&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;info.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;question_id&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;response&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;input_str&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;response&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str(response).strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.instruct_list.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;item.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str(info[item_type]).split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;,&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info[item_type]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;items&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;question_text.format&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;info&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.file_details[&#x27;classes&#x27;].items&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_info.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;key.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.file_details[self.question_mapping[question_type]].items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info&#x27;,&nbsp;&#x27;item_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(items)&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;[s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;input_str&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;question_text&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;llm&#x27;,&nbsp;&#x27;prompt&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;generator.generate&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]}]}</td></tr><tr><td>What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>get_python_datasets</td></tr><tr><td>What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>DatasetGenerator</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>questions,&nbsp;file_details,&nbsp;file_path,&nbsp;llm,&nbsp;base_name,&nbsp;prompt</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.&nbsp;Args:&nbsp;file_path&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;file_details&nbsp;Dict:&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.&nbsp;base_name&nbsp;str:&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.&nbsp;questions&nbsp;ListDict:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.&nbsp;llm&nbsp;object:&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;prompt&nbsp;str:&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;Returns:&nbsp;TupleListDict,&nbsp;ListDict:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>DatasetGenerator,&nbsp;generator.generate</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_datasets&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator.generate</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>add_to_list,&nbsp;process_question_type,&nbsp;get_response_from_llm,&nbsp;generate,&nbsp;get_string_from_info,&nbsp;process_question,&nbsp;clean_and_get_unique_elements</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>or&nbsp;method.&nbsp;generate&nbsp;-&gt;&nbsp;TupleListDict,&nbsp;response:&nbsp;str,&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.&nbsp;Attributes:&nbsp;file_path&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;file_details&nbsp;Dictstr,&nbsp;function,&nbsp;str:&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;instruct_list&nbsp;ListDictstr,&nbsp;class,&nbsp;additional_fieldNone&nbsp;-&gt;&nbsp;ListDict:&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.&nbsp;get_response_from_llmquery:&nbsp;str,&nbsp;context:&nbsp;str&nbsp;-&gt;&nbsp;str:&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.&nbsp;process_questionquestion_type:&nbsp;str,&nbsp;info:&nbsp;Dict&nbsp;-&gt;&nbsp;None:&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.&nbsp;process_question_typequestion_type:&nbsp;str,&nbsp;str:&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.&nbsp;question_mapping&nbsp;Dictstr,&nbsp;query:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;ListDict:&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.,&nbsp;question_text:&nbsp;str&nbsp;-&gt;&nbsp;None:&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;context:&nbsp;str,&nbsp;Any:&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.&nbsp;base_name&nbsp;str:&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.&nbsp;questions&nbsp;ListDictstr,&nbsp;str:&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.&nbsp;use_llm&nbsp;bool:&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.&nbsp;llm&nbsp;object:&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;prompt&nbsp;str:&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.&nbsp;Methods:&nbsp;clean_and_get_unique_elementsinput_str:&nbsp;str&nbsp;-&gt;&nbsp;str:&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.&nbsp;add_to_listlist_to_update:&nbsp;ListDict</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>questions,&nbsp;file_details,&nbsp;question_mapping,&nbsp;use_llm,&nbsp;file_path,&nbsp;llm,&nbsp;instruct_list,&nbsp;base_name,&nbsp;prompt</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>excluded_instructions,&nbsp;filtered_instruct_list,&nbsp;methods_string,&nbsp;full_context,&nbsp;inputs_string,&nbsp;context,&nbsp;cleaned_elements,&nbsp;past_instructs,&nbsp;method_name,&nbsp;response,&nbsp;items,&nbsp;info,&nbsp;query,&nbsp;prompt,&nbsp;mapping,&nbsp;variables_string,&nbsp;combined_string,&nbsp;response_str</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}</td><td>questions,&nbsp;file_details,&nbsp;self,&nbsp;file_path,&nbsp;llm,&nbsp;base_name,&nbsp;prompt</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>input_str</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>response,&nbsp;list_to_update,&nbsp;query,&nbsp;additional_field</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>self,&nbsp;context,&nbsp;query</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;process_question&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>self,&nbsp;question_id,&nbsp;question_type,&nbsp;info,&nbsp;context,&nbsp;query</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;get_string_from_info&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>info,&nbsp;item_type</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;process_question_type&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>self,&nbsp;question_id,&nbsp;question_type,&nbsp;question_text</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.&nbsp;Args:&nbsp;input_str&nbsp;str:&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.&nbsp;Returns:&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.&nbsp;Args:&nbsp;list_to_update&nbsp;ListDict:&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.&nbsp;query&nbsp;str:&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.&nbsp;response&nbsp;str:&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.&nbsp;additional_field&nbsp;str:&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.&nbsp;Returns:&nbsp;ListDict:&nbsp;The&nbsp;updated&nbsp;list.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.&nbsp;Args:&nbsp;query&nbsp;str:&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.&nbsp;context&nbsp;str:&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.&nbsp;Returns:&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;process_question&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.&nbsp;Args:&nbsp;question_type&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;question_id&nbsp;str:&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;query&nbsp;str:&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.&nbsp;context&nbsp;str:&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.&nbsp;info&nbsp;Dict:&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;process_question_type&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>class,&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;or&nbsp;method.&nbsp;Args:&nbsp;question_type&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;question_id&nbsp;str:&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;question_text&nbsp;str:&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.&nbsp;Args:&nbsp;None&nbsp;Returns:&nbsp;TupleListDict,&nbsp;ListDict:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>,&nbsp;re.sub,&nbsp;.join,&nbsp;element.strip,&nbsp;&nbsp;,&nbsp;set,&nbsp;input_str.split,&nbsp;re.subs</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>response.strip,&nbsp;list_to_update.append</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>n.join,&nbsp;logging.info,&nbsp;logger.error,&nbsp;self.llm,&nbsp;self.prompt.format,&nbsp;iteminstruction.startswith,&nbsp;any</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;process_question&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>info.get,&nbsp;self.clean_and_get_unique_elements,&nbsp;self.get_response_from_llm,&nbsp;strresponse.strip,&nbsp;str,&nbsp;question_id.endswith,&nbsp;self.instruct_list.append</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;get_string_from_info&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>,&nbsp;item.strip,&nbsp;strinfoitem_type.split,&nbsp;.join,&nbsp;str</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;process_question_type&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>,&nbsp;self.clean_and_get_unique_elements,&nbsp;len,&nbsp;self.file_detailsclasses.items,&nbsp;question_text.format,&nbsp;self.process_question,&nbsp;self.file_detailsself.question_mappingquestion_type.items,&nbsp;self.get_string_from_info,&nbsp;.join,&nbsp;key.startswith,&nbsp;class_info.items</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self.process_question_type</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;clean_and_get_unique_elements&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>,&nbsp;.joincleaned_elements</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;add_to_list&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>list_to_update</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;get_response_from_llm&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;What&nbsp;is&nbsp;the&nbsp;docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]<br/>&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&#x27;\n&#x27;&nbsp;+&nbsp;past_instructs<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>response</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;get_string_from_info&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>,&nbsp;.joinitems</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;generate&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;DatasetGenerator&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self.instruct_list</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_datasets.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Provide&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;response&nbsp;(str)&nbsp;to&nbsp;a&nbsp;list&nbsp;(List[Dict]).<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;a&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;the&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Provide&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Create&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO<br/>)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds&nbsp;response&nbsp;to&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;be&nbsp;updated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(str):&nbsp;The&nbsp;additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Update&nbsp;the&nbsp;context&nbsp;with&nbsp;the&nbsp;selected&nbsp;instructions&nbsp;from&nbsp;the&nbsp;instruct_list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;What&nbsp;is&nbsp;the&nbsp;docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;filtered_instruct_list&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;past_instructs&nbsp;=&nbsp;&quot;\n&quot;.join([f&quot;Instruction:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nOutput:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;filtered_instruct_list])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;context&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;&quot;Here&#x27;s&nbsp;some&nbsp;detail&nbsp;about&nbsp;this&nbsp;code:&quot;&nbsp;+&nbsp;&quot;\n&quot;&nbsp;+&nbsp;past_instructs<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;self.clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm:&nbsp;object,&nbsp;prompt:&nbsp;str)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;given&nbsp;Python&nbsp;file.&nbsp;It&nbsp;provides&nbsp;a&nbsp;`DatasetGenerator`&nbsp;class&nbsp;that&nbsp;accepts&nbsp;a&nbsp;Python&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.&nbsp;The&nbsp;`clean_and_get_unique_elements`,&nbsp;`add_to_list`,&nbsp;`get_response_from_llm`,&nbsp;`process_question`,&nbsp;and&nbsp;`generate`&nbsp;methods&nbsp;are&nbsp;provided&nbsp;to&nbsp;clean&nbsp;an&nbsp;input&nbsp;string,&nbsp;add&nbsp;a&nbsp;response&nbsp;to&nbsp;the&nbsp;list,&nbsp;retrieve&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model,&nbsp;process&nbsp;questions&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method,&nbsp;and&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list&nbsp;respectively.&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;creates&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input&nbsp;and&nbsp;generates&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.&nbsp;<br/><br/>Functions:<br/>1.&nbsp;get_python_datasets:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Takes&nbsp;in&nbsp;the&nbsp;file&nbsp;path&nbsp;(str),&nbsp;file&nbsp;details&nbsp;(Dict),&nbsp;base&nbsp;name&nbsp;(str),&nbsp;list&nbsp;of&nbsp;questions&nbsp;(List[Dict]),&nbsp;use_llm&nbsp;flag&nbsp;(bool),&nbsp;language&nbsp;model&nbsp;(object),&nbsp;and&nbsp;prompt&nbsp;(str)&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;b.&nbsp;Creates&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;c.&nbsp;Generates&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;using&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;d.&nbsp;Returns&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/><br/>Class:&nbsp;DatasetGenerator<br/>1.&nbsp;__init__:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Initializes&nbsp;and&nbsp;stores&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;use_llm&nbsp;flag,&nbsp;language&nbsp;model,&nbsp;and&nbsp;prompt&nbsp;as&nbsp;class&nbsp;attributes.<br/>2.&nbsp;clean_and_get_unique_elements:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>3.&nbsp;add_to_list:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Adds&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>4.&nbsp;get_response_from_llm:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Retrieves&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>5.&nbsp;process_question:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Processes&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;`instruct_list`.<br/>6.&nbsp;process_question_type:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>7.&nbsp;generate:<br/>&nbsp;&nbsp;&nbsp;a.&nbsp;Generates&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;returns&nbsp;the&nbsp;`instruct_list`.<br/><br/>Attributes&nbsp;of&nbsp;DatasetGenerator:<br/>1.&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>2.&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>3.&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>4.&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>5.&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>6.&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>7.&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>8.&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>9.&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/><br/>Methods&nbsp;of&nbsp;DatasetGenerator:<br/>1.&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Clean&nbsp;and&nbsp;return&nbsp;unique&nbsp;elements&nbsp;from&nbsp;an&nbsp;input&nbsp;string.<br/>2.&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>3.&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Retrieves&nbsp;a&nbsp;language&nbsp;model&nbsp;response&nbsp;for&nbsp;the&nbsp;given&nbsp;query&nbsp;and&nbsp;context.<br/>4.&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict):&nbsp;Generate&nbsp;an&nbsp;output&nbsp;string&nbsp;and&nbsp;store&nbsp;in&nbsp;instruct&nbsp;list&nbsp;for&nbsp;specific&nbsp;input&nbsp;file&nbsp;elements&nbsp;and&nbsp;llm&nbsp;use&nbsp;if&nbsp;enabled.&nbsp;<br/>5.&nbsp;get_string_from_info(self,&nbsp;info,&nbsp;item_type)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;comma-separated&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements&nbsp;from&nbsp;the&nbsp;provided&nbsp;dictionary.<br/>6.&nbsp;process_question_type(self,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str):&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;or&nbsp;class&nbsp;attributes&nbsp;and&nbsp;generate&nbsp;responses.<br/>7.&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.</td></tr>
                </tbody>
            </table>
        </body>
        </html>
        