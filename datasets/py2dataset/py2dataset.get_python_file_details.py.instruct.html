
        <html>
        <head>
            <style>
                table {border-collapse: collapse; width: 100%; table-layout: fixed;}
                th, td {
                    border: 1px solid black;
                    padding: 8px;
                    text-align: left;
                    white-space: pre-line;
                    vertical-align: top;
                    word-wrap: break-word;
                }
            </style>
        </head>
        <body>
            <table>
                <thead>
                    <tr>
        <th style='width: 33.333333333333336%;'>instruction</th><th style='width: 33.333333333333336%;'>input</th><th style='width: 33.333333333333336%;'>output</th>
                    </tr>
                </thead>
                <tbody>
        <tr><td>What&nbsp;are&nbsp;the&nbsp;dependencies&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>re,&nbsp;json,&nbsp;logging,&nbsp;typing,&nbsp;ast,&nbsp;networkx</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;CodeVisitor&#x27;,&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;G.add_node&#x27;,&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;list&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;function_details_lookup.keys&#x27;,&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;ast.get_docstring&#x27;,&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&quot;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend&quot;,&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;any&#x27;,&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;class_defs.append&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;{ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;base&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.get_docstring&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;decorator&#x27;,&nbsp;&#x27;ast.Name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;attributes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;any&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self.classes.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;subnode&#x27;,&nbsp;&#x27;ast.ImportFrom&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_defs.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;,&nbsp;&#x27;ast.Call&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;arg&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;get_all_calls(child)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_def&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G.nodes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;qualified_method_name&#x27;,&nbsp;&quot;details[&#x27;calls&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;set(target_details.get(&#x27;returns&#x27;,&nbsp;[]))&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;class_def.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;called&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;tree&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}&quot;,&nbsp;&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;\&#x27;&quot;\&#x27;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;]}]}</td></tr><tr><td>What&nbsp;functions&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>get_python_file_details,&nbsp;code_graph,&nbsp;add_edges_for_calls,&nbsp;get_all_calls,&nbsp;get_edge_data_from_details,&nbsp;add_edge_with_data</td></tr><tr><td>What&nbsp;classes&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>CodeVisitor</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>file_summary</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target_details,&nbsp;source_details,&nbsp;target</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>init_method,&nbsp;source,&nbsp;target</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>calls,&nbsp;source_name</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_path</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;node.&nbsp;Args:&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.&nbsp;Returns:&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;node.</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>str:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.&nbsp;Returns:&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.,&nbsp;UnionDict,&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.&nbsp;Args:&nbsp;file_summary:&nbsp;Dictstr</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.&nbsp;Args:&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;Returns:&nbsp;Dictstr,&nbsp;UnionDict,&nbsp;str:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls.update,&nbsp;get_all_calls,&nbsp;isinstance,&nbsp;ast.iter_child_nodes,&nbsp;ast.unparse</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>function_details_lookup.keys,&nbsp;class_detailsmethod_defs.items,&nbsp;class_method_details_lookup.items,&nbsp;set,&nbsp;nx.DiGraph,&nbsp;G.add_edge,&nbsp;target_details.get,&nbsp;G.edges.data,&nbsp;class_def.keys,&nbsp;function_details_lookup.items,&nbsp;function_details_lookup.update,&nbsp;list,&nbsp;called.split,&nbsp;source_name.split,&nbsp;function_details_lookup.get,&nbsp;called.startswith,&nbsp;get_edge_data_from_details,&nbsp;add_edge_with_data,&nbsp;class_method_details_lookup.get,&nbsp;Gsourcetarget.update,&nbsp;G.add_node,&nbsp;class_def.items,&nbsp;add_edges_for_calls,&nbsp;called.replace</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target_details.get,&nbsp;set,&nbsp;list</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>G.add_edge,&nbsp;class_method_details_lookup.get,&nbsp;get_edge_data_from_details,&nbsp;function_details_lookup.get</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>called.split,&nbsp;source_name.split,&nbsp;class_def.keys,&nbsp;called.startswith,&nbsp;add_edge_with_data,&nbsp;G.add_node,&nbsp;list,&nbsp;called.replace</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>ast.parse,&nbsp;code_graph,&nbsp;json.dumpsfile_detailsfile_infofile_summary.replace,&nbsp;json.dumps,&nbsp;CodeVisitor,&nbsp;open,&nbsp;f.read,&nbsp;visitor.analyze,&nbsp;logging.warning</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>method_name,&nbsp;function_details_lookup,&nbsp;edge_data,&nbsp;class_method_details_lookup,&nbsp;target_details,&nbsp;qualified_method_name,&nbsp;edges,&nbsp;nodes,&nbsp;fully_qualified_name,&nbsp;init_method_name,&nbsp;class_names,&nbsp;called_class_name,&nbsp;init_method,&nbsp;source_details,&nbsp;G</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>target_details,&nbsp;source_details</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>method_name,&nbsp;init_method_name,&nbsp;fully_qualified_name,&nbsp;class_names,&nbsp;called_class_name,&nbsp;init_method</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>code,&nbsp;file_details,&nbsp;visitor,&nbsp;tree</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>edges:&nbsp;edges,&nbsp;edge_data,&nbsp;nodes:&nbsp;nodes</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returned&nbsp;items&nbsp;from&nbsp;the&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_details,&nbsp;None</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;methods&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>analyze,&nbsp;extract_details,&nbsp;visit_FunctionDef,&nbsp;visit_ClassDef</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;Abstract&nbsp;Syntax&nbsp;Tree&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.&nbsp;Attributes:&nbsp;code&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.&nbsp;functionsDict:&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.&nbsp;classes&nbsp;Dict:&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.&nbsp;file_info&nbsp;Dict:&nbsp;details&nbsp;about&nbsp;the&nbsp;file.&nbsp;Methods:&nbsp;visit_FunctionDefnode:&nbsp;ast.FunctionDef&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.&nbsp;visit_ClassDefnode:&nbsp;ast.ClassDef&nbsp;-&gt;&nbsp;None:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.&nbsp;extract_detailsnode:&nbsp;ast.AST,&nbsp;Liststr:&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.&nbsp;analyzenode:&nbsp;ast.AST&nbsp;-&gt;&nbsp;None:&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.,&nbsp;node_type:&nbsp;str&nbsp;-&gt;&nbsp;Dictstr,&nbsp;Unionstr</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;attributes&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>file_info,&nbsp;current_class</td></tr><tr><td>What&nbsp;variables&nbsp;are&nbsp;defined&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>method_defs,&nbsp;node_walk,&nbsp;function_defs,&nbsp;call_data,&nbsp;class_defs,&nbsp;attributes,&nbsp;details</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;inheritance&nbsp;of&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>ast.NodeVisitor</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>code,&nbsp;self</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>self,&nbsp;node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>self,&nbsp;node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>self,&nbsp;node_type,&nbsp;node</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;inputs&nbsp;to&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>self,&nbsp;node</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.&nbsp;Args:&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.&nbsp;Args:&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.&nbsp;Args:&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>Liststr:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.,&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.&nbsp;Args:&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.&nbsp;Returns:&nbsp;Dictstr,&nbsp;Unionstr</td></tr><tr><td>What&nbsp;is&nbsp;the&nbsp;docstring&nbsp;of&nbsp;the&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;node,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;file_info&nbsp;with&nbsp;file&nbsp;details&nbsp;Args:&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.&nbsp;Returns:&nbsp;None</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>call_data.keys,&nbsp;any,&nbsp;ast.get_docstring,&nbsp;self.classesself.current_classclass_attributes.extend,&nbsp;set,&nbsp;get_all_calls,&nbsp;isinstance,&nbsp;ast.walk,&nbsp;list,&nbsp;ast.unparse,&nbsp;ast.dump,&nbsp;details.update</td></tr><tr><td>What&nbsp;calls&nbsp;are&nbsp;made&nbsp;in&nbsp;the&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}</td><td>class_defs.append,&nbsp;method_name.startswith,&nbsp;len,&nbsp;self.functions.keys,&nbsp;class_details.items,&nbsp;self.classes.keys,&nbsp;self.classes.items,&nbsp;isinstance,&nbsp;ast.walk,&nbsp;self.functions.items,&nbsp;list,&nbsp;self.visit,&nbsp;ast.dump</td></tr><tr><td>What&nbsp;are&nbsp;the&nbsp;returns&nbsp;from&nbsp;the&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;the&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;ast.get_docstring(node),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;class_attributes&#x27;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&#x27;class_attributes&#x27;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>details</td></tr><tr><td>1)&nbsp;Describe&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;the&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py;&nbsp;2)&nbsp;Provide&nbsp;an&nbsp;itemized&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;Explain&nbsp;what&nbsp;each&nbsp;of&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;do&nbsp;within&nbsp;the&nbsp;file.</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;and&nbsp;file&nbsp;details&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;get_all_calls(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list:&nbsp;A&nbsp;list&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_name&quot;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_code&quot;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_ast&quot;:&nbsp;ast.dump(node,&nbsp;include_attributes=True),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_docstring&quot;:&nbsp;ast.get_docstring(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_inputs&quot;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_defaults&quot;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_returns&quot;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_calls&quot;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_call_inputs&quot;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_variables&quot;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_decorators&quot;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_annotations&quot;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{node_type}_properties&quot;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;attributes:&nbsp;#&nbsp;if&nbsp;this&nbsp;class&nbsp;already&nbsp;has&nbsp;some&nbsp;attributes,&nbsp;add&nbsp;to&nbsp;them<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&quot;class_attributes&quot;&nbsp;in&nbsp;self.classes[self.current_class]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;].extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;#&nbsp;otherwise,&nbsp;start&nbsp;a&nbsp;new&nbsp;list&nbsp;of&nbsp;attributes&nbsp;for&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][&quot;class_attributes&quot;]&nbsp;=&nbsp;attributes<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_attributes&quot;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_inheritance&quot;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;class_static_methods&quot;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_code&quot;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_ast&quot;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_dependencies&quot;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_functions&quot;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;file_classes&quot;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;function_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;function_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;function_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;function_returns&quot;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&quot;inputs&quot;:&nbsp;details[&quot;method_inputs&quot;],&nbsp;&quot;calls&quot;:&nbsp;details[&quot;method_calls&quot;],&nbsp;&quot;call_inputs&quot;:&nbsp;details[&quot;method_call_inputs&quot;],&nbsp;&quot;returns&quot;:&nbsp;details[&quot;method_returns&quot;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&quot;method_defs&quot;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&quot;file_summary&quot;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&quot;file_dependencies&quot;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>1.&nbsp;The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;given&nbsp;Python&nbsp;file&nbsp;using&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree),&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph,&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.&nbsp;It&nbsp;provides&nbsp;functions&nbsp;for&nbsp;getting&nbsp;all&nbsp;calls&nbsp;in&nbsp;an&nbsp;AST&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;a&nbsp;specified&nbsp;node,&nbsp;class&nbsp;and&nbsp;function&nbsp;definition&nbsp;analysis&nbsp;with&nbsp;associated&nbsp;methods&nbsp;such&nbsp;as&nbsp;getting&nbsp;their&nbsp;attributes&nbsp;and&nbsp;call&nbsp;details,&nbsp;extracting&nbsp;summaries&nbsp;from&nbsp;a&nbsp;file&nbsp;using&nbsp;CodeVisitor&nbsp;class,&nbsp;creating&nbsp;a&nbsp;comprehensive&nbsp;code&nbsp;graph&nbsp;representing&nbsp;relationships&nbsp;between&nbsp;nodes&nbsp;(functions,&nbsp;classes,&nbsp;etc.),&nbsp;and&nbsp;extracting&nbsp;file-level&nbsp;information.&nbsp;<br/>2.&nbsp;Functions:&nbsp;get_all_calls&nbsp;-&nbsp;This&nbsp;function&nbsp;recursively&nbsp;finds&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;a&nbsp;specified&nbsp;node;&nbsp;CodeVisitor&nbsp;-&nbsp;Extracts&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;classes&nbsp;in&nbsp;a&nbsp;Python&nbsp;file&nbsp;using&nbsp;AST;&nbsp;code_graph&nbsp;-&nbsp;Creates&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;in&nbsp;a&nbsp;code&nbsp;graph&nbsp;based&nbsp;on&nbsp;function/class/method&nbsp;call&nbsp;relationships,&nbsp;returns&nbsp;comprehensive&nbsp;information&nbsp;on&nbsp;file&nbsp;level;&nbsp;get_python_file_details&nbsp;-&nbsp;This&nbsp;function&nbsp;takes&nbsp;in&nbsp;a&nbsp;file&nbsp;path,&nbsp;extracts&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;CodeVisitor&nbsp;class&nbsp;and&nbsp;includes&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>3.&nbsp;Input:&nbsp;<br/>-&nbsp;get_all_calls(node):&nbsp;Accepts&nbsp;an&nbsp;AST&nbsp;node&nbsp;as&nbsp;input&nbsp;and&nbsp;recursively&nbsp;finds&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;its&nbsp;subtree.<br/>-&nbsp;CodeVisitor(code):&nbsp;Initializes&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class&nbsp;with&nbsp;source&nbsp;code,&nbsp;visits&nbsp;functions&nbsp;and&nbsp;classes&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;them,&nbsp;and&nbsp;stores&nbsp;their&nbsp;attributes/properties,&nbsp;such&nbsp;as&nbsp;function&nbsp;name,&nbsp;definition,&nbsp;docstring,&nbsp;inputs,&nbsp;return&nbsp;types,&nbsp;annotations,&nbsp;call_inputs,&nbsp;and&nbsp;defaults&nbsp;in&nbsp;dictionaries.<br/>-&nbsp;analyze(node):&nbsp;Traverses&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;&nbsp;and&nbsp;populates&nbsp;file_info&nbsp;with&nbsp;comprehensive&nbsp;details&nbsp;about&nbsp;the&nbsp;code.&nbsp;<br/>-&nbsp;code_graph(file_summary):&nbsp;Accepts&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;file&nbsp;summary&nbsp;information&nbsp;(e.g.,&nbsp;dependencies,&nbsp;function&nbsp;names,&nbsp;class&nbsp;names)&nbsp;and&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;in&nbsp;the&nbsp;code&nbsp;graph,&nbsp;indicating&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>-&nbsp;get_python_file_details(file_path):&nbsp;Extracts&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;AST&nbsp;and&nbsp;the&nbsp;CodeVisitor&nbsp;class,&nbsp;including&nbsp;the&nbsp;entire&nbsp;file&nbsp;graph.</td></tr>
                </tbody>
            </table>
        </body>
        </html>
        