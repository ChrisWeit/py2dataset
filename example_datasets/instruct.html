
        <html>
        <head>
            <style>
                table {border-collapse: collapse; width: 100%; table-layout: fixed;}
                th, td {
                    border: 1px solid black;
                    padding: 8px;
                    text-align: left;
                    white-space: pre-line;
                    vertical-align: top;
                    word-wrap: break-word;
                }
            </style>
        </head>
        <body>
            <table>
                <thead>
                    <tr>
        <th style='width: 33.333333333333336%;'>instruction</th><th style='width: 33.333333333333336%;'>input</th><th style='width: 33.333333333333336%;'>output</th>
                    </tr>
                </thead>
                <tbody>
        <tr><td>Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>import&nbsp;yaml<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returns&nbsp;from&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;14000,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>os,&nbsp;importlib,&nbsp;typing,&nbsp;json,&nbsp;pathlib,&nbsp;logging,&nbsp;yaml</td></tr><tr><td>Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>import&nbsp;yaml<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returns&nbsp;from&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;14000,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;get_default_questions&#x27;,&nbsp;&#x27;get_default_model_config&#x27;,&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;os.makedirs&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;json.load&#x27;,&nbsp;&quot;model_config[&#x27;model_import_path&#x27;].rsplit&quot;,&nbsp;&#x27;getattr&#x27;,&nbsp;&#x27;importlib.import_module&#x27;,&nbsp;&#x27;inference_function&#x27;,&nbsp;&#x27;model_params.pop&#x27;,&nbsp;&#x27;ModelClass&#x27;,&nbsp;&#x27;yaml.safe_load&#x27;,&nbsp;&#x27;Path(output_dir).is_dir&#x27;,&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;yaml.dump&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&nbsp;or&nbsp;OUTPUT_DIR&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.makedirs&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.getcwd()&#x27;,&nbsp;&#x27;QUESTIONS_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;questions_pathname&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_questions&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;questions&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;model_config[&#x27;model_import_path&#x27;].rsplit&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;,&nbsp;&#x27;1&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;getattr&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;ModelClass&#x27;,&nbsp;&#x27;inference_function_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;importlib.import_module&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;module_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;inference_function&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;model_params.pop(&#x27;model_path&#x27;)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;model_params.pop&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;model_path&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ModelClass&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;model_params.pop(&#x27;model_path&#x27;)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.getcwd()&#x27;,&nbsp;&#x27;MODEL_CONFIG_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;model_config_pathname&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.safe_load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;config_file&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_model_config&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;model_config&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;instantiate_model&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;model_config[&#x27;inference_model&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;model&#x27;,&nbsp;&#x27;None&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_questions&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;questions&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(output_dir).is_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.path.join(output_dir,&nbsp;QUESTIONS_FILE)&#x27;,&nbsp;&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;,&nbsp;&#x27;QUESTIONS_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_questions_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;questions&#x27;,&nbsp;&#x27;file&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_default_model_config&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;model_config&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(output_dir).is_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE)&#x27;,&nbsp;&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;,&nbsp;&#x27;MODEL_CONFIG_FILE&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_model_config_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;model_config&#x27;,&nbsp;&#x27;file&#x27;]}]}</td></tr><tr><td>Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>import&nbsp;yaml<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returns&nbsp;from&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;14000,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>get_questions,&nbsp;get_model,&nbsp;write_model_config_file,&nbsp;get_output_dir,&nbsp;write_questions_file,&nbsp;get_default_questions,&nbsp;get_default_model_config,&nbsp;instantiate_model</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`get_output_dir`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>output_dir</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`get_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions_pathname</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`instantiate_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>model_config</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`get_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>model_config_pathname</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`write_questions_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>output_dir</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`write_model_config_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>output_dir</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_default_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[{&#x27;id&#x27;:&nbsp;&#x27;file_dependencies&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;entire_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_functions&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_classes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_methods&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_attributes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_inheritance&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Returns&nbsp;from&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_purpose&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;}]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_default_model_config`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{&#x27;prompt_template&#x27;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,&nbsp;&#x27;inference_model&#x27;:&nbsp;{&#x27;model_import_path&#x27;:&nbsp;&#x27;ctransformers.AutoModelForCausalLM&#x27;,&nbsp;&#x27;model_inference_function&#x27;:&nbsp;&#x27;from_pretrained&#x27;,&nbsp;&#x27;model_params&#x27;:&nbsp;{&#x27;model_path&#x27;:&nbsp;&#x27;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&#x27;,&nbsp;&#x27;model_type&#x27;:&nbsp;&#x27;llama&#x27;,&nbsp;&#x27;local_files_only&#x27;:&nbsp;False,&nbsp;&#x27;threads&#x27;:&nbsp;28,&nbsp;&#x27;batch_size&#x27;:&nbsp;128,&nbsp;&#x27;context_length&#x27;:&nbsp;14000,&nbsp;&#x27;max_new_tokens&#x27;:&nbsp;8092,&nbsp;&#x27;gpu_layers&#x27;:&nbsp;100,&nbsp;&#x27;reset&#x27;:&nbsp;True}}}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_output_dir`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`instantiate_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`write_questions_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`write_model_config_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`get_output_dir`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>os.makedirs,&nbsp;logging.info,&nbsp;os.path.abspath</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`get_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>logging.info,&nbsp;get_default_questions,&nbsp;open,&nbsp;json.load,&nbsp;os.path.join,&nbsp;os.getcwd</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`instantiate_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>model_params.pop,&nbsp;model_configmodel_import_path.rsplit,&nbsp;logging.info,&nbsp;ModelClass,&nbsp;getattr,&nbsp;inference_function,&nbsp;importlib.import_module</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`get_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>logging.info,&nbsp;get_default_model_config,&nbsp;open,&nbsp;yaml.safe_load,&nbsp;instantiate_model,&nbsp;os.path.join,&nbsp;os.getcwd</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`write_questions_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>Path,&nbsp;get_default_questions,&nbsp;json.dump,&nbsp;open,&nbsp;Pathoutput_dir.is_dir,&nbsp;os.path.join,&nbsp;os.getcwd</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`write_model_config_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>Path,&nbsp;get_default_model_config,&nbsp;yaml.dump,&nbsp;open,&nbsp;Pathoutput_dir.is_dir,&nbsp;os.path.join,&nbsp;os.getcwd</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_default_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[{&#x27;id&#x27;:&nbsp;&#x27;file_dependencies&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;entire_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_functions&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_classes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_methods&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_attributes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_inheritance&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Returns&nbsp;from&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_purpose&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;}]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_default_model_config`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{&#x27;prompt_template&#x27;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,&nbsp;&#x27;inference_model&#x27;:&nbsp;{&#x27;model_import_path&#x27;:&nbsp;&#x27;ctransformers.AutoModelForCausalLM&#x27;,&nbsp;&#x27;model_inference_function&#x27;:&nbsp;&#x27;from_pretrained&#x27;,&nbsp;&#x27;model_params&#x27;:&nbsp;{&#x27;model_path&#x27;:&nbsp;&#x27;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&#x27;,&nbsp;&#x27;model_type&#x27;:&nbsp;&#x27;llama&#x27;,&nbsp;&#x27;local_files_only&#x27;:&nbsp;False,&nbsp;&#x27;threads&#x27;:&nbsp;28,&nbsp;&#x27;batch_size&#x27;:&nbsp;128,&nbsp;&#x27;context_length&#x27;:&nbsp;14000,&nbsp;&#x27;max_new_tokens&#x27;:&nbsp;8092,&nbsp;&#x27;gpu_layers&#x27;:&nbsp;100,&nbsp;&#x27;reset&#x27;:&nbsp;True}}}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>model_config</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_output_dir`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>output_dir</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions,&nbsp;questions_pathname</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`instantiate_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>model,&nbsp;inference_function_name,&nbsp;ModelClass,&nbsp;model_params,&nbsp;inference_function</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>model_config,&nbsp;model_config_pathname</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`write_questions_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)</td><td>questions,&nbsp;output_dir</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`write_model_config_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)</td><td>model_config,&nbsp;output_dir</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_default_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[{&#x27;id&#x27;:&nbsp;&#x27;file_dependencies&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;entire_code_graph&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_functions&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_classes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;function_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;function&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_methods&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_attributes&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_variables&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;class_inheritance&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;class&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_inputs&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_docstring&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_calls&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;method_returns&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;Returns&nbsp;from&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;method&#x27;},&nbsp;{&#x27;id&#x27;:&nbsp;&#x27;file_purpose&#x27;,&nbsp;&#x27;text&#x27;:&nbsp;&quot;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.&quot;,&nbsp;&#x27;type&#x27;:&nbsp;&#x27;file&#x27;}]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_default_model_config`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{&#x27;prompt_template&#x27;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,&nbsp;&#x27;inference_model&#x27;:&nbsp;{&#x27;model_import_path&#x27;:&nbsp;&#x27;ctransformers.AutoModelForCausalLM&#x27;,&nbsp;&#x27;model_inference_function&#x27;:&nbsp;&#x27;from_pretrained&#x27;,&nbsp;&#x27;model_params&#x27;:&nbsp;{&#x27;model_path&#x27;:&nbsp;&#x27;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&#x27;,&nbsp;&#x27;model_type&#x27;:&nbsp;&#x27;llama&#x27;,&nbsp;&#x27;local_files_only&#x27;:&nbsp;False,&nbsp;&#x27;threads&#x27;:&nbsp;28,&nbsp;&#x27;batch_size&#x27;:&nbsp;128,&nbsp;&#x27;context_length&#x27;:&nbsp;14000,&nbsp;&#x27;max_new_tokens&#x27;:&nbsp;8092,&nbsp;&#x27;gpu_layers&#x27;:&nbsp;100,&nbsp;&#x27;reset&#x27;:&nbsp;True}}}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>model_config</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_output_dir`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir</td><td>output_dir</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_questions`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions</td><td>questions</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`instantiate_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&#x27;&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None</td><td>model,&nbsp;None</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_model`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`?</td><td>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config</td><td>model_config</td></tr><tr><td>1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_py2dataset_params.py`;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.</td><td>&quot;&quot;&quot;<br/>Obtain&nbsp;data&nbsp;parameter&nbsp;and&nbsp;model&nbsp;from&nbsp;the&nbsp;py2dataset&nbsp;functions.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`get_default_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Ensure&nbsp;each&nbsp;question&nbsp;in&nbsp;the&nbsp;list&nbsp;is&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Ensure&nbsp;each&nbsp;dictionary&nbsp;has&nbsp;the&nbsp;keys:&nbsp;id,&nbsp;text,&nbsp;and&nbsp;type.<br/>[req02]&nbsp;The&nbsp;`get_default_model_config`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration.<br/>[req03]&nbsp;The&nbsp;`get_output_dir`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Return&nbsp;the&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;if&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req04]&nbsp;The&nbsp;`get_questions`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;questions_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;question&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;questions_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;questions&nbsp;from&nbsp;the&nbsp;provided&nbsp;questions_pathname&nbsp;if&nbsp;valid.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;default&nbsp;questions&nbsp;if&nbsp;the&nbsp;questions_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req05]&nbsp;The&nbsp;`instantiate_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;model_config&nbsp;dictionary&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Import&nbsp;the&nbsp;specified&nbsp;module&nbsp;and&nbsp;class&nbsp;from&nbsp;the&nbsp;model_config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Instantiate&nbsp;and&nbsp;return&nbsp;the&nbsp;model&nbsp;using&nbsp;the&nbsp;provided&nbsp;configuration.<br/>[req06]&nbsp;The&nbsp;`get_model`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;model_config_pathname&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Validate&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;provided&nbsp;by&nbsp;the&nbsp;model_config_pathname.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;a&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;if&nbsp;the&nbsp;model_config_pathname&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req07]&nbsp;The&nbsp;`write_questions_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>[req08]&nbsp;The&nbsp;`write_model_config_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;an&nbsp;optional&nbsp;output_dir&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;specified&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Write&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;to&nbsp;the&nbsp;MODEL_CONFIG_FILE&nbsp;in&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;the&nbsp;output_dir&nbsp;argument&nbsp;is&nbsp;not&nbsp;provided&nbsp;or&nbsp;invalid.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;importlib<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>import&nbsp;yaml<br/><br/>#&nbsp;Setting&nbsp;up&nbsp;a&nbsp;basic&nbsp;logger<br/>logging.basicConfig(level=logging.INFO)<br/><br/>QUESTIONS_FILE&nbsp;=&nbsp;&#x27;py2dataset_questions.json&#x27;<br/>MODEL_CONFIG_FILE&nbsp;=&nbsp;&#x27;py2dataset_model_config.yaml&#x27;<br/>OUTPUT_DIR&nbsp;=&nbsp;&#x27;datasets&#x27;<br/><br/>def&nbsp;get_default_questions()&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;default&nbsp;question&nbsp;list<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_dependencies&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;entire_code_graph&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_functions&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_classes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;function_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;{function_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;function&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_methods&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_attributes&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_variables&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;class_inheritance&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;class&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_inputs&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_docstring&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_calls&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;method_returns&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;Returns&nbsp;from&nbsp;method:&nbsp;&#x27;{method_name}&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;{class_name}&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;?&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;method&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;},<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;id&quot;:&nbsp;&quot;file_purpose&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;text&quot;:&nbsp;&quot;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;{filename}&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;type&quot;:&nbsp;&quot;file&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;get_default_model_config()&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Return&nbsp;default&nbsp;model&nbsp;config&nbsp;dict<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict:&nbsp;The&nbsp;default&nbsp;model&nbsp;config&nbsp;dictionary<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;prompt_template&quot;:&nbsp;&quot;\n###&nbsp;Instruction:\nGiven&nbsp;this&nbsp;context:\n&#x27;{context}&#x27;\nPlease&nbsp;analyze&nbsp;this&nbsp;code&nbsp;you&nbsp;created&nbsp;provide&nbsp;a&nbsp;comprehensive&nbsp;response&nbsp;without&nbsp;duplicating&nbsp;the&nbsp;input&nbsp;code,&nbsp;include&nbsp;enough&nbsp;detail&nbsp;for&nbsp;me&nbsp;to&nbsp;implement&nbsp;the&nbsp;same&nbsp;logic,&nbsp;and&nbsp;include&nbsp;your&nbsp;reasoning&nbsp;step&nbsp;by&nbsp;step:&nbsp;{query}\n###&nbsp;Response:&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;inference_model&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_import_path&quot;:&nbsp;&quot;ctransformers.AutoModelForCausalLM&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_inference_function&quot;:&nbsp;&quot;from_pretrained&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_params&quot;:&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_path&quot;:&nbsp;&quot;TheBloke/WizardCoder-Python-13B-V1.0-GGUF&quot;,&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;model_type&quot;:&nbsp;&quot;llama&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;local_files_only&quot;:&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;##&nbsp;MODEL&nbsp;CONFIGURATION&nbsp;PARAMETERS&nbsp;(GPU&nbsp;4090&nbsp;-&nbsp;24GB&nbsp;VRAM,&nbsp;CPU&nbsp;5950x&nbsp;-&nbsp;32&nbsp;threads,&nbsp;64GB&nbsp;RAM)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#avx2&nbsp;and&nbsp;gpu_layers&nbsp;are&nbsp;not&nbsp;compatible<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&quot;lib&quot;:&nbsp;&quot;avx2&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;threads&quot;:&nbsp;28,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;batch_size&quot;:&nbsp;128,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;context_length&quot;:&nbsp;14000,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;max_new_tokens&quot;:&nbsp;8092,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;gpu_layers&quot;:&nbsp;100,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;reset&quot;:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;get_output_dir(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Returns&nbsp;the&nbsp;appropriate&nbsp;output&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;absolute&nbsp;path&nbsp;of&nbsp;the&nbsp;provided&nbsp;output_dir&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;os.path.abspath(output_dir&nbsp;or&nbsp;OUTPUT_DIR)<br/>&nbsp;&nbsp;&nbsp;&nbsp;os.makedirs(output_dir,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;output&nbsp;directory:&nbsp;{output_dir}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;output_dir<br/><br/><br/>def&nbsp;get_questions(questions_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;questions&nbsp;from&nbsp;file&nbsp;or&nbsp;default<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;questions&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;list&nbsp;of&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:&nbsp;#&nbsp;get&nbsp;questions&nbsp;from&nbsp;provided&nbsp;or&nbsp;default&nbsp;configuration&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;questions_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;QUESTIONS_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(questions_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;questions&nbsp;from&nbsp;file:&nbsp;{questions_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(FileNotFoundError,&nbsp;json.decoder.JSONDecodeError):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Questions&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{questions_pathname}&nbsp;Using&nbsp;default&nbsp;questions&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;questions<br/><br/><br/>def&nbsp;instantiate_model(model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;object:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Imports&nbsp;and&nbsp;instantiates&nbsp;a&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(dict):&nbsp;model&nbsp;configuration&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;object:&nbsp;An&nbsp;instance&nbsp;of&nbsp;the&nbsp;specified&nbsp;model&nbsp;class,&nbsp;or&nbsp;None&nbsp;if&nbsp;error.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;module_name,&nbsp;class_name&nbsp;=&nbsp;model_config[&#x27;model_import_path&#x27;].rsplit(&#x27;.&#x27;,&nbsp;1)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ModelClass&nbsp;=&nbsp;getattr(importlib.import_module(module_name),&nbsp;class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_params&nbsp;=&nbsp;model_config[&#x27;model_params&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function_name&nbsp;=&nbsp;model_config[&#x27;model_inference_function&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;inference_function_name&nbsp;!=&nbsp;&quot;&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inference_function&nbsp;=&nbsp;getattr(ModelClass,&nbsp;inference_function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;inference_function(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model&nbsp;=&nbsp;ModelClass(model_params.pop(&#x27;model_path&#x27;),&nbsp;**model_params)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(ImportError,&nbsp;AttributeError,&nbsp;Exception)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&quot;Failed&nbsp;to&nbsp;instantiate&nbsp;the&nbsp;model.&nbsp;Error:&nbsp;{e}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/><br/>def&nbsp;get_model(model_config_pathname:&nbsp;str)&nbsp;-&gt;&nbsp;tuple[object,&nbsp;str]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns&nbsp;an&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;based&nbsp;on&nbsp;the&nbsp;model&nbsp;configuration.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Agrs:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;The&nbsp;pathname&nbsp;of&nbsp;the&nbsp;model&nbsp;config&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[object,&nbsp;str]:&nbsp;The&nbsp;instantiated&nbsp;model&nbsp;and&nbsp;prompt&nbsp;template&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;model_config_pathname:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;os.path.join(os.getcwd(),&nbsp;MODEL_CONFIG_FILE)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(model_config_pathname,&nbsp;&#x27;r&#x27;)&nbsp;as&nbsp;config_file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;yaml.safe_load(config_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Using&nbsp;model&nbsp;config&nbsp;from&nbsp;file:&nbsp;{model_config_pathname}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Model&nbsp;config&nbsp;file&nbsp;not&nbsp;valid:&nbsp;{model_config_pathname}&nbsp;Using&nbsp;default&nbsp;model&nbsp;config&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config[&#x27;model&#x27;]&nbsp;=&nbsp;instantiate_model(model_config[&#x27;inference_model&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;model_config<br/><br/><br/>def&nbsp;write_questions_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;questions&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;questions&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_default_questions()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;QUESTIONS_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(questions,&nbsp;file,&nbsp;indent=4)<br/><br/><br/>def&nbsp;write_model_config_file(output_dir:&nbsp;str=&#x27;&#x27;)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;the&nbsp;default&nbsp;model&nbsp;config&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;YAML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;to&nbsp;write&nbsp;the&nbsp;model&nbsp;config&nbsp;file&nbsp;to.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_default_model_config()<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;output_dir&nbsp;if&nbsp;output_dir&nbsp;and&nbsp;Path(output_dir).is_dir()&nbsp;else&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(os.path.join(output_dir,&nbsp;MODEL_CONFIG_FILE),&nbsp;&#x27;w&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(model_config,&nbsp;file)<br/></td><td>The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;obtain&nbsp;parameters&nbsp;needed&nbsp;by&nbsp;the&nbsp;py2dataset&nbsp;application&nbsp;for&nbsp;creating&nbsp;a&nbsp;dataset.&nbsp;These&nbsp;parameters&nbsp;include:&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;that&nbsp;define&nbsp;what&nbsp;types&nbsp;of&nbsp;data&nbsp;py2dataset&nbsp;can&nbsp;generate&nbsp;based&nbsp;on&nbsp;user-provided&nbsp;prompts,&nbsp;a&nbsp;model&nbsp;configuration&nbsp;dictionary&nbsp;specifying&nbsp;the&nbsp;type&nbsp;and&nbsp;settings&nbsp;of&nbsp;the&nbsp;language&nbsp;model&nbsp;used&nbsp;for&nbsp;inference,&nbsp;an&nbsp;output&nbsp;directory&nbsp;for&nbsp;writing&nbsp;generated&nbsp;datasets,&nbsp;and&nbsp;paths&nbsp;to&nbsp;files&nbsp;containing&nbsp;customized&nbsp;questions&nbsp;or&nbsp;model&nbsp;configurations.&nbsp;The&nbsp;file&nbsp;also&nbsp;includes&nbsp;functions&nbsp;for&nbsp;obtaining&nbsp;these&nbsp;parameters&nbsp;from&nbsp;various&nbsp;sources&nbsp;(default&nbsp;values,&nbsp;provided&nbsp;files,&nbsp;or&nbsp;arguments&nbsp;passed&nbsp;in)&nbsp;and&nbsp;instantiating&nbsp;the&nbsp;desired&nbsp;language&nbsp;model&nbsp;with&nbsp;its&nbsp;appropriate&nbsp;parameters&nbsp;based&nbsp;on&nbsp;those&nbsp;inputs.&nbsp;It&nbsp;can&nbsp;write&nbsp;default&nbsp;or&nbsp;customized&nbsp;prompt&nbsp;templates,&nbsp;questions,&nbsp;and&nbsp;model&nbsp;configurations&nbsp;to&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format&nbsp;files&nbsp;if&nbsp;needed.&nbsp;<br/><br/>Functions:<br/>-&nbsp;`get_default_questions()`&nbsp;returns&nbsp;a&nbsp;list&nbsp;of&nbsp;default&nbsp;questions&nbsp;that&nbsp;py2dataset&nbsp;can&nbsp;generate&nbsp;data&nbsp;for.&nbsp;Each&nbsp;question&nbsp;is&nbsp;represented&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;with&nbsp;an&nbsp;ID,&nbsp;text,&nbsp;and&nbsp;type&nbsp;(file,&nbsp;function,&nbsp;class,&nbsp;etc.).<br/>-&nbsp;`get_default_model_config()`&nbsp;returns&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;in&nbsp;YAML&nbsp;format,&nbsp;which&nbsp;includes&nbsp;the&nbsp;prompt&nbsp;template&nbsp;and&nbsp;the&nbsp;settings&nbsp;used&nbsp;to&nbsp;instantiate&nbsp;a&nbsp;language&nbsp;model&nbsp;from&nbsp;ctransformers&nbsp;library.<br/>-&nbsp;`get_output_dir(output_dir=&#x27;&#x27;)`&nbsp;takes&nbsp;an&nbsp;optional&nbsp;output&nbsp;directory&nbsp;argument&nbsp;and&nbsp;returns&nbsp;its&nbsp;absolute&nbsp;path&nbsp;if&nbsp;it&nbsp;exists&nbsp;or&nbsp;can&nbsp;be&nbsp;created.&nbsp;If&nbsp;no&nbsp;valid&nbsp;output&nbsp;directory&nbsp;is&nbsp;provided,&nbsp;it&nbsp;uses&nbsp;the&nbsp;default&nbsp;OUTPUT_DIR&nbsp;variable&nbsp;defined&nbsp;in&nbsp;the&nbsp;file.<br/>-&nbsp;`get_questions(questions_pathname)`&nbsp;gets&nbsp;questions&nbsp;from&nbsp;a&nbsp;specified&nbsp;file&nbsp;or&nbsp;falls&nbsp;back&nbsp;to&nbsp;default&nbsp;settings&nbsp;when&nbsp;it&nbsp;is&nbsp;invalid&nbsp;(no&nbsp;valid&nbsp;question&nbsp;files&nbsp;exist&nbsp;or&nbsp;fail&nbsp;to&nbsp;parse&nbsp;as&nbsp;JSON)&nbsp;<br/>-&nbsp;`instantiate_model(model_config:&nbsp;dict)&nbsp;-&gt;&nbsp;object`&nbsp;imports&nbsp;and&nbsp;instantiates&nbsp;the&nbsp;desired&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;configuration.<br/>-&nbsp;`get_model(model_config_pathname)`&nbsp;gets&nbsp;a&nbsp;model&nbsp;from&nbsp;a&nbsp;specified&nbsp;file&nbsp;or&nbsp;falls&nbsp;back&nbsp;to&nbsp;default&nbsp;settings&nbsp;when&nbsp;it&nbsp;is&nbsp;invalid&nbsp;(no&nbsp;valid&nbsp;config&nbsp;files&nbsp;exist&nbsp;or&nbsp;fail&nbsp;to&nbsp;parse&nbsp;as&nbsp;YAML).&nbsp;It&nbsp;also&nbsp;returns&nbsp;an&nbsp;appropriate&nbsp;prompt&nbsp;template&nbsp;for&nbsp;that&nbsp;model&nbsp;based&nbsp;on&nbsp;its&nbsp;settings&nbsp;in&nbsp;the&nbsp;dictionary.&nbsp;<br/>-&nbsp;`write_questions_file(output_dir=&#x27;&#x27;)`&nbsp;writes&nbsp;default&nbsp;questions&nbsp;to&nbsp;the&nbsp;QUESTIONS_FILE&nbsp;if&nbsp;no&nbsp;valid&nbsp;output&nbsp;directory&nbsp;is&nbsp;provided.&nbsp;This&nbsp;function&nbsp;calls&nbsp;get_default_questions().&nbsp;<br/>-&nbsp;`write_model_config_file(output_dir=&#x27;&#x27;)`&nbsp;writes&nbsp;a&nbsp;YAML&nbsp;file&nbsp;containing&nbsp;the&nbsp;default&nbsp;model&nbsp;configuration&nbsp;(the&nbsp;template&nbsp;prompt&nbsp;and&nbsp;any&nbsp;model&nbsp;settings).<br/><br/>Inputs:&nbsp;<br/>1)&nbsp;filename&nbsp;for&nbsp;all&nbsp;functions&nbsp;except&nbsp;`get_model`&nbsp;-&nbsp;this&nbsp;is&nbsp;the&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file&nbsp;being&nbsp;analyzed.&nbsp;<br/>2)&nbsp;function_name&nbsp;for&nbsp;`function_inputs`,&nbsp;`method_inputs`,&nbsp;and&nbsp;`class_methods`.&nbsp;<br/>3)&nbsp;class_name&nbsp;for&nbsp;`class_inheritance`,&nbsp;`class_attributes`,&nbsp;`method_returns`,&nbsp;and&nbsp;`file_functions`&nbsp;-&nbsp;the&nbsp;name&nbsp;of&nbsp;a&nbsp;class&nbsp;in&nbsp;the&nbsp;file.&nbsp;<br/>4)&nbsp;model_config_pathname&nbsp;for&nbsp;`get_model`&nbsp;-&nbsp;path&nbsp;to&nbsp;the&nbsp;YAML&nbsp;configuration&nbsp;file&nbsp;for&nbsp;the&nbsp;desired&nbsp;language&nbsp;model.<br/>5)&nbsp;questions_pathname&nbsp;for&nbsp;`get_questions`&nbsp;-&nbsp;path&nbsp;to&nbsp;a&nbsp;JSON&nbsp;file&nbsp;containing&nbsp;customized&nbsp;questions.<br/>6)&nbsp;output_dir&nbsp;for&nbsp;all&nbsp;functions&nbsp;that&nbsp;write&nbsp;files&nbsp;-&nbsp;where&nbsp;to&nbsp;save&nbsp;generated&nbsp;data&nbsp;or&nbsp;configuration&nbsp;files.&nbsp;<br/><br/>Outputs:&nbsp;<br/>1)&nbsp;A&nbsp;list&nbsp;of&nbsp;dictionaries&nbsp;representing&nbsp;the&nbsp;questions&nbsp;py2dataset&nbsp;can&nbsp;generate&nbsp;data&nbsp;for,&nbsp;with&nbsp;each&nbsp;dictionary&nbsp;having&nbsp;an&nbsp;ID,&nbsp;text,&nbsp;and&nbsp;type&nbsp;(file,&nbsp;function,&nbsp;class).&nbsp;<br/>2)&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;a&nbsp;prompt&nbsp;template&nbsp;and&nbsp;model&nbsp;settings.&nbsp;<br/>3)&nbsp;An&nbsp;instance&nbsp;of&nbsp;a&nbsp;language&nbsp;model&nbsp;from&nbsp;the&nbsp;ctransformers&nbsp;library&nbsp;instantiated&nbsp;according&nbsp;to&nbsp;the&nbsp;specified&nbsp;parameters.<br/>4)&nbsp;Two&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;files&nbsp;in&nbsp;the&nbsp;desired&nbsp;output&nbsp;directory.&nbsp;One&nbsp;is&nbsp;the&nbsp;`QUESTIONS_FILE`&nbsp;file,&nbsp;which&nbsp;contains&nbsp;default&nbsp;questions&nbsp;(or&nbsp;customized&nbsp;questions&nbsp;if&nbsp;provided),&nbsp;and&nbsp;the&nbsp;other&nbsp;is&nbsp;the&nbsp;`MODEL_CONFIG_FILE`,&nbsp;containing&nbsp;the&nbsp;default&nbsp;prompt&nbsp;template&nbsp;and&nbsp;any&nbsp;model&nbsp;settings&nbsp;that&nbsp;can&nbsp;be&nbsp;adjusted&nbsp;by&nbsp;the&nbsp;user.&nbsp;<br/>&quot;&quot;&quot;<br/>Q:&nbsp;In&nbsp;`instantiate_model(model_config)`,&nbsp;what&nbsp;happens&nbsp;if&nbsp;the&nbsp;specified&nbsp;module&nbsp;or&nbsp;class&nbsp;cannot&nbsp;be&nbsp;imported?&nbsp;<br/>A:&nbsp;The&nbsp;function&nbsp;returns&nbsp;None,&nbsp;indicating&nbsp;an&nbsp;error&nbsp;in&nbsp;importing&nbsp;the&nbsp;module&nbsp;or&nbsp;class.&nbsp;This&nbsp;is&nbsp;logged&nbsp;to&nbsp;the&nbsp;console&nbsp;and&nbsp;handled&nbsp;later&nbsp;on&nbsp;when&nbsp;attempting&nbsp;to&nbsp;use&nbsp;the&nbsp;model&nbsp;instance.</td></tr><tr><td>Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;configuration&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question&nbsp;list,&nbsp;llm,&nbsp;and&nbsp;use_llm&nbsp;flag&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;llm&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;each&nbsp;question,&nbsp;generate<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;responses,&nbsp;and&nbsp;add&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;related&nbsp;to&nbsp;the&nbsp;file,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;methods.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Internally&nbsp;manage&nbsp;question&nbsp;mapping&nbsp;to&nbsp;file&nbsp;details.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;questions&nbsp;list,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;config&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Instantiate&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;instruct_list&nbsp;using&nbsp;`DatasetGenerator`&nbsp;`generate`&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>[req03]&nbsp;The&nbsp;`clean_and_get_unique_elements`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>import&nbsp;math<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&quot;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;prompt,&nbsp;context_size<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;Call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;Docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;\n&quot;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;manage&nbsp;context&nbsp;length&nbsp;for&nbsp;LLM&nbsp;starting&nbsp;with&nbsp;the&nbsp;longest&nbsp;and&nbsp;most&nbsp;comprehensive<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.70&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size/0.70)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(r&#x27;\n\s*\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.get_response_from_llm(query,&nbsp;context)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;instruction&#x27;:&nbsp;query,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;input&#x27;:&nbsp;context,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;output&#x27;:&nbsp;response_str<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>math,&nbsp;logging,&nbsp;re,&nbsp;typing</td></tr><tr><td>Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;configuration&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question&nbsp;list,&nbsp;llm,&nbsp;and&nbsp;use_llm&nbsp;flag&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;llm&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;each&nbsp;question,&nbsp;generate<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;responses,&nbsp;and&nbsp;add&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;related&nbsp;to&nbsp;the&nbsp;file,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;methods.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Internally&nbsp;manage&nbsp;question&nbsp;mapping&nbsp;to&nbsp;file&nbsp;details.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;questions&nbsp;list,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;config&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Instantiate&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;instruct_list&nbsp;using&nbsp;`DatasetGenerator`&nbsp;`generate`&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>[req03]&nbsp;The&nbsp;`clean_and_get_unique_elements`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>import&nbsp;math<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&quot;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;prompt,&nbsp;context_size<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;Call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;Docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;\n&quot;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;manage&nbsp;context&nbsp;length&nbsp;for&nbsp;LLM&nbsp;starting&nbsp;with&nbsp;the&nbsp;longest&nbsp;and&nbsp;most&nbsp;comprehensive<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.70&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size/0.70)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(r&#x27;\n\s*\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.get_response_from_llm(query,&nbsp;context)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;instruction&#x27;:&nbsp;query,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;input&#x27;:&nbsp;context,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;output&#x27;:&nbsp;response_str<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;DatasetGenerator.__init__&#x27;,&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;DatasetGenerator.get_context_and_prompt&#x27;,&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;re.sub&#x27;,&nbsp;&#x27;element.strip&#x27;,&nbsp;&quot;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split&quot;,&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;generator.generate&#x27;,&nbsp;&#x27;list_to_update.append&#x27;,&nbsp;&quot;self.model_config[&#x27;prompt_template&#x27;].format&quot;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;self.llm.tokenize&#x27;,&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;any&#x27;,&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;str&#x27;,&nbsp;&#x27;strategy&#x27;,&nbsp;&#x27;get_context_and_prompt&#x27;,&nbsp;&#x27;logging.error&#x27;,&nbsp;&#x27;math.ceil&#x27;,&nbsp;&#x27;self.llm&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;question_id.endswith&#x27;,&nbsp;&#x27;info.get&#x27;,&nbsp;&#x27;str(response).strip&#x27;,&nbsp;&#x27;self.instruct_list.append&#x27;,&nbsp;&#x27;item.strip&#x27;,&nbsp;&#x27;str(info[item_type]).split&#x27;,&nbsp;&#x27;question_text.format&#x27;,&nbsp;&quot;self.file_details[&#x27;classes&#x27;].items&quot;,&nbsp;&#x27;class_info.items&#x27;,&nbsp;&#x27;key.startswith&#x27;,&nbsp;&#x27;self.file_details[self.question_mapping[question_type]].items&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.__init__&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;file_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;model_config&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;list_to_update&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;response&#x27;,&nbsp;&#x27;additional_field&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;list_to_update&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;response&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;,&nbsp;&#x27;(prompt,&nbsp;context_size)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_context_and_prompt&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;code_qa&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;(prompt,&nbsp;context_size)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;info&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info&#x27;,&nbsp;&#x27;item_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(items)&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;question_text&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;self.instruct_list&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.add_to_list&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list_to_update.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.model_config[&#x27;prompt_template&#x27;].format&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self.llm.tokenize(prompt)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.llm.tokenize&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prompt&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;[f&quot;Q:&nbsp;{item[\&#x27;instruction\&#x27;]}&nbsp;\\nA:&nbsp;{item[\&#x27;output\&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[\&#x27;instruction\&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;any&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prefix&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;]&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info&#x27;,&nbsp;&#x27;item_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(items)&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;strategy&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_context_and_prompt&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;code_qa&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.error&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;math.ceil&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;context_size&nbsp;/&nbsp;0.7&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;re.sub&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\\\n\\\\s*\\\\n&#x27;&quot;,&nbsp;&quot;&#x27;\\n\\n&#x27;&quot;,&nbsp;&#x27;self.llm(prompt)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prompt&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Response:&nbsp;{response}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_context_and_prompt&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.model_config[&#x27;prompt_template&#x27;].format&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_context_and_prompt&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self.llm.tokenize(prompt)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_context_and_prompt&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.llm.tokenize&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;prompt&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;question_id.endswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;purpose&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;info.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;question_id&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_response_from_llm&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;response&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;,&nbsp;&#x27;(prompt,&nbsp;context_size)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;str(info.get(question_id,&nbsp;&#x27;&#x27;))&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;response&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str(response).strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.instruct_list.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;item.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str(info[item_type]).split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;,&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info[item_type]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;items&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;question_text.format&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;query&#x27;,&nbsp;&#x27;context&#x27;,&nbsp;&#x27;info&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.file_details[&#x27;classes&#x27;].items&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_info.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;key.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.file_details[self.question_mapping[question_type]].items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.get_string_from_info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;info&#x27;,&nbsp;&#x27;item_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(items)&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;[s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;combined_string&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;&#x27;,&nbsp;&#x27;.join(cleaned_elements)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;DatasetGenerator.generate&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator.process_question_type&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;question_type&#x27;,&nbsp;&#x27;question_id&#x27;,&nbsp;&#x27;question_text&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(re.sub(&#x27;[^\\\\w\\\\-_&gt;\\\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;re.sub&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\\\s+&#x27;&quot;,&nbsp;&quot;&#x27;&nbsp;&#x27;&quot;,&nbsp;&#x27;input_str&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;element.strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;re.sub(&#x27;\\\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;,&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;clean_and_get_unique_elements&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;cleaned_elements&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;DatasetGenerator&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;model_config&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;generator.generate&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]}]}</td></tr><tr><td>Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;configuration&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question&nbsp;list,&nbsp;llm,&nbsp;and&nbsp;use_llm&nbsp;flag&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;llm&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;each&nbsp;question,&nbsp;generate<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;responses,&nbsp;and&nbsp;add&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;related&nbsp;to&nbsp;the&nbsp;file,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;methods.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Internally&nbsp;manage&nbsp;question&nbsp;mapping&nbsp;to&nbsp;file&nbsp;details.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;questions&nbsp;list,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;config&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Instantiate&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;instruct_list&nbsp;using&nbsp;`DatasetGenerator`&nbsp;`generate`&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>[req03]&nbsp;The&nbsp;`clean_and_get_unique_elements`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>import&nbsp;math<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&quot;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;prompt,&nbsp;context_size<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;Call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;Docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;\n&quot;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;manage&nbsp;context&nbsp;length&nbsp;for&nbsp;LLM&nbsp;starting&nbsp;with&nbsp;the&nbsp;longest&nbsp;and&nbsp;most&nbsp;comprehensive<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.70&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size/0.70)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(r&#x27;\n\s*\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.get_response_from_llm(query,&nbsp;context)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;instruction&#x27;:&nbsp;query,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;input&#x27;:&nbsp;context,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;output&#x27;:&nbsp;response_str<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>get_python_datasets,&nbsp;clean_and_get_unique_elements</td></tr><tr><td>Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;configuration&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question&nbsp;list,&nbsp;llm,&nbsp;and&nbsp;use_llm&nbsp;flag&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;llm&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;each&nbsp;question,&nbsp;generate<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;responses,&nbsp;and&nbsp;add&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;related&nbsp;to&nbsp;the&nbsp;file,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;methods.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Internally&nbsp;manage&nbsp;question&nbsp;mapping&nbsp;to&nbsp;file&nbsp;details.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;questions&nbsp;list,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;config&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Instantiate&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;instruct_list&nbsp;using&nbsp;`DatasetGenerator`&nbsp;`generate`&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>[req03]&nbsp;The&nbsp;`clean_and_get_unique_elements`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>import&nbsp;math<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&quot;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;prompt,&nbsp;context_size<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;Call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;Docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;\n&quot;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;manage&nbsp;context&nbsp;length&nbsp;for&nbsp;LLM&nbsp;starting&nbsp;with&nbsp;the&nbsp;longest&nbsp;and&nbsp;most&nbsp;comprehensive<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.70&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size/0.70)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(r&#x27;\n\s*\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.get_response_from_llm(query,&nbsp;context)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;instruction&#x27;:&nbsp;query,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;input&#x27;:&nbsp;context,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;output&#x27;:&nbsp;response_str<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>DatasetGenerator</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`clean_and_get_unique_elements`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>input_str</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`get_python_datasets`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>model_config,&nbsp;base_name,&nbsp;file_details,&nbsp;questions,&nbsp;file_path</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`clean_and_get_unique_elements`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_python_datasets`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`clean_and_get_unique_elements`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>,&nbsp;set,&nbsp;re.sub,&nbsp;.join,&nbsp;re.subs,&nbsp;element.strip,&nbsp;input_str.split,</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`get_python_datasets`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>DatasetGenerator,&nbsp;generator.generate</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`clean_and_get_unique_elements`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>cleaned_elements</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_python_datasets`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`clean_and_get_unique_elements`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>,&nbsp;.joincleaned_elements</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_python_datasets`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator.generate</td></tr><tr><td>Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>process_question,&nbsp;get_response_from_llm,&nbsp;add_to_list,&nbsp;process_question_type,&nbsp;generate,&nbsp;get_string_from_info</td></tr><tr><td>Docstring&nbsp;of&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.</td></tr><tr><td>Attributes&nbsp;of&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>model_config,&nbsp;base_name,&nbsp;file_details,&nbsp;question_mapping,&nbsp;questions,&nbsp;instruct_list,&nbsp;llm,&nbsp;file_path,&nbsp;use_llm</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>items,&nbsp;full_context,&nbsp;methods_string,&nbsp;mapping,&nbsp;query,&nbsp;variables_string,&nbsp;context_strategies,&nbsp;response,&nbsp;info,&nbsp;context,&nbsp;method_name,&nbsp;context_size,&nbsp;combined_string,&nbsp;excluded_instructions,&nbsp;prompt,&nbsp;code_qa,&nbsp;inputs_string,&nbsp;max_context_length,&nbsp;response_str</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`__init__`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}</td><td>model_config,&nbsp;base_name,&nbsp;file_details,&nbsp;questions,&nbsp;self,&nbsp;file_path</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`add_to_list`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>response,&nbsp;additional_field,&nbsp;list_to_update,&nbsp;self,&nbsp;query</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`get_response_from_llm`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>query,&nbsp;context,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`get_context_and_prompt`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)</td><td>query,&nbsp;code_qa,&nbsp;context</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`process_question`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>info,&nbsp;context,&nbsp;question_type,&nbsp;question_id,&nbsp;self,&nbsp;query</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`get_string_from_info`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>item_type,&nbsp;info</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`process_question_type`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>question_id,&nbsp;question_text,&nbsp;question_type,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`generate`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`__init__`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}</td><td>Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`add_to_list`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`get_response_from_llm`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`process_question`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`get_string_from_info`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`process_question_type`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`generate`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`add_to_list`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>list_to_update.append</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`get_response_from_llm`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>iteminstruction.startswith,&nbsp;self.model_configprompt_template.format,&nbsp;re.sub,&nbsp;self.llm,&nbsp;str,&nbsp;self.get_string_from_info,&nbsp;logging.info,&nbsp;get_context_and_prompt,&nbsp;logging.error,&nbsp;n.join,&nbsp;self.llm.tokenize,&nbsp;math.ceil,&nbsp;any,&nbsp;len,&nbsp;strategy</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`get_context_and_prompt`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)</td><td>self.llm.tokenize,&nbsp;self.model_configprompt_template.format,&nbsp;len</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`process_question`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>question_id.endswith,&nbsp;str,&nbsp;clean_and_get_unique_elements,&nbsp;info.get,&nbsp;self.get_response_from_llm,&nbsp;self.instruct_list.append,&nbsp;strresponse.strip</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`get_string_from_info`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>,&nbsp;.join,&nbsp;str,&nbsp;strinfoitem_type.split,&nbsp;item.strip</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`process_question_type`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>,&nbsp;.join,&nbsp;self.file_detailsclasses.items,&nbsp;key.startswith,&nbsp;self.file_detailsself.question_mappingquestion_type.items,&nbsp;self.get_string_from_info,&nbsp;class_info.items,&nbsp;clean_and_get_unique_elements,&nbsp;self.process_question,&nbsp;question_text.format,&nbsp;len</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`generate`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self.process_question_type</td></tr><tr><td>Returns&nbsp;from&nbsp;method:&nbsp;`add_to_list`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;add_to_list(self,&nbsp;list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>list_to_update</td></tr><tr><td>Returns&nbsp;from&nbsp;method:&nbsp;`get_response_from_llm`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)<br/>&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&#x27;Call&nbsp;code&nbsp;graph&#x27;,&nbsp;&#x27;Docstring&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;&#x27;\n&#x27;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any((item[&#x27;instruction&#x27;].startswith(prefix)&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions))])<br/>&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),&nbsp;lambda:&nbsp;&#x27;&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.7&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size&nbsp;/&nbsp;0.7)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(&#x27;\\n\\s*\\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>context_size,&nbsp;prompt,&nbsp;response,</td></tr><tr><td>Returns&nbsp;from&nbsp;method:&nbsp;`get_context_and_prompt`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&#x27;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(prompt,&nbsp;context_size)</td><td>context_size,&nbsp;prompt</td></tr><tr><td>Returns&nbsp;from&nbsp;method:&nbsp;`get_string_from_info`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>@staticmethod<br/>def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;</td><td>,&nbsp;.joinitems</td></tr><tr><td>Returns&nbsp;from&nbsp;method:&nbsp;`generate`&nbsp;in&nbsp;class:&nbsp;`DatasetGenerator`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list</td><td>self.instruct_list</td></tr><tr><td>1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_datasets.py`;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;configuration&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Initialize&nbsp;and&nbsp;store&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question&nbsp;list,&nbsp;llm,&nbsp;and&nbsp;use_llm&nbsp;flag&nbsp;as&nbsp;class&nbsp;attributes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Provide&nbsp;`get_response_from_llm`&nbsp;method&nbsp;to&nbsp;retrieve&nbsp;llm&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Provide&nbsp;`process_question`&nbsp;method&nbsp;to&nbsp;process&nbsp;each&nbsp;question,&nbsp;generate<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;responses,&nbsp;and&nbsp;add&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Provide&nbsp;`process_question_type`&nbsp;method&nbsp;to&nbsp;process&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;related&nbsp;to&nbsp;the&nbsp;file,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;methods.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Provide&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Internally&nbsp;manage&nbsp;question&nbsp;mapping&nbsp;to&nbsp;file&nbsp;details.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;questions&nbsp;list,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;and&nbsp;model&nbsp;config&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Instantiate&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;the&nbsp;provided&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Generate&nbsp;instruct_list&nbsp;using&nbsp;`DatasetGenerator`&nbsp;`generate`&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;the&nbsp;generated&nbsp;`instruct_list`.<br/>[req03]&nbsp;The&nbsp;`clean_and_get_unique_elements`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Clean&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;return&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&quot;&quot;&quot;<br/>import&nbsp;logging<br/>import&nbsp;re<br/>import&nbsp;math<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Tuple<br/><br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Clean&nbsp;input&nbsp;string&nbsp;and&nbsp;return&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;input_str&nbsp;(str):&nbsp;The&nbsp;input&nbsp;string&nbsp;to&nbsp;be&nbsp;cleaned.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;cleaned&nbsp;string.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Storage&nbsp;for&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict[str,&nbsp;str]):&nbsp;Mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;related&nbsp;to&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;return&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;the&nbsp;DatasetGenerator&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict[str,&nbsp;Any]):&nbsp;Details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict[str,&nbsp;str]]):&nbsp;Questions&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.model_config&nbsp;=&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;model_config[&#x27;model&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Add&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;to&nbsp;update.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;(str):&nbsp;The&nbsp;response&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field&nbsp;(Any):&nbsp;Additional&nbsp;field&nbsp;to&nbsp;be&nbsp;added.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;List[Dict]:&nbsp;The&nbsp;updated&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;language&nbsp;model&nbsp;response&nbsp;to&nbsp;query&nbsp;for&nbsp;given&nbsp;context.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;generated&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;full_context&nbsp;=&nbsp;f&quot;{context}\nCODE&nbsp;Q&nbsp;and&nbsp;A:\n{code_qa}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.model_config[&#x27;prompt_template&#x27;].format(context=full_context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_size&nbsp;=&nbsp;len(self.llm.tokenize(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;prompt,&nbsp;context_size<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;max_context_length&nbsp;=&nbsp;self.model_config[&#x27;inference_model&#x27;][&#x27;model_params&#x27;][&#x27;context_length&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;excluded_instructions&nbsp;=&nbsp;[&quot;Call&nbsp;code&nbsp;graph&quot;,&nbsp;&quot;Docstring&quot;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_qa&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;\n&quot;.join([f&quot;Q:&nbsp;{item[&#x27;instruction&#x27;]}&nbsp;\nA:&nbsp;{item[&#x27;output&#x27;]}&quot;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;self.instruct_list&nbsp;if&nbsp;not&nbsp;any(item[&#x27;instruction&#x27;].startswith(prefix)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;prefix&nbsp;in&nbsp;excluded_instructions)])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;manage&nbsp;context&nbsp;length&nbsp;for&nbsp;LLM&nbsp;starting&nbsp;with&nbsp;the&nbsp;longest&nbsp;and&nbsp;most&nbsp;comprehensive<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context_strategies&nbsp;=&nbsp;[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(context)&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;```python\n&#x27;&nbsp;+&nbsp;str(self.file_details[&#x27;file_info&#x27;][&#x27;file_code_simplified&#x27;])&nbsp;+&nbsp;&#x27;\n```&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;self.get_string_from_info(self.file_details[&#x27;file_info&#x27;],&nbsp;&#x27;file_summary&#x27;),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lambda:&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;strategy&nbsp;in&nbsp;context_strategies:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;strategy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt,&nbsp;context_size&nbsp;=&nbsp;get_context_and_prompt(query,&nbsp;context,&nbsp;code_qa)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;context_size&nbsp;&lt;=&nbsp;0.70&nbsp;*&nbsp;max_context_length:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;break<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Model&nbsp;response&nbsp;failed,&nbsp;increase&nbsp;py2dataset_model_config.yaml&nbsp;context_length&nbsp;&gt;&nbsp;{math.ceil(context_size/0.70)}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;re.sub(r&#x27;\n\s*\n&#x27;,&nbsp;&#x27;\n\n&#x27;,&nbsp;self.llm(prompt))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;error:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.error(f&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response:&nbsp;{error}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;question&nbsp;and&nbsp;add&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;(str):&nbsp;The&nbsp;query&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;(str):&nbsp;The&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;the&nbsp;response.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;)&nbsp;or&nbsp;question_id.endswith(&#x27;docstring&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.get_response_from_llm(query,&nbsp;context)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else&nbsp;clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response).strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;instruction&#x27;:&nbsp;query,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;input&#x27;:&nbsp;context,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;output&#x27;:&nbsp;response_str<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_string_from_info(info,&nbsp;item_type):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get&nbsp;string&nbsp;from&nbsp;info&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;(Dict):&nbsp;The&nbsp;information&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;item_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;item&nbsp;to&nbsp;get&nbsp;the&nbsp;string&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;string&nbsp;from&nbsp;the&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;str(info[item_type]).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;(str):&nbsp;The&nbsp;type&nbsp;of&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;(str):&nbsp;The&nbsp;ID&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;(str):&nbsp;The&nbsp;text&nbsp;of&nbsp;the&nbsp;question&nbsp;to&nbsp;be&nbsp;processed.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:&nbsp;&nbsp;#&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;function&#x27;&nbsp;or&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;variables_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;inputs_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_string&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join([s&nbsp;for&nbsp;s&nbsp;in&nbsp;[variables_string,&nbsp;inputs_string]&nbsp;if&nbsp;s])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_variables&#x27;]&nbsp;=&nbsp;clean_and_get_unique_elements(combined_string)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;get&nbsp;methods&nbsp;to&nbsp;include&nbsp;in&nbsp;mapping&nbsp;for&nbsp;query<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;methods_string&nbsp;=&nbsp;self.get_string_from_info(info,&nbsp;f&#x27;{question_type}_methods&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping[f&#x27;{question_type}_methods&#x27;]&nbsp;=&nbsp;methods_string<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;The&nbsp;generated&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question[&#x27;type&#x27;],&nbsp;question[&#x27;id&#x27;],&nbsp;question[&#x27;text&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.instruct_list<br/><br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;Python&nbsp;code&nbsp;filename.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(object):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>The&nbsp;Python&nbsp;file&nbsp;`py2dataset.get_python_datasets.py`&nbsp;generates&nbsp;JSON&nbsp;formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;given&nbsp;Python&nbsp;file.&nbsp;It&nbsp;has&nbsp;two&nbsp;main&nbsp;functions:&nbsp;`clean_and_get_unique_elements`&nbsp;and&nbsp;`get_python_datasets`.&nbsp;The&nbsp;`clean_and_get_unique_elements`&nbsp;function&nbsp;cleans&nbsp;an&nbsp;input&nbsp;string&nbsp;(str)&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements,&nbsp;while&nbsp;the&nbsp;`get_python_datasets`&nbsp;function&nbsp;generates&nbsp;instructions&nbsp;for&nbsp;the&nbsp;given&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.&nbsp;<br/><br/>1.&nbsp;Summary&nbsp;of&nbsp;Function:&nbsp;The&nbsp;main&nbsp;function,&nbsp;`get_python_datasets`,&nbsp;extracts&nbsp;information&nbsp;from&nbsp;the&nbsp;Python&nbsp;file&nbsp;passed&nbsp;in&nbsp;as&nbsp;a&nbsp;parameter&nbsp;and&nbsp;returns&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format&nbsp;along&nbsp;with&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;their&nbsp;respective&nbsp;prompts/context.&nbsp;This&nbsp;is&nbsp;done&nbsp;using&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class,&nbsp;which&nbsp;accepts&nbsp;a&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;and&nbsp;model&nbsp;configuration&nbsp;as&nbsp;input&nbsp;during&nbsp;instantiation.&nbsp;The&nbsp;`get_response_from_llm`&nbsp;method&nbsp;retrieves&nbsp;responses&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;for&nbsp;given&nbsp;context,&nbsp;while&nbsp;the&nbsp;`process_question`&nbsp;method&nbsp;processes&nbsp;each&nbsp;question&nbsp;and&nbsp;adds&nbsp;them&nbsp;to&nbsp;an&nbsp;instruct&nbsp;list,&nbsp;and&nbsp;`process_question_type`&nbsp;handles&nbsp;specific&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;Python&nbsp;file&#x27;s&nbsp;functions,&nbsp;classes,&nbsp;or&nbsp;methods.&nbsp;Finally,&nbsp;`generate()`&nbsp;is&nbsp;used&nbsp;to&nbsp;generate&nbsp;all&nbsp;instructions/answers&nbsp;from&nbsp;these&nbsp;methods.&nbsp;The&nbsp;`add_to_list`,&nbsp;`get_response_from_llm`,&nbsp;and&nbsp;`get_string_from_info`&nbsp;methods&nbsp;are&nbsp;helper&nbsp;functions&nbsp;for&nbsp;the&nbsp;main&nbsp;class.&nbsp;<br/>2.&nbsp;Detailed&nbsp;Description&nbsp;of&nbsp;Functions:<br/><br/>Function&nbsp;`clean_and_get_unique_elements`:&nbsp;This&nbsp;function&nbsp;takes&nbsp;in&nbsp;a&nbsp;string&nbsp;(str)&nbsp;and&nbsp;returns&nbsp;a&nbsp;cleaned&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements&nbsp;separated&nbsp;by&nbsp;commas,&nbsp;as&nbsp;described&nbsp;in&nbsp;its&nbsp;docstring.&nbsp;It&nbsp;removes&nbsp;non-word&nbsp;characters&nbsp;using&nbsp;regex&nbsp;and&nbsp;splits&nbsp;the&nbsp;input&nbsp;string&nbsp;into&nbsp;individual&nbsp;elements,&nbsp;then&nbsp;adds&nbsp;them&nbsp;to&nbsp;a&nbsp;set&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;before&nbsp;joining&nbsp;them&nbsp;back&nbsp;together&nbsp;with&nbsp;commas.&nbsp;<br/><br/>Function&nbsp;`get_python_datasets`:&nbsp;This&nbsp;function&nbsp;takes&nbsp;in&nbsp;a&nbsp;Python&nbsp;file&nbsp;path,&nbsp;file&nbsp;details,&nbsp;base&nbsp;name,&nbsp;questions&nbsp;list,&nbsp;and&nbsp;model&nbsp;config&nbsp;as&nbsp;input.&nbsp;It&nbsp;instantiates&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class&nbsp;using&nbsp;these&nbsp;inputs&nbsp;and&nbsp;generates&nbsp;instructions&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;using&nbsp;its&nbsp;`generate()`&nbsp;method.&nbsp;The&nbsp;generated&nbsp;responses&nbsp;are&nbsp;returned&nbsp;along&nbsp;with&nbsp;their&nbsp;respective&nbsp;prompts/context.&nbsp;<br/><br/>Class&nbsp;`DatasetGenerator`:&nbsp;This&nbsp;class&nbsp;has&nbsp;multiple&nbsp;methods,&nbsp;attributes,&nbsp;and&nbsp;a&nbsp;constructor&nbsp;to&nbsp;extract&nbsp;information&nbsp;from&nbsp;Python&nbsp;files.&nbsp;Its&nbsp;primary&nbsp;method,&nbsp;`generate`,&nbsp;handles&nbsp;all&nbsp;of&nbsp;the&nbsp;necessary&nbsp;processing&nbsp;of&nbsp;different&nbsp;question&nbsp;types&nbsp;(file,&nbsp;function,&nbsp;and&nbsp;class)&nbsp;and&nbsp;generates&nbsp;responses&nbsp;for&nbsp;each&nbsp;question&nbsp;using&nbsp;the&nbsp;provided&nbsp;language&nbsp;model&nbsp;or&nbsp;by&nbsp;parsing&nbsp;the&nbsp;file&#x27;s&nbsp;code.&nbsp;It&nbsp;also&nbsp;provides&nbsp;helper&nbsp;functions&nbsp;like&nbsp;`add_to_list`&nbsp;and&nbsp;`get_response_from_llm`.&nbsp;The&nbsp;main&nbsp;methods&nbsp;are:&nbsp;<br/>-&nbsp;`__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;model_config:&nbsp;Dict)&nbsp;-&gt;&nbsp;None`:&nbsp;Initializes&nbsp;the&nbsp;class&nbsp;with&nbsp;necessary&nbsp;attributes&nbsp;and&nbsp;stores&nbsp;the&nbsp;input&nbsp;parameters.&nbsp;<br/>-&nbsp;`add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]`:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list&nbsp;along&nbsp;with&nbsp;its&nbsp;prompt/context&nbsp;and&nbsp;any&nbsp;additional&nbsp;field&nbsp;if&nbsp;needed.&nbsp;<br/>-&nbsp;`get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str`:&nbsp;Gets&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;for&nbsp;a&nbsp;given&nbsp;query&nbsp;and&nbsp;context.<br/>-&nbsp;`process_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;info:&nbsp;Dict):&nbsp;Retrieves&nbsp;a&nbsp;specific&nbsp;response&nbsp;from&nbsp;file&nbsp;details&nbsp;using&nbsp;`get_response_from_llm`&nbsp;if&nbsp;applicable,&nbsp;otherwise&nbsp;cleans&nbsp;it&nbsp;directly.&nbsp;Adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the&nbsp;instruct&nbsp;list&nbsp;along&nbsp;with&nbsp;its&nbsp;prompt/context.<br/>-&nbsp;`process_question_type(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str):&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;Python&nbsp;file&#x27;s&nbsp;functions,&nbsp;classes,&nbsp;or&nbsp;methods&nbsp;by&nbsp;extracting&nbsp;their&nbsp;respective&nbsp;information&nbsp;and&nbsp;generating&nbsp;responses&nbsp;using&nbsp;`process_question`.&nbsp;<br/>-&nbsp;`generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]`:&nbsp;Generates&nbsp;responses&nbsp;for&nbsp;all&nbsp;the&nbsp;questions&nbsp;in&nbsp;the&nbsp;list&nbsp;and&nbsp;returns&nbsp;them&nbsp;along&nbsp;with&nbsp;their&nbsp;prompt/context.&nbsp;<br/>3.&nbsp;Detailed&nbsp;Description&nbsp;of&nbsp;Variables:<br/>-&nbsp;`file_path`&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file&nbsp;being&nbsp;processed.<br/>-&nbsp;`file_details`&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;information&nbsp;about&nbsp;the&nbsp;Python&nbsp;file,&nbsp;such&nbsp;as&nbsp;its&nbsp;code,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;methods.<br/>-&nbsp;`base_name`&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>-&nbsp;`questions`&nbsp;(List[Dict]):&nbsp;A&nbsp;list&nbsp;of&nbsp;dictionaries&nbsp;with&nbsp;question&nbsp;types,&nbsp;IDs,&nbsp;and&nbsp;texts&nbsp;for&nbsp;generating&nbsp;responses.&nbsp;<br/>-&nbsp;`model_config`&nbsp;(Dict):&nbsp;Configuration&nbsp;for&nbsp;the&nbsp;language&nbsp;model&nbsp;used&nbsp;to&nbsp;generate&nbsp;responses.&nbsp;<br/>-&nbsp;`instruct_list`:&nbsp;The&nbsp;final&nbsp;list&nbsp;containing&nbsp;all&nbsp;instructions/answers&nbsp;generated&nbsp;by&nbsp;`DatasetGenerator`.&nbsp;<br/>-&nbsp;`question_mapping`&nbsp;(Dict[str,&nbsp;str]):&nbsp;A&nbsp;mapping&nbsp;of&nbsp;question&nbsp;types&nbsp;to&nbsp;keys&nbsp;in&nbsp;file&nbsp;details.&nbsp;<br/>-&nbsp;`use_llm`&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;if&nbsp;a&nbsp;language&nbsp;model&nbsp;should&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses&nbsp;or&nbsp;not.&nbsp;<br/>-&nbsp;`llm`:&nbsp;The&nbsp;language&nbsp;model&nbsp;object&nbsp;provided&nbsp;by&nbsp;the&nbsp;user.&nbsp;<br/>-&nbsp;`prompt`&nbsp;(str):&nbsp;The&nbsp;prompt&nbsp;format&nbsp;for&nbsp;querying&nbsp;the&nbsp;language&nbsp;model.&nbsp;<br/>-&nbsp;`items`&nbsp;(Dict):&nbsp;Temporary&nbsp;dictionary&nbsp;used&nbsp;in&nbsp;processing&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;from&nbsp;one&nbsp;type&nbsp;(`functions`,&nbsp;`classes`)<br/>-&nbsp;`full_context`&nbsp;(str):&nbsp;The&nbsp;full&nbsp;context&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses,&nbsp;including&nbsp;code&nbsp;and&nbsp;previous&nbsp;question/answer&nbsp;pairs.&nbsp;<br/>-&nbsp;`methods_string`:&nbsp;A&nbsp;string&nbsp;containing&nbsp;the&nbsp;methods&nbsp;defined&nbsp;in&nbsp;a&nbsp;class,&nbsp;if&nbsp;applicable.&nbsp;<br/>-&nbsp;`mapping`:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;information&nbsp;about&nbsp;the&nbsp;current&nbsp;object&nbsp;being&nbsp;processed.<br/>-&nbsp;`query`&nbsp;(str):&nbsp;The&nbsp;query&nbsp;text&nbsp;to&nbsp;be&nbsp;used&nbsp;for&nbsp;generating&nbsp;responses&nbsp;or&nbsp;for&nbsp;checking&nbsp;dependencies,&nbsp;calls,&nbsp;etc.<br/>-&nbsp;`response`:&nbsp;The&nbsp;generated&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>-&nbsp;`inputs_string`&nbsp;and&nbsp;`variables_string`:&nbsp;Strings&nbsp;containing&nbsp;inputs&nbsp;and&nbsp;variables&nbsp;of&nbsp;a&nbsp;function/class,&nbsp;respectively.&nbsp;<br/>-&nbsp;`combined_string`:&nbsp;A&nbsp;string&nbsp;combining&nbsp;both&nbsp;`inputs_string`&nbsp;and&nbsp;`variables_string`.<br/>-&nbsp;`excluded_instructions`:&nbsp;A&nbsp;list&nbsp;of&nbsp;instructions&nbsp;to&nbsp;exclude&nbsp;from&nbsp;the&nbsp;response&nbsp;prompt,&nbsp;as&nbsp;specified&nbsp;by&nbsp;the&nbsp;user&nbsp;in&nbsp;`py2dataset_model_config.yaml`.&nbsp;<br/>-&nbsp;`response_str`&nbsp;(str):&nbsp;The&nbsp;string&nbsp;representing&nbsp;a&nbsp;variable,&nbsp;call,&nbsp;dependency,&nbsp;etc.&nbsp;This&nbsp;can&nbsp;come&nbsp;either&nbsp;from&nbsp;llm&nbsp;response&nbsp;or&nbsp;manual&nbsp;processing&nbsp;for&nbsp;non-llm&nbsp;cases.&nbsp;<br/>-&nbsp;`context`:&nbsp;The&nbsp;code&nbsp;of&nbsp;the&nbsp;current&nbsp;object&nbsp;being&nbsp;processed&nbsp;(`file`,&nbsp;`function`,&nbsp;`class`).&nbsp;<br/>-&nbsp;`method_name`:&nbsp;The&nbsp;name&nbsp;of&nbsp;the&nbsp;method&nbsp;being&nbsp;processed&nbsp;in&nbsp;a&nbsp;class.&nbsp;<br/>-&nbsp;`context_size`&nbsp;(int):&nbsp;The&nbsp;length&nbsp;of&nbsp;the&nbsp;prompt&nbsp;context&nbsp;as&nbsp;generated&nbsp;by&nbsp;the&nbsp;language&nbsp;model,&nbsp;used&nbsp;for&nbsp;managing&nbsp;response&nbsp;lengths&nbsp;and&nbsp;context.&nbsp;<br/>-&nbsp;`code_qa`:&nbsp;A&nbsp;string&nbsp;containing&nbsp;all&nbsp;previous&nbsp;question/answer&nbsp;pairs&nbsp;generated&nbsp;so&nbsp;far.&nbsp;<br/>-&nbsp;`max_context_length`&nbsp;(int):&nbsp;The&nbsp;maximum&nbsp;length&nbsp;of&nbsp;a&nbsp;single&nbsp;prompt/response&nbsp;pair,&nbsp;set&nbsp;in&nbsp;the&nbsp;user&#x27;s&nbsp;configuration&nbsp;file.&nbsp;<br/><br/>The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;code&nbsp;is&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;instructions&nbsp;and&nbsp;responses&nbsp;for&nbsp;Python&nbsp;files.&nbsp;It&nbsp;processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;different&nbsp;types&nbsp;of&nbsp;objects:&nbsp;file&nbsp;details,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;methods.&nbsp;It&nbsp;can&nbsp;also&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;(LLM)&nbsp;or&nbsp;manually&nbsp;parse&nbsp;the&nbsp;file&#x27;s&nbsp;code&nbsp;to&nbsp;extract&nbsp;information&nbsp;and&nbsp;provide&nbsp;prompts/context&nbsp;for&nbsp;each&nbsp;question.&nbsp;The&nbsp;inputs&nbsp;are&nbsp;the&nbsp;Python&nbsp;file&nbsp;path,&nbsp;its&nbsp;contents,&nbsp;base&nbsp;name,&nbsp;list&nbsp;of&nbsp;questions,&nbsp;and&nbsp;LLM&nbsp;configuration.&nbsp;The&nbsp;outputs&nbsp;are&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;in&nbsp;JSON&nbsp;format&nbsp;along&nbsp;with&nbsp;their&nbsp;respective&nbsp;prompts/context.</td></tr><tr><td>Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>&quot;&quot;&quot;<br/>Return&nbsp;file_details&nbsp;dictionary&nbsp;for&nbsp;python&nbsp;source&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;and&nbsp;&#x27;file_info&#x27;.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;using&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;call&nbsp;graph.&nbsp;<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;info&nbsp;from&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.&nbsp;<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;astor<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details<br/></td><td>networkx,&nbsp;astor,&nbsp;typing,&nbsp;json,&nbsp;logging,&nbsp;ast</td></tr><tr><td>Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>&quot;&quot;&quot;<br/>Return&nbsp;file_details&nbsp;dictionary&nbsp;for&nbsp;python&nbsp;source&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;and&nbsp;&#x27;file_info&#x27;.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;using&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;call&nbsp;graph.&nbsp;<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;info&nbsp;from&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.&nbsp;<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;astor<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;CodeVisitor&#x27;,&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;ast.Constant&#x27;,&nbsp;&#x27;node.value.replace(\&#x27;&quot;&quot;&quot;\&#x27;,&nbsp;\&#x27;\&#x27;).replace&#x27;,&nbsp;&#x27;node.value.replace&#x27;,&nbsp;&#x27;astor.to_source(parsed).strip&#x27;,&nbsp;&#x27;astor.to_source&#x27;,&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;G.add_node&#x27;,&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;list&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;next&#x27;,&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&quot;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend&quot;,&nbsp;&#x27;self.classes[self.current_class].setdefault&#x27;,&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;any&#x27;,&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;class_defs.append&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;{ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;base&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;next&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str))&#x27;,&nbsp;&#x27;None&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;decorator&#x27;,&nbsp;&#x27;ast.Name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;attributes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes[self.current_class].setdefault&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_attributes&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;any&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self.classes.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;subnode&#x27;,&nbsp;&#x27;ast.ImportFrom&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_defs.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;ast.unparse(node)&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;astor.to_source(parsed).strip()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;parsed&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node.value&#x27;,&nbsp;&#x27;str&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.Constant&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;node.value.replace(\&#x27;&quot;&quot;&quot;\&#x27;,&nbsp;\&#x27;\&#x27;).replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;&quot;\&#x27;\&#x27;\&#x27;&quot;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;node.value.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;\&#x27;&quot;&quot;&quot;\&#x27;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;astor.to_source(parsed).strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;astor.to_source&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;parsed&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;,&nbsp;&#x27;ast.Call&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;arg&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;get_all_calls(child)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_def&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G.nodes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;qualified_method_name&#x27;,&nbsp;&quot;details[&#x27;calls&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;set(target_details.get(&#x27;returns&#x27;,&nbsp;[]))&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;class_def.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;called&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;tree&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}&quot;,&nbsp;&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;\&#x27;&quot;\&#x27;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;]}]}</td></tr><tr><td>Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>&quot;&quot;&quot;<br/>Return&nbsp;file_details&nbsp;dictionary&nbsp;for&nbsp;python&nbsp;source&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;and&nbsp;&#x27;file_info&#x27;.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;using&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;call&nbsp;graph.&nbsp;<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;info&nbsp;from&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.&nbsp;<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;astor<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details<br/></td><td>add_edges_for_calls,&nbsp;remove_docs_and_comments,&nbsp;get_all_calls,&nbsp;code_graph,&nbsp;add_edge_with_data,&nbsp;get_edge_data_from_details,&nbsp;get_python_file_details</td></tr><tr><td>Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>&quot;&quot;&quot;<br/>Return&nbsp;file_details&nbsp;dictionary&nbsp;for&nbsp;python&nbsp;source&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;and&nbsp;&#x27;file_info&#x27;.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;using&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;call&nbsp;graph.&nbsp;<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;info&nbsp;from&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.&nbsp;<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;astor<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details<br/></td><td>CodeVisitor</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`remove_docs_and_comments`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>code</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`get_all_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>node</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>file_summary</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`get_edge_data_from_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target,&nbsp;source_details,&nbsp;target_details</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`add_edge_with_data`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>target,&nbsp;source,&nbsp;init_method</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`add_edges_for_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>calls,&nbsp;source_name</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`get_python_file_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_path</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`remove_docs_and_comments`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_all_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`get_python_file_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`remove_docs_and_comments`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>.replace,&nbsp;ast.Constant,&nbsp;astor.to_sourceparsed.strip,&nbsp;ast.walk,&nbsp;astor.to_source,&nbsp;node.value.replace,&nbsp;isinstance,&nbsp;ast.parse</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`get_all_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>ast.unparse,&nbsp;get_all_calls,&nbsp;calls.update,&nbsp;isinstance,&nbsp;ast.iter_child_nodes</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>set,&nbsp;G.add_edge,&nbsp;nx.DiGraph,&nbsp;add_edge_with_data,&nbsp;function_details_lookup.get,&nbsp;Gsourcetarget.update,&nbsp;called.replace,&nbsp;source_name.split,&nbsp;list,&nbsp;target_details.get,&nbsp;class_detailsmethod_defs.items,&nbsp;called.startswith,&nbsp;class_method_details_lookup.get,&nbsp;class_def.items,&nbsp;function_details_lookup.update,&nbsp;class_method_details_lookup.items,&nbsp;add_edges_for_calls,&nbsp;called.split,&nbsp;class_def.keys,&nbsp;G.add_node,&nbsp;G.edges.data,&nbsp;get_edge_data_from_details,&nbsp;function_details_lookup.items</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`get_edge_data_from_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>set,&nbsp;target_details.get,&nbsp;list</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`add_edge_with_data`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>get_edge_data_from_details,&nbsp;function_details_lookup.get,&nbsp;class_method_details_lookup.get,&nbsp;G.add_edge</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`add_edges_for_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>called.startswith,&nbsp;called.split,&nbsp;class_def.keys,&nbsp;source_name.split,&nbsp;G.add_node,&nbsp;add_edge_with_data,&nbsp;list,&nbsp;called.replace</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`get_python_file_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>logging.warning,&nbsp;json.dumpsfile_detailsfile_infofile_summary.replace,&nbsp;code_graph,&nbsp;json.dumps,&nbsp;visitor.analyze,&nbsp;open,&nbsp;CodeVisitor,&nbsp;f.read,&nbsp;ast.parse</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`remove_docs_and_comments`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>parsed</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_all_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>G,&nbsp;init_method_name,&nbsp;class_method_details_lookup,&nbsp;class_names,&nbsp;edge_data,&nbsp;source_details,&nbsp;called_class_name,&nbsp;function_details_lookup,&nbsp;qualified_method_name,&nbsp;target_details,&nbsp;init_method,&nbsp;nodes,&nbsp;method_name,&nbsp;fully_qualified_name,&nbsp;edges</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_edge_data_from_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`add_edge_with_data`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>source_details,&nbsp;target_details</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`add_edges_for_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>init_method_name,&nbsp;class_names,&nbsp;called_class_name,&nbsp;init_method,&nbsp;method_name,&nbsp;fully_qualified_name</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`get_python_file_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_details,&nbsp;visitor,&nbsp;code,&nbsp;tree</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`remove_docs_and_comments`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>astor.to_sourceparsed.strip</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_all_calls`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>edges:&nbsp;edges,&nbsp;edge_data,&nbsp;nodes:&nbsp;nodes</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_edge_data_from_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`get_python_file_details`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_details,&nbsp;None</td></tr><tr><td>Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>visit_FunctionDef,&nbsp;extract_details,&nbsp;analyze,&nbsp;visit_ClassDef</td></tr><tr><td>Docstring&nbsp;of&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.</td></tr><tr><td>Attributes&nbsp;of&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>file_info,&nbsp;current_class</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>node_walk,&nbsp;attributes,&nbsp;details,&nbsp;function_defs,&nbsp;call_data,&nbsp;class_defs,&nbsp;file_code_simplified,&nbsp;method_defs</td></tr><tr><td>Inheritance&nbsp;of&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>ast.NodeVisitor</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`__init__`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>code,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`visit_FunctionDef`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>node,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`visit_ClassDef`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>node,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`extract_details`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>node,&nbsp;node_type,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;`analyze`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>node,&nbsp;self</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`__init__`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`visit_FunctionDef`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`visit_ClassDef`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`extract_details`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;`analyze`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`visit_FunctionDef`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`visit_ClassDef`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`extract_details`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>set,&nbsp;self.classesself.current_class.setdefaultclass_attributes,&nbsp;ast.dump,&nbsp;get_all_calls,&nbsp;ast.walk,&nbsp;ast.unparse,&nbsp;details.update,&nbsp;any,&nbsp;call_data.keys,&nbsp;list,&nbsp;.extend,&nbsp;self.classesself.current_class.setdefault,&nbsp;next,&nbsp;isinstance</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;`analyze`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>remove_docs_and_comments,&nbsp;self.visit,&nbsp;class_defs.append,&nbsp;ast.dump,&nbsp;class_details.items,&nbsp;ast.unparse,&nbsp;ast.walk,&nbsp;method_name.startswith,&nbsp;len,&nbsp;list,&nbsp;self.functions.items,&nbsp;isinstance,&nbsp;self.functions.keys,&nbsp;self.classes.items,&nbsp;self.classes.keys</td></tr><tr><td>Returns&nbsp;from&nbsp;method:&nbsp;`extract_details`&nbsp;in&nbsp;class:&nbsp;`CodeVisitor`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>details</td></tr><tr><td>1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.get_python_file_details.py`;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.</td><td>&quot;&quot;&quot;<br/>Return&nbsp;file_details&nbsp;dictionary&nbsp;for&nbsp;python&nbsp;source&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST&nbsp;and&nbsp;&#x27;file_info&#x27;.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;using&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;call&nbsp;graph.&nbsp;<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;info&nbsp;from&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details.&nbsp;<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;astor<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;Dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;(PermissionError,&nbsp;SyntaxError)&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;{e}&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details<br/></td><td>The&nbsp;purpose&nbsp;of&nbsp;`py2dataset.get_python_file_details.py`&nbsp;is&nbsp;to&nbsp;extract&nbsp;file&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;source&nbsp;code&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree).&nbsp;The&nbsp;processing&nbsp;summary&nbsp;includes&nbsp;the&nbsp;following&nbsp;steps:&nbsp;<br/>1.&nbsp;Removing&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code&nbsp;using&nbsp;`remove_docs_and_comments`&nbsp;function;&nbsp;<br/>2.&nbsp;Recursively&nbsp;finding&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;a&nbsp;given&nbsp;node&nbsp;using&nbsp;`get_all_calls`;&nbsp;<br/>3.&nbsp;Extracting&nbsp;details&nbsp;about&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;their&nbsp;methods&nbsp;using&nbsp;the&nbsp;`CodeVisitor`&nbsp;class&nbsp;that&nbsp;inherits&nbsp;from&nbsp;`ast.NodeVisitor`;&nbsp;<br/>4.&nbsp;Constructing&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;using&nbsp;networkx&nbsp;library;&nbsp;<br/>5.&nbsp;Defining&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes;&nbsp;<br/>6.&nbsp;Specifying&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;between&nbsp;the&nbsp;nodes;&nbsp;<br/>7.&nbsp;Returning&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;call&nbsp;graph.&nbsp;<br/><br/>####&nbsp;Functions:&nbsp;<br/>-&nbsp;`remove_docs_and_comments`&nbsp;takes&nbsp;in&nbsp;a&nbsp;Python&nbsp;source&nbsp;code&nbsp;string&nbsp;as&nbsp;input&nbsp;and&nbsp;removes&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;it,&nbsp;returning&nbsp;the&nbsp;sanitized&nbsp;code.&nbsp;It&nbsp;uses&nbsp;`ast.parse`&nbsp;to&nbsp;parse&nbsp;the&nbsp;code&nbsp;into&nbsp;an&nbsp;AST&nbsp;object,&nbsp;then&nbsp;iterates&nbsp;through&nbsp;each&nbsp;node&nbsp;of&nbsp;the&nbsp;tree&nbsp;and&nbsp;replaces&nbsp;any&nbsp;string&nbsp;nodes&nbsp;with&nbsp;empty&nbsp;strings&nbsp;or&nbsp;bytes&nbsp;objects&nbsp;with&nbsp;empty&nbsp;strings.&nbsp;This&nbsp;function&nbsp;is&nbsp;used&nbsp;in&nbsp;`get_python_file_details`.&nbsp;<br/>-&nbsp;`get_all_calls`&nbsp;takes&nbsp;in&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;input&nbsp;and&nbsp;recursively&nbsp;finds&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;that&nbsp;node,&nbsp;returning&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;with&nbsp;their&nbsp;arguments.&nbsp;This&nbsp;function&nbsp;is&nbsp;used&nbsp;in&nbsp;`visit_FunctionDef`,&nbsp;where&nbsp;it&nbsp;will&nbsp;add&nbsp;an&nbsp;entry&nbsp;to&nbsp;`function_defs`&nbsp;dict&nbsp;or&nbsp;class&nbsp;attribute&nbsp;details&nbsp;when&nbsp;extracting&nbsp;functions&nbsp;and&nbsp;methods&nbsp;using&nbsp;the&nbsp;`extract_details`&nbsp;method;&nbsp;<br/>-&nbsp;`CodeVisitor`&nbsp;class&nbsp;accepts&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated,&nbsp;uses&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code,&nbsp;and&nbsp;inherits&nbsp;from&nbsp;`ast.NodeVisitor`.&nbsp;It&nbsp;has&nbsp;implemented&nbsp;`visit_FunctionDef`&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions&nbsp;and&nbsp;methods&nbsp;in&nbsp;classes.&nbsp;When&nbsp;visiting&nbsp;a&nbsp;FunctionDef&nbsp;node,&nbsp;it&nbsp;calls&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;populate&nbsp;either&nbsp;`functions`&nbsp;or&nbsp;`classes[current_class]`&nbsp;dict&nbsp;depending&nbsp;on&nbsp;whether&nbsp;it&nbsp;is&nbsp;inside&nbsp;a&nbsp;class&nbsp;definition&nbsp;or&nbsp;not.&nbsp;It&nbsp;also&nbsp;implements&nbsp;`visit_ClassDef`&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes&nbsp;and&nbsp;maintains&nbsp;the&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.&nbsp;<br/>-&nbsp;`extract_details`&nbsp;method&nbsp;takes&nbsp;in&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;and&nbsp;its&nbsp;type,&nbsp;and&nbsp;extracts&nbsp;various&nbsp;details&nbsp;such&nbsp;as&nbsp;function/method&nbsp;name,&nbsp;code&nbsp;representation,&nbsp;AST&nbsp;representation,&nbsp;docstring,&nbsp;input&nbsp;parameters&nbsp;(for&nbsp;functions&nbsp;and&nbsp;methods),&nbsp;defaults,&nbsp;return&nbsp;statements,&nbsp;calls,&nbsp;and&nbsp;the&nbsp;attributes&nbsp;or&nbsp;annotations&nbsp;present&nbsp;within&nbsp;that&nbsp;specific&nbsp;node&#x27;s&nbsp;body;&nbsp;it&nbsp;adds&nbsp;all&nbsp;extracted&nbsp;data&nbsp;to&nbsp;the&nbsp;current&nbsp;context&nbsp;using&nbsp;either&nbsp;`functions`&nbsp;or&nbsp;`classes[current_class]`&nbsp;dict.&nbsp;If&nbsp;inside&nbsp;a&nbsp;class&nbsp;definition,&nbsp;it&nbsp;also&nbsp;populates&nbsp;`class_attributes`,&nbsp;`class_methods`,&nbsp;`class_inheritance`,&nbsp;and&nbsp;`class_static_methods`.&nbsp;<br/>-&nbsp;`analyze`&nbsp;method&nbsp;of&nbsp;CodeVisitor&nbsp;class&nbsp;takes&nbsp;in&nbsp;the&nbsp;current&nbsp;node&nbsp;(typically&nbsp;a&nbsp;FileAST&nbsp;node),&nbsp;analyzes&nbsp;each&nbsp;AST&nbsp;node&nbsp;to&nbsp;populate&nbsp;`file_info`&nbsp;dict&nbsp;with&nbsp;file&nbsp;details,&nbsp;such&nbsp;as&nbsp;dependencies,&nbsp;function&nbsp;names,&nbsp;class&nbsp;names,&nbsp;and&nbsp;their&nbsp;methods.&nbsp;It&nbsp;also&nbsp;creates&nbsp;a&nbsp;simplified&nbsp;version&nbsp;of&nbsp;the&nbsp;code&nbsp;without&nbsp;comments&nbsp;or&nbsp;docstrings&nbsp;using&nbsp;`remove_docs_and_comments`.&nbsp;<br/>-&nbsp;`code_graph`&nbsp;takes&nbsp;in&nbsp;the&nbsp;file&nbsp;summary&nbsp;(a&nbsp;dictionary&nbsp;containing&nbsp;all&nbsp;extracted&nbsp;information)&nbsp;and&nbsp;constructs&nbsp;a&nbsp;directed&nbsp;graph&nbsp;representing&nbsp;relationships&nbsp;between&nbsp;different&nbsp;functions&nbsp;and&nbsp;classes&nbsp;with&nbsp;method&nbsp;calls.&nbsp;This&nbsp;is&nbsp;done&nbsp;by&nbsp;first&nbsp;adding&nbsp;class&nbsp;nodes&nbsp;and&nbsp;method&nbsp;nodes,&nbsp;then&nbsp;iterating&nbsp;through&nbsp;each&nbsp;function/method&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;their&nbsp;respective&nbsp;calls.&nbsp;It&nbsp;uses&nbsp;`add_edges_for_calls`&nbsp;helper&nbsp;function&nbsp;to&nbsp;handle&nbsp;special&nbsp;cases&nbsp;such&nbsp;as&nbsp;calling&nbsp;methods&nbsp;within&nbsp;the&nbsp;same&nbsp;class&nbsp;or&nbsp;calling&nbsp;a&nbsp;constructor&nbsp;of&nbsp;another&nbsp;class.&nbsp;<br/>-&nbsp;`get_python_file_details`&nbsp;takes&nbsp;in&nbsp;a&nbsp;file&nbsp;path,&nbsp;extracts&nbsp;information&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class,&nbsp;and&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;all&nbsp;extracted&nbsp;details,&nbsp;including&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;representation.&nbsp;It&nbsp;uses&nbsp;`code_graph`&nbsp;to&nbsp;create&nbsp;the&nbsp;call&nbsp;graph,&nbsp;and&nbsp;then&nbsp;adds&nbsp;it&nbsp;to&nbsp;the&nbsp;final&nbsp;output&nbsp;dict.&nbsp;<br/><br/>####&nbsp;Variables:&nbsp;<br/>-&nbsp;`file_path`:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.&nbsp;Used&nbsp;in&nbsp;`get_python_file_details`.<br/>-&nbsp;`calls`:&nbsp;Dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;a&nbsp;given&nbsp;node.&nbsp;Used&nbsp;in&nbsp;`get_all_calls`&nbsp;and&nbsp;`add_edges_for_calls`.&nbsp;<br/>-&nbsp;`code`:&nbsp;The&nbsp;source&nbsp;code.&nbsp;Used&nbsp;in&nbsp;`remove_docs_and_comments`,&nbsp;`CodeVisitor.__init__`,&nbsp;and&nbsp;`analyze`.&nbsp;<br/>-&nbsp;`node`:&nbsp;AST&nbsp;node&nbsp;being&nbsp;visited.&nbsp;Used&nbsp;in&nbsp;`visit_FunctionDef`&nbsp;and&nbsp;`visit_ClassDef`.&nbsp;<br/>-&nbsp;`details`:&nbsp;Dict&nbsp;containing&nbsp;extracted&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;function/class&nbsp;definition,&nbsp;used&nbsp;in&nbsp;`extract_details`&nbsp;and&nbsp;`CodeVisitor.__init__`.&nbsp;<br/>-&nbsp;`node_walk`:&nbsp;List&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;AST.&nbsp;Used&nbsp;in&nbsp;`get_all_calls`,&nbsp;`visit_FunctionDef`,&nbsp;and&nbsp;`visit_ClassDef`.&nbsp;<br/>-&nbsp;`function_defs`:&nbsp;Dict&nbsp;containing&nbsp;details&nbsp;about&nbsp;functions,&nbsp;used&nbsp;in&nbsp;`code_graph`&nbsp;to&nbsp;create&nbsp;the&nbsp;final&nbsp;graph.&nbsp;<br/>-&nbsp;`class_defs`:&nbsp;List&nbsp;of&nbsp;dicts&nbsp;containing&nbsp;details&nbsp;about&nbsp;each&nbsp;class&nbsp;defined&nbsp;in&nbsp;the&nbsp;code,&nbsp;used&nbsp;in&nbsp;`code_graph`&nbsp;to&nbsp;create&nbsp;the&nbsp;final&nbsp;graph.&nbsp;<br/>-&nbsp;`G`:&nbsp;Directed&nbsp;graph&nbsp;created&nbsp;using&nbsp;networkx&nbsp;library.&nbsp;Used&nbsp;in&nbsp;`code_graph`.&nbsp;<br/>-&nbsp;`edge_data`:&nbsp;Dict&nbsp;containing&nbsp;edge&nbsp;data&nbsp;for&nbsp;a&nbsp;given&nbsp;node,&nbsp;used&nbsp;in&nbsp;`add_edge_with_data`&nbsp;and&nbsp;`get_edge_data_from_details`.&nbsp;<br/>-&nbsp;`file_info`:&nbsp;Dict&nbsp;containing&nbsp;file&nbsp;details&nbsp;such&nbsp;as&nbsp;dependencies,&nbsp;function&nbsp;names,&nbsp;class&nbsp;names,&nbsp;and&nbsp;their&nbsp;methods.&nbsp;Used&nbsp;in&nbsp;`analyze`,&nbsp;`code_graph`,&nbsp;and&nbsp;`get_python_file_details`.&nbsp;<br/>-&nbsp;`visitor`:&nbsp;Instance&nbsp;of&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.&nbsp;Used&nbsp;in&nbsp;`get_python_file_details`&nbsp;to&nbsp;populate&nbsp;`functions`&nbsp;and&nbsp;`classes`&nbsp;attributes,&nbsp;then&nbsp;analyze&nbsp;the&nbsp;AST&nbsp;tree.&nbsp;<br/>-&nbsp;`current_class`:&nbsp;The&nbsp;current&nbsp;class&nbsp;being&nbsp;visited.&nbsp;Used&nbsp;in&nbsp;`visit_ClassDef`.&nbsp;<br/>-&nbsp;`qualified_method_name`:&nbsp;Fully&nbsp;qualified&nbsp;name&nbsp;of&nbsp;a&nbsp;method&nbsp;(e.g.,&nbsp;`ClassName.method_name`).&nbsp;Used&nbsp;in&nbsp;`add_edges_for_calls`&nbsp;and&nbsp;`CodeVisitor.__init__`.&nbsp;<br/>-&nbsp;`function_details_lookup`:&nbsp;Dict&nbsp;containing&nbsp;details&nbsp;about&nbsp;all&nbsp;functions,&nbsp;used&nbsp;in&nbsp;`code_graph`&nbsp;to&nbsp;create&nbsp;the&nbsp;final&nbsp;graph.&nbsp;<br/>-&nbsp;`class_method_details_lookup`:&nbsp;Dict&nbsp;containing&nbsp;details&nbsp;about&nbsp;methods&nbsp;of&nbsp;each&nbsp;class,&nbsp;used&nbsp;in&nbsp;`add_edges_for_calls`.&nbsp;<br/>-&nbsp;`source_name`:&nbsp;Name&nbsp;of&nbsp;the&nbsp;source&nbsp;node&nbsp;(either&nbsp;a&nbsp;function&nbsp;or&nbsp;method).&nbsp;Used&nbsp;in&nbsp;`add_edge_with_data`&nbsp;and&nbsp;`add_edges_for_calls`&nbsp;when&nbsp;dealing&nbsp;with&nbsp;nested&nbsp;class&nbsp;definitions.<br/>####&nbsp;Returns:<br/>The&nbsp;`code_graph`&nbsp;function&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;call&nbsp;graph,&nbsp;containing&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;between&nbsp;them.&nbsp;The&nbsp;nodes&nbsp;are&nbsp;all&nbsp;functions/methods&nbsp;defined&nbsp;in&nbsp;the&nbsp;file,&nbsp;and&nbsp;the&nbsp;edges&nbsp;represent&nbsp;relationships&nbsp;between&nbsp;them&nbsp;(e.g.,&nbsp;calling&nbsp;one&nbsp;another).&nbsp;Each&nbsp;edge&nbsp;has&nbsp;additional&nbsp;data&nbsp;such&nbsp;as&nbsp;input&nbsp;parameters,&nbsp;return&nbsp;values,&nbsp;and&nbsp;target&nbsp;inputs&nbsp;for&nbsp;each&nbsp;call.&nbsp;<br/>The&nbsp;`get_python_file_details`&nbsp;function&nbsp;returns&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;information&nbsp;about&nbsp;the&nbsp;Python&nbsp;source&nbsp;code,&nbsp;including&nbsp;its&nbsp;dependencies,&nbsp;functions,&nbsp;classes,&nbsp;and&nbsp;their&nbsp;methods,&nbsp;as&nbsp;well&nbsp;as&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;a&nbsp;dictionary&nbsp;representation.</td></tr><tr><td>Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets<br/>that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;process_single_file&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;Python&nbsp;file&nbsp;path,&nbsp;start&nbsp;directory,&nbsp;model&nbsp;config&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;pathname,&nbsp;questions&nbsp;dict,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;output&nbsp;dir.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;If&nbsp;&#x27;use_llm&#x27;&nbsp;is&nbsp;True,&nbsp;use&nbsp;&#x27;get_model&#x27;&nbsp;to&nbsp;instantiate&nbsp;LLM&nbsp;model&nbsp;config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;&#x27;get_python_file_details&#x27;&nbsp;to&nbsp;retrieve&nbsp;Python&nbsp;file&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;&#x27;get_python_datasets&#x27;&nbsp;to&nbsp;acquire&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;&#x27;save_python_data&#x27;&nbsp;to&nbsp;store&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data.<br/>[req01]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;start&nbsp;directory,&nbsp;output&nbsp;dir,&nbsp;questions&nbsp;path,&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;config&nbsp;path,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;quiet&nbsp;mode.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Adjust&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;&#x27;quiet&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;current&nbsp;working&nbsp;dir&nbsp;if&nbsp;no&nbsp;valid&nbsp;start&nbsp;dir&nbsp;is&nbsp;provided.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Get&nbsp;output&nbsp;dir&nbsp;with&nbsp;&#x27;get_output_dir&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Retrieve&nbsp;questions&nbsp;dict&nbsp;with&nbsp;&#x27;get_questions&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Search&nbsp;for&nbsp;Python&nbsp;files&nbsp;using&nbsp;&#x27;rglob&#x27;,&nbsp;excluding&nbsp;those&nbsp;starting&nbsp;with&nbsp;&quot;_&quot;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;spawn&nbsp;a&nbsp;child&nbsp;process&nbsp;with&nbsp;&#x27;process_single_file&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;get&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data,&nbsp;if&nbsp;single_process&nbsp;is&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Combine&nbsp;instruct.json&nbsp;files&nbsp;with&nbsp;&#x27;combine_json_files&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Return&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;args.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;py2dataset&nbsp;parameters&nbsp;based&nbsp;on&nbsp;processed&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;py2dataset&nbsp;with&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict&nbsp;=&nbsp;None,&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;avoid<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;single_process&nbsp;is&nbsp;True,&nbsp;load&nbsp;model&nbsp;config&nbsp;here<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target=process_single_file,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args=(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--single_process&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--single_process&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()<br/></td><td>save_py2dataset_output,&nbsp;os,&nbsp;typing,&nbsp;get_py2dataset_params,&nbsp;pathlib,&nbsp;multiprocessing,&nbsp;get_python_datasets,&nbsp;logging,&nbsp;sys,&nbsp;get_python_file_details</td></tr><tr><td>Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets<br/>that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;process_single_file&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;Python&nbsp;file&nbsp;path,&nbsp;start&nbsp;directory,&nbsp;model&nbsp;config&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;pathname,&nbsp;questions&nbsp;dict,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;output&nbsp;dir.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;If&nbsp;&#x27;use_llm&#x27;&nbsp;is&nbsp;True,&nbsp;use&nbsp;&#x27;get_model&#x27;&nbsp;to&nbsp;instantiate&nbsp;LLM&nbsp;model&nbsp;config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;&#x27;get_python_file_details&#x27;&nbsp;to&nbsp;retrieve&nbsp;Python&nbsp;file&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;&#x27;get_python_datasets&#x27;&nbsp;to&nbsp;acquire&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;&#x27;save_python_data&#x27;&nbsp;to&nbsp;store&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data.<br/>[req01]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;start&nbsp;directory,&nbsp;output&nbsp;dir,&nbsp;questions&nbsp;path,&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;config&nbsp;path,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;quiet&nbsp;mode.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Adjust&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;&#x27;quiet&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;current&nbsp;working&nbsp;dir&nbsp;if&nbsp;no&nbsp;valid&nbsp;start&nbsp;dir&nbsp;is&nbsp;provided.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Get&nbsp;output&nbsp;dir&nbsp;with&nbsp;&#x27;get_output_dir&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Retrieve&nbsp;questions&nbsp;dict&nbsp;with&nbsp;&#x27;get_questions&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Search&nbsp;for&nbsp;Python&nbsp;files&nbsp;using&nbsp;&#x27;rglob&#x27;,&nbsp;excluding&nbsp;those&nbsp;starting&nbsp;with&nbsp;&quot;_&quot;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;spawn&nbsp;a&nbsp;child&nbsp;process&nbsp;with&nbsp;&#x27;process_single_file&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;get&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data,&nbsp;if&nbsp;single_process&nbsp;is&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Combine&nbsp;instruct.json&nbsp;files&nbsp;with&nbsp;&#x27;combine_json_files&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Return&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;args.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;py2dataset&nbsp;parameters&nbsp;based&nbsp;on&nbsp;processed&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;py2dataset&nbsp;with&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict&nbsp;=&nbsp;None,&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;avoid<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;single_process&nbsp;is&nbsp;True,&nbsp;load&nbsp;model&nbsp;config&nbsp;here<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target=process_single_file,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args=(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--single_process&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--single_process&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;process_single_file&#x27;,&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;main&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;pythonfile_path.relative_to&#x27;,&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;logging.getLogger().setLevel&#x27;,&nbsp;&#x27;logging.getLogger&#x27;,&nbsp;&#x27;sys.setrecursionlimit&#x27;,&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;Path(start_dir).rglob&#x27;,&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;pythonfile_path.is_dir&#x27;,&nbsp;&#x27;Process&#x27;,&nbsp;&#x27;proc.start&#x27;,&nbsp;&#x27;proc.join&#x27;,&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&quot;&#x27;&nbsp;&#x27;.join&quot;,&nbsp;&quot;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;arg_string.split&#x27;,&nbsp;&#x27;arg_string.replace&#x27;,&nbsp;&quot;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&quot;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split&quot;,&nbsp;&quot;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split&quot;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;pythonfile_path.relative_to&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;model_config_pathname&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;pythonfile_path&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_details&#x27;,&nbsp;&#x27;tuple&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_python_datasets&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;pythonfile_path&#x27;,&nbsp;&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;model_config&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_details&#x27;,&nbsp;&#x27;instruct_list&#x27;,&nbsp;&#x27;relative_path&#x27;,&nbsp;&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.getLogger().setLevel&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;logging.INFO&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.getLogger&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;sys.setrecursionlimit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;3000&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.getcwd&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;os.path.abspath&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_output_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_questions&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;questions_pathname&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_model&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;model_config_pathname&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(start_dir).rglob&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;[!_]*.py&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;pythonfile_path.is_dir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;process_single_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;pythonfile_path&#x27;,&nbsp;&#x27;start_dir&#x27;,&nbsp;&#x27;model_config_pathname&#x27;,&nbsp;&#x27;questions&#x27;,&nbsp;&#x27;use_llm&#x27;,&nbsp;&#x27;output_dir&#x27;,&nbsp;&#x27;model_config&#x27;,&nbsp;&#x27;single_process&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;None&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Process&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;proc.start&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;proc.join&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;sys.argv[1:]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;arg_string.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;--questions_pathname&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;arg_string.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;--single_process&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;main&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;py2dataset&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;start_dir&#x27;,&nbsp;&#x27;output_dir&#x27;,&nbsp;&#x27;questions_pathname&#x27;,&nbsp;&#x27;model_config_pathname&#x27;,&nbsp;&#x27;use_llm&#x27;,&nbsp;&#x27;quiet&#x27;,&nbsp;&#x27;single_process&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;datasets&#x27;]}]}</td></tr><tr><td>Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets<br/>that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;process_single_file&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;Python&nbsp;file&nbsp;path,&nbsp;start&nbsp;directory,&nbsp;model&nbsp;config&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;pathname,&nbsp;questions&nbsp;dict,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;output&nbsp;dir.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;If&nbsp;&#x27;use_llm&#x27;&nbsp;is&nbsp;True,&nbsp;use&nbsp;&#x27;get_model&#x27;&nbsp;to&nbsp;instantiate&nbsp;LLM&nbsp;model&nbsp;config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;&#x27;get_python_file_details&#x27;&nbsp;to&nbsp;retrieve&nbsp;Python&nbsp;file&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;&#x27;get_python_datasets&#x27;&nbsp;to&nbsp;acquire&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;&#x27;save_python_data&#x27;&nbsp;to&nbsp;store&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data.<br/>[req01]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;start&nbsp;directory,&nbsp;output&nbsp;dir,&nbsp;questions&nbsp;path,&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;config&nbsp;path,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;quiet&nbsp;mode.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Adjust&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;&#x27;quiet&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;current&nbsp;working&nbsp;dir&nbsp;if&nbsp;no&nbsp;valid&nbsp;start&nbsp;dir&nbsp;is&nbsp;provided.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Get&nbsp;output&nbsp;dir&nbsp;with&nbsp;&#x27;get_output_dir&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Retrieve&nbsp;questions&nbsp;dict&nbsp;with&nbsp;&#x27;get_questions&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Search&nbsp;for&nbsp;Python&nbsp;files&nbsp;using&nbsp;&#x27;rglob&#x27;,&nbsp;excluding&nbsp;those&nbsp;starting&nbsp;with&nbsp;&quot;_&quot;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;spawn&nbsp;a&nbsp;child&nbsp;process&nbsp;with&nbsp;&#x27;process_single_file&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;get&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data,&nbsp;if&nbsp;single_process&nbsp;is&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Combine&nbsp;instruct.json&nbsp;files&nbsp;with&nbsp;&#x27;combine_json_files&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Return&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;args.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;py2dataset&nbsp;parameters&nbsp;based&nbsp;on&nbsp;processed&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;py2dataset&nbsp;with&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict&nbsp;=&nbsp;None,&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;avoid<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;single_process&nbsp;is&nbsp;True,&nbsp;load&nbsp;model&nbsp;config&nbsp;here<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target=process_single_file,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args=(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--single_process&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--single_process&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()<br/></td><td>process_single_file,&nbsp;main,&nbsp;py2dataset</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`process_single_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,&nbsp;model_config:&nbsp;Dict=None,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(pythonfile_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>model_config,&nbsp;pythonfile_path,&nbsp;model_config_pathname,&nbsp;start_dir,&nbsp;questions,&nbsp;single_process,&nbsp;output_dir,&nbsp;use_llm</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`py2dataset`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir,&nbsp;model_config,&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>model_config_pathname,&nbsp;start_dir,&nbsp;quiet,&nbsp;single_process,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;use_llm</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`process_single_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,&nbsp;model_config:&nbsp;Dict=None,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(pythonfile_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`py2dataset`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir,&nbsp;model_config,&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`main`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--single_process&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--single_process&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet,&nbsp;single_process)</td><td>Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`process_single_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,&nbsp;model_config:&nbsp;Dict=None,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(pythonfile_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>..join,&nbsp;get_model,&nbsp;save_python_data,&nbsp;pythonfile_path.relative_to,&nbsp;logging.info,&nbsp;get_python_datasets,&nbsp;isinstance,&nbsp;get_python_file_details</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`py2dataset`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir,&nbsp;model_config,&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>get_questions,&nbsp;get_model,&nbsp;pythonfile_path.is_dir,&nbsp;sys.setrecursionlimit,&nbsp;Path,&nbsp;get_output_dir,&nbsp;proc.join,&nbsp;logging.info,&nbsp;logging.getLogger,&nbsp;logging.getLogger.setLevel,&nbsp;process_single_file,&nbsp;Pathstart_dir.rglob,&nbsp;combine_json_files,&nbsp;Process,&nbsp;proc.start,&nbsp;os.path.abspath,&nbsp;os.getcwd</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`main`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--single_process&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--single_process&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet,&nbsp;single_process)</td><td>.join,&nbsp;arg_string.replace,&nbsp;arg_string.split--questions_pathname&nbsp;1.split,&nbsp;arg_string.split,&nbsp;arg_string.split--output_dir&nbsp;1.split,&nbsp;py2dataset,&nbsp;arg_string.split--model_config_pathname&nbsp;1.split,&nbsp;arg_string.split--start_dir&nbsp;1.split</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`process_single_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,&nbsp;model_config:&nbsp;Dict=None,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(pythonfile_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;model_config)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)</td><td>model_config,&nbsp;base_name,&nbsp;file_details,&nbsp;instruct_list,&nbsp;relative_path</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`py2dataset`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir,&nbsp;model_config,&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>model_config,&nbsp;proc,&nbsp;start_dir,&nbsp;datasets,&nbsp;questions,&nbsp;output_dir</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`main`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--single_process&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--single_process&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(start_dir,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;model_config_pathname,&nbsp;use_llm,&nbsp;quiet,&nbsp;single_process)</td><td>arg_string,&nbsp;model_config_pathname,&nbsp;start_dir,&nbsp;single_process,&nbsp;use_llm,&nbsp;output_dir,&nbsp;questions_pathname,&nbsp;quiet</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`py2dataset`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`?</td><td>def&nbsp;py2dataset(start_dir:&nbsp;str=&#x27;&#x27;,&nbsp;output_dir:&nbsp;str=&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;model_config_pathname:&nbsp;str=&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool=False,&nbsp;quiet:&nbsp;bool=False,&nbsp;single_process:&nbsp;bool=False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir,&nbsp;model_config,&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(target=process_single_file,&nbsp;args=(pythonfile_path,&nbsp;start_dir,&nbsp;model_config_pathname,&nbsp;questions,&nbsp;use_llm,&nbsp;output_dir))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets</td><td>datasets</td></tr><tr><td>1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.py2dataset.py`;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.</td><td>&quot;&quot;&quot;<br/>For&nbsp;each&nbsp;Python&nbsp;file&nbsp;within&nbsp;given&nbsp;directory,&nbsp;generate,&nbsp;save,&nbsp;and&nbsp;return&nbsp;datasets<br/>that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;the&nbsp;code.<br/>Requirements:<br/>[req00]&nbsp;The&nbsp;process_single_file&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;Python&nbsp;file&nbsp;path,&nbsp;start&nbsp;directory,&nbsp;model&nbsp;config&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;pathname,&nbsp;questions&nbsp;dict,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;output&nbsp;dir.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;If&nbsp;&#x27;use_llm&#x27;&nbsp;is&nbsp;True,&nbsp;use&nbsp;&#x27;get_model&#x27;&nbsp;to&nbsp;instantiate&nbsp;LLM&nbsp;model&nbsp;config.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;&#x27;get_python_file_details&#x27;&nbsp;to&nbsp;retrieve&nbsp;Python&nbsp;file&nbsp;info.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Use&nbsp;&#x27;get_python_datasets&#x27;&nbsp;to&nbsp;acquire&nbsp;instruct.json&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;&#x27;save_python_data&#x27;&nbsp;to&nbsp;store&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data.<br/>[req01]&nbsp;The&nbsp;py2dataset&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;parameters&nbsp;for&nbsp;start&nbsp;directory,&nbsp;output&nbsp;dir,&nbsp;questions&nbsp;path,&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;config&nbsp;path,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;quiet&nbsp;mode.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Adjust&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;&#x27;quiet&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Use&nbsp;current&nbsp;working&nbsp;dir&nbsp;if&nbsp;no&nbsp;valid&nbsp;start&nbsp;dir&nbsp;is&nbsp;provided.<br/>&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Get&nbsp;output&nbsp;dir&nbsp;with&nbsp;&#x27;get_output_dir&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Retrieve&nbsp;questions&nbsp;dict&nbsp;with&nbsp;&#x27;get_questions&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Search&nbsp;for&nbsp;Python&nbsp;files&nbsp;using&nbsp;&#x27;rglob&#x27;,&nbsp;excluding&nbsp;those&nbsp;starting&nbsp;with&nbsp;&quot;_&quot;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;For&nbsp;each&nbsp;Python&nbsp;file,&nbsp;spawn&nbsp;a&nbsp;child&nbsp;process&nbsp;with&nbsp;&#x27;process_single_file&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;to&nbsp;get&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data,&nbsp;if&nbsp;single_process&nbsp;is&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Combine&nbsp;instruct.json&nbsp;files&nbsp;with&nbsp;&#x27;combine_json_files&#x27;.<br/>&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Return&nbsp;datasets.<br/>[req02]&nbsp;The&nbsp;main&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;and&nbsp;process&nbsp;command-line&nbsp;args.<br/>&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Determine&nbsp;py2dataset&nbsp;parameters&nbsp;based&nbsp;on&nbsp;processed&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Call&nbsp;py2dataset&nbsp;with&nbsp;derived&nbsp;parameters.<br/>&quot;&quot;&quot;<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;logging<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>from&nbsp;multiprocessing&nbsp;import&nbsp;Process<br/><br/>from&nbsp;get_python_file_details&nbsp;import&nbsp;get_python_file_details<br/>from&nbsp;get_python_datasets&nbsp;import&nbsp;get_python_datasets<br/>from&nbsp;get_py2dataset_params&nbsp;import&nbsp;get_questions,&nbsp;get_model,&nbsp;get_output_dir<br/>from&nbsp;save_py2dataset_output&nbsp;import&nbsp;combine_json_files,&nbsp;save_python_data<br/><br/>def&nbsp;process_single_file(pythonfile_path:&nbsp;str,&nbsp;start_dir:&nbsp;str,&nbsp;model_config_pathname:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions:&nbsp;Dict,&nbsp;use_llm:&nbsp;bool,&nbsp;output_dir:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config:&nbsp;Dict&nbsp;=&nbsp;None,&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str):&nbsp;Starting&nbsp;directory&nbsp;to&nbsp;search&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(Dict):&nbsp;Questions&nbsp;dictionary&nbsp;to&nbsp;answer&nbsp;about&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;(Dict):&nbsp;Model&nbsp;configuration&nbsp;dictionary&nbsp;for&nbsp;the&nbsp;LLM.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;(bool,&nbsp;optional):&nbsp;Set&nbsp;True&nbsp;to&nbsp;use&nbsp;single&nbsp;process.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Processing:&nbsp;{pythonfile_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;=&nbsp;pythonfile_path.relative_to(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Instantiate&nbsp;llm&nbsp;and&nbsp;prompt&nbsp;if&nbsp;use_llm&nbsp;is&nbsp;True&nbsp;for&nbsp;each&nbsp;file&nbsp;to&nbsp;avoid<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;multiprocessing&nbsp;pickling&nbsp;problem<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Use&nbsp;AST&nbsp;to&nbsp;get&nbsp;python&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;get_python_file_details(pythonfile_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_details&nbsp;is&nbsp;None&nbsp;or&nbsp;isinstance(file_details,&nbsp;tuple):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Get&nbsp;lists&nbsp;for&nbsp;instruct.json&nbsp;for&nbsp;python&nbsp;file<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;=&nbsp;get_python_datasets(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;instruct_list&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;save_python_data(file_details,&nbsp;instruct_list,&nbsp;relative_path,&nbsp;output_dir)<br/><br/>def&nbsp;py2dataset(start_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;output_dir:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;questions_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname:&nbsp;str&nbsp;=&nbsp;&#x27;&#x27;,&nbsp;use_llm:&nbsp;bool&nbsp;=&nbsp;False,&nbsp;quiet:&nbsp;bool&nbsp;=&nbsp;False,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process:&nbsp;bool&nbsp;=&nbsp;False)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Process&nbsp;Python&nbsp;files&nbsp;to&nbsp;generate&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;(str,&nbsp;optional):&nbsp;Starting&nbsp;directory&nbsp;for&nbsp;Python&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Defaults&nbsp;to&nbsp;current&nbsp;working&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str,&nbsp;optional):&nbsp;Directory&nbsp;to&nbsp;write&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;questions&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;(str,&nbsp;optional):&nbsp;Path&nbsp;to&nbsp;the&nbsp;model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;use&nbsp;a&nbsp;Large&nbsp;Language&nbsp;Model<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;generating&nbsp;JSON&nbsp;answers.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;(bool,&nbsp;optional):&nbsp;Limit&nbsp;logging&nbsp;output.&nbsp;Defaults&nbsp;to&nbsp;False.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process(bool,&nbsp;optional):&nbsp;If&nbsp;True,&nbsp;only&nbsp;a&nbsp;single&nbsp;process&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;be&nbsp;used&nbsp;to&nbsp;process&nbsp;Python&nbsp;files.&nbsp;Defaults&nbsp;to&nbsp;False.&nbsp;Set&nbsp;to&nbsp;True&nbsp;to<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instantiate&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[Dict]]:&nbsp;Datasets&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;quiet:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.WARNING)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.getLogger().setLevel(logging.INFO)<br/>&nbsp;&nbsp;&nbsp;&nbsp;sys.setrecursionlimit(3000)&nbsp;&nbsp;#&nbsp;Increase&nbsp;the&nbsp;recursion&nbsp;limit&nbsp;for&nbsp;AST<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;start&nbsp;dir&nbsp;is&nbsp;empty&nbsp;or&nbsp;not&nbsp;a&nbsp;valid&nbsp;directory,&nbsp;use&nbsp;current&nbsp;working&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;start_dir:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(&#x27;No&nbsp;valid&nbsp;start&nbsp;path&nbsp;provided.&nbsp;Using&nbsp;current&nbsp;working&nbsp;directory.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.getcwd()<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;os.path.abspath(start_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;get_output_dir(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;=&nbsp;get_questions(questions_pathname)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;If&nbsp;single_process&nbsp;is&nbsp;True,&nbsp;load&nbsp;model&nbsp;config&nbsp;here<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config&nbsp;=&nbsp;get_model(model_config_pathname)&nbsp;if&nbsp;use_llm&nbsp;else&nbsp;(None,&nbsp;&#x27;&#x27;,&nbsp;0)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;pythonfile_path&nbsp;in&nbsp;Path(start_dir).rglob(&#x27;[!_]*.py&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;pythonfile_path.is_dir():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;single_process:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_single_file(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Spawn&nbsp;a&nbsp;new&nbsp;child&nbsp;process&nbsp;to&nbsp;manage&nbsp;python&nbsp;memory&nbsp;leaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc&nbsp;=&nbsp;Process(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target=process_single_file,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;args=(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pythonfile_path,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.start()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;proc.join()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Combine&nbsp;all&nbsp;of&nbsp;the&nbsp;instruct.json&nbsp;files&nbsp;together<br/>&nbsp;&nbsp;&nbsp;&nbsp;datasets&nbsp;=&nbsp;combine_json_files(output_dir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;datasets<br/><br/>def&nbsp;main():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Command-line&nbsp;entry&nbsp;point&nbsp;for&nbsp;processing&nbsp;Python&nbsp;files&nbsp;and&nbsp;generating&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;&#x27;&nbsp;&#x27;.join(sys.argv[1:])<br/>&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;False<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--start_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir&nbsp;=&nbsp;arg_string.split(&#x27;--start_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--start_dir&nbsp;{start_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--output_dir&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;=&nbsp;arg_string.split(&#x27;--output_dir&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--output_dir&nbsp;{output_dir}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--model_config_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--model_config_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--model_config_pathname&nbsp;{model_config_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--questions_pathname&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname&nbsp;=&nbsp;arg_string.split(&#x27;--questions_pathname&nbsp;&#x27;)[1].split(&#x27;&nbsp;&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(f&#x27;--questions_pathname&nbsp;{questions_pathname}&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--use_llm&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--use_llm&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--quiet&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--quiet&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;--single_process&#x27;&nbsp;in&nbsp;arg_string:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process&nbsp;=&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;arg_string&nbsp;=&nbsp;arg_string.replace(&#x27;--single_process&#x27;,&nbsp;&#x27;&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;py2dataset(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;start_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;model_config_pathname,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;quiet,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;single_process)<br/><br/>if&nbsp;__name__&nbsp;==&nbsp;&quot;__main__&quot;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;main()<br/></td><td>The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;generate&nbsp;datasets&nbsp;that&nbsp;include&nbsp;responses&nbsp;to&nbsp;questions&nbsp;about&nbsp;a&nbsp;given&nbsp;directory&nbsp;of&nbsp;Python&nbsp;files.&nbsp;The&nbsp;`py2dataset`&nbsp;function&nbsp;processes&nbsp;all&nbsp;Python&nbsp;files&nbsp;within&nbsp;the&nbsp;specified&nbsp;directory,&nbsp;generates&nbsp;question-answer&nbsp;pairs,&nbsp;and&nbsp;stores&nbsp;them&nbsp;as&nbsp;JSON&nbsp;files&nbsp;for&nbsp;later&nbsp;use.&nbsp;The&nbsp;`process_single_file`&nbsp;function&nbsp;handles&nbsp;processing&nbsp;a&nbsp;single&nbsp;Python&nbsp;file&nbsp;by&nbsp;getting&nbsp;details&nbsp;from&nbsp;AST&nbsp;and&nbsp;answering&nbsp;provided&nbsp;questions&nbsp;with&nbsp;LLM&nbsp;(if&nbsp;used)&nbsp;and&nbsp;then&nbsp;storing&nbsp;them&nbsp;in&nbsp;JSON&nbsp;format.&nbsp;The&nbsp;main&nbsp;function&nbsp;provides&nbsp;a&nbsp;CLI&nbsp;interface&nbsp;for&nbsp;processing&nbsp;arguments&nbsp;such&nbsp;as&nbsp;the&nbsp;start&nbsp;directory,&nbsp;output&nbsp;directory,&nbsp;questions&nbsp;file&nbsp;path,&nbsp;model&nbsp;configuration&nbsp;pathname,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;quiet&nbsp;mode.<br/><br/>###&nbsp;Itemized&nbsp;and&nbsp;Detailed&nbsp;Description:<br/>-&nbsp;`process_single_file`&nbsp;-&nbsp;This&nbsp;function&nbsp;accepts&nbsp;parameters&nbsp;for&nbsp;Python&nbsp;file&nbsp;path,&nbsp;start&nbsp;directory,&nbsp;model&nbsp;config&nbsp;pathname,&nbsp;questions&nbsp;dictionary,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;output&nbsp;dir.&nbsp;It&nbsp;then&nbsp;uses&nbsp;the&nbsp;&#x27;get_python_file_details&#x27;&nbsp;function&nbsp;to&nbsp;retrieve&nbsp;details&nbsp;about&nbsp;the&nbsp;Python&nbsp;file&nbsp;using&nbsp;AST,&nbsp;and&nbsp;if&nbsp;&#x27;use_llm&#x27;&nbsp;is&nbsp;True,&nbsp;it&nbsp;instantiates&nbsp;an&nbsp;LLM&nbsp;with&nbsp;`get_model`.&nbsp;Using&nbsp;this&nbsp;info&nbsp;along&nbsp;with&nbsp;`get_questions`&nbsp;from&nbsp;another&nbsp;Python&nbsp;module&nbsp;(&#x27;get_questions&#x27;)&nbsp;generates&nbsp;&#x27;instruct.json&#x27;-type&nbsp;data&nbsp;based&nbsp;on&nbsp;specific&nbsp;questions&nbsp;for&nbsp;each&nbsp;Python&nbsp;file.&nbsp;The&nbsp;function&nbsp;then&nbsp;saves&nbsp;the&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data&nbsp;using&nbsp;the&nbsp;&#x27;save_python_data&#x27;&nbsp;function.<br/>-&nbsp;`py2dataset`&nbsp;-&nbsp;This&nbsp;function&nbsp;accepts&nbsp;parameters&nbsp;for&nbsp;start&nbsp;directory,&nbsp;output&nbsp;dir,&nbsp;questions&nbsp;path,&nbsp;model&nbsp;config&nbsp;path,&nbsp;use&nbsp;of&nbsp;LLM,&nbsp;and&nbsp;quiet&nbsp;mode.&nbsp;It&nbsp;adjusts&nbsp;logging&nbsp;level&nbsp;based&nbsp;on&nbsp;&#x27;quiet&#x27;,&nbsp;uses&nbsp;the&nbsp;current&nbsp;working&nbsp;directory&nbsp;if&nbsp;no&nbsp;valid&nbsp;start&nbsp;directory&nbsp;is&nbsp;provided,&nbsp;retrieves&nbsp;questions&nbsp;dictionary&nbsp;with&nbsp;&#x27;get_questions&#x27;&nbsp;and&nbsp;then&nbsp;searches&nbsp;for&nbsp;Python&nbsp;files&nbsp;using&nbsp;&#x27;rglob&#x27;,&nbsp;spawning&nbsp;a&nbsp;child&nbsp;process&nbsp;with&nbsp;&#x27;process_single_file&#x27;&nbsp;to&nbsp;get&nbsp;file&nbsp;details&nbsp;and&nbsp;instruct.json&nbsp;data&nbsp;(if&nbsp;single_process&nbsp;is&nbsp;False).&nbsp;If&nbsp;not,&nbsp;it&nbsp;instantiates&nbsp;LLM&nbsp;once&nbsp;before&nbsp;processing&nbsp;all&nbsp;files.&nbsp;Finally,&nbsp;the&nbsp;function&nbsp;combines&nbsp;all&nbsp;of&nbsp;the&nbsp;&#x27;instruct.json&#x27;&nbsp;files&nbsp;using&nbsp;`combine_json_files`&nbsp;and&nbsp;returns&nbsp;datasets&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;lists&nbsp;of&nbsp;dictionaries.<br/>-&nbsp;`main`&nbsp;-&nbsp;This&nbsp;function&nbsp;accepts&nbsp;command&nbsp;line&nbsp;arguments&nbsp;and&nbsp;determines&nbsp;parameters&nbsp;based&nbsp;on&nbsp;these&nbsp;to&nbsp;be&nbsp;passed&nbsp;to&nbsp;`py2dataset`.&nbsp;It&nbsp;then&nbsp;calls&nbsp;`py2dataset`&nbsp;with&nbsp;the&nbsp;derived&nbsp;parameters,&nbsp;handling&nbsp;any&nbsp;errors&nbsp;that&nbsp;may&nbsp;occur&nbsp;during&nbsp;processing.</td></tr><tr><td>Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;yaml<br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}<br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;for&nbsp;each&nbsp;item:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)<br/></td><td>networkx,&nbsp;matplotlib.pyplot,&nbsp;typing,&nbsp;json,&nbsp;html,&nbsp;pathlib,&nbsp;logging,&nbsp;yaml</td></tr><tr><td>Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;yaml<br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}<br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;for&nbsp;each&nbsp;item:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)<br/></td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;read_file&#x27;,&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;file_path.open&#x27;,&nbsp;&#x27;json.load&#x27;,&nbsp;&#x27;yaml.load&#x27;,&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;yaml.dump&#x27;,&nbsp;&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace&quot;,&nbsp;&#x27;text.replace&#x27;,&nbsp;&#x27;Path(directory).rglob&#x27;,&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;dataset[0].keys&#x27;,&nbsp;&#x27;escape&#x27;,&nbsp;&#x27;str&#x27;,&nbsp;&#x27;value.replace&#x27;,&nbsp;&#x27;json_file.with_suffix&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;file.write&#x27;,&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;seen.add&#x27;,&nbsp;&#x27;result.append&#x27;,&nbsp;&#x27;combined_data.extend&#x27;,&nbsp;&#x27;combined_data.copy&#x27;,&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;code_output.append&#x27;,&nbsp;&#x27;graph_output.append&#x27;,&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;G.add_nodes_from&#x27;,&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;edge.items&#x27;,&nbsp;&#x27;plt.figure&#x27;,&nbsp;&#x27;nx.spring_layout&#x27;,&nbsp;&#x27;nx.draw&#x27;,&nbsp;&#x27;G.edges&#x27;,&nbsp;&#x27;label.append&#x27;,&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;nx.draw_networkx_edge_labels&#x27;,&nbsp;&#x27;plt.savefig&#x27;,&nbsp;&#x27;plt.close&#x27;,&nbsp;&#x27;output_subdir.mkdir&#x27;,&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;zip&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;file_path.open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.load&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;file_path.open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;data&#x27;,&nbsp;&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;yaml.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;data&#x27;,&nbsp;&#x27;f&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\t&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;text.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(directory).rglob&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;*.json&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;directory&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;json_file&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)&#x27;,&nbsp;&#x27;json.load(f)&#x27;,&nbsp;&#x27;{}&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;dataset[0].keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;dataset[0].keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;escape&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;str(entry[key])&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;str&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;entry[key]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;value&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;value.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\n&#x27;&quot;,&nbsp;&quot;&#x27;&lt;br/&gt;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json_file.with_suffix&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.html&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;html_file_path&#x27;,&nbsp;&quot;&#x27;w&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;file.write&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;html_content&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;\\t&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;preserve_spacing&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;text.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;&nbsp;&#x27;&quot;,&nbsp;&quot;&#x27;&amp;nbsp;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;seen.add&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(item[key1],&nbsp;item[key2])&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;result.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;item&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;directory&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path(directory).rglob&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;*.{file_name}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;read_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;json_file&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)&#x27;,&nbsp;&#x27;json.load(f)&#x27;,&nbsp;&#x27;{}&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;combined_data.extend&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;json_file_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;combined_data&#x27;,&nbsp;&quot;&#x27;instruction&#x27;&quot;,&nbsp;&quot;&#x27;output&#x27;&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;result&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;combined_data.copy&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;item[&#x27;instruction&#x27;].startswith&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;Call&nbsp;code&nbsp;graph&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;code_output.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;graph_output.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;combined_data&#x27;,&nbsp;&#x27;file_path&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;combine_json_files&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;convert_json_to_html&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;directory&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;seen.add&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(item[key1],&nbsp;item[key2])&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_duplicate_dataset_entries&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;result.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;item&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_nodes_from&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;]&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;edge.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;plt.figure&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.spring_layout&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.draw&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G&#x27;,&nbsp;&#x27;pos&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.edges&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;label.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;f&quot;\\nReturns:&nbsp;{\&#x27;,&nbsp;\&#x27;.join(edge[2][\&#x27;target_returns\&#x27;])}&quot;&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;,&nbsp;&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;edge[2][&#x27;target_returns&#x27;]&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;\\n&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;label&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.draw_networkx_edge_labels&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G&#x27;,&nbsp;&#x27;pos&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;plt.savefig&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_file&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;plt.close&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;Path&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;output_dir&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;output_subdir.mkdir&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;&#x27;.&#x27;.join&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;zip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_names&#x27;,&nbsp;&#x27;contents&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;write_file&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;content&#x27;,&nbsp;&#x27;output_subdir&nbsp;/&nbsp;file_name&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;create_code_graph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_details&#x27;,&nbsp;&#x27;base_name&#x27;,&nbsp;&#x27;output_subdir&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;save_python_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.info&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;&quot;]}]}</td></tr><tr><td>Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;yaml<br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}<br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;for&nbsp;each&nbsp;item:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)<br/></td><td>create_code_graph,&nbsp;save_python_data,&nbsp;read_file,&nbsp;preserve_spacing,&nbsp;convert_json_to_html,&nbsp;write_file,&nbsp;remove_duplicate_dataset_entries,&nbsp;combine_json_files</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`read_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}</td><td>file_path</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`write_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>file_path,&nbsp;data</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`convert_json_to_html`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)</td><td>directory</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`preserve_spacing`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>tab_width,&nbsp;text</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`combine_json_files`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>directory</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`remove_duplicate_dataset_entries`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>key2,&nbsp;key1,&nbsp;dataset</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`create_code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>file_details,&nbsp;output_subdir,&nbsp;base_name</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;`save_python_data`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)</td><td>file_details,&nbsp;output_dir,&nbsp;relative_path,&nbsp;instruct_list</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`read_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}</td><td>Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`write_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`convert_json_to_html`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)</td><td>Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`preserve_spacing`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`combine_json_files`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`remove_duplicate_dataset_entries`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`create_code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;`save_python_data`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)</td><td>Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`read_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}</td><td>file_path.open,&nbsp;json.load,&nbsp;yaml.load</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`write_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>file_path.open,&nbsp;json.dump,&nbsp;yaml.dump</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`convert_json_to_html`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)</td><td>text.replace&nbsp;,&nbsp;nbsp.replace,&nbsp;Path,&nbsp;str,&nbsp;value.replace,&nbsp;json_file.with_suffix,&nbsp;read_file,&nbsp;Pathdirectory.rglob,&nbsp;escape,&nbsp;preserve_spacing,&nbsp;logging.info,&nbsp;open,&nbsp;file.write,&nbsp;len,&nbsp;text.replace,&nbsp;dataset0.keys</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`preserve_spacing`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>text.replace&nbsp;,&nbsp;nbsp.replace,&nbsp;text.replace</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`combine_json_files`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>iteminstruction.startswith,&nbsp;set,&nbsp;combined_data.copy,&nbsp;Path,&nbsp;result.append,&nbsp;seen.add,&nbsp;read_file,&nbsp;Pathdirectory.rglob,&nbsp;code_output.append,&nbsp;convert_json_to_html,&nbsp;remove_duplicate_dataset_entries,&nbsp;combined_data.extend,&nbsp;write_file,&nbsp;graph_output.append</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`remove_duplicate_dataset_entries`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>set,&nbsp;seen.add,&nbsp;result.append</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`create_code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>,&nbsp;label.append,&nbsp;.join,&nbsp;nx.draw,&nbsp;G.add_edge,&nbsp;plt.savefig,&nbsp;nx.DiGraph,&nbsp;plt.close,&nbsp;n.join,&nbsp;G.add_nodes_from,&nbsp;G.edges,&nbsp;edge.items,&nbsp;plt.figure,&nbsp;nx.spring_layout,&nbsp;nx.draw_networkx_edge_labels</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;`save_python_data`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)</td><td>..join,&nbsp;create_code_graph,&nbsp;Path,&nbsp;output_subdir.mkdir,&nbsp;logging.info,&nbsp;write_file,&nbsp;zip</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`read_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}</td><td>file_type</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`write_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)</td><td>file_type</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`convert_json_to_html`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)</td><td>html_content,&nbsp;column_count,&nbsp;column_width,&nbsp;value,&nbsp;dataset,&nbsp;html_file_path</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`combine_json_files`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>instruction,&nbsp;code_graph_output,&nbsp;result,&nbsp;instruct_data,&nbsp;graph_data,&nbsp;graph_output,&nbsp;purpose_data,&nbsp;json_file_data,&nbsp;file_path,&nbsp;seen,&nbsp;combined_data,&nbsp;code_output</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`remove_duplicate_dataset_entries`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>seen,&nbsp;result</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`create_code_graph`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;(edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size=8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[edge[0],&nbsp;edge[1]]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()</td><td>G,&nbsp;graph_type,&nbsp;pos,&nbsp;edge_labels,&nbsp;label,&nbsp;output_file</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;`save_python_data`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join((part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts))<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)</td><td>output_subdir,&nbsp;file_names,&nbsp;contents,&nbsp;base_name</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`read_file`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}</td><td>,&nbsp;json.loadf,&nbsp;Loaderyaml.SafeLoader,&nbsp;yaml.loadf</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`convert_json_to_html`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&#x27;&lt;td&gt;{value}&lt;/td&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;&lt;/tr&gt;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&#x27;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;\n&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)</td><td>text.replace&nbsp;,&nbsp;nbsp&nbsp;&nbsp;tab_width,&nbsp;nbsp.replacet</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`preserve_spacing`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int=4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&#x27;&nbsp;&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;).replace(&#x27;\t&#x27;,&nbsp;&#x27;&amp;nbsp;&#x27;&nbsp;*&nbsp;tab_width)</td><td>text.replace&nbsp;,&nbsp;nbsp&nbsp;&nbsp;tab_width,&nbsp;nbsp.replacet</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`combine_json_files`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;&nbsp;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}</td><td>instruct_list:&nbsp;instruct_data,&nbsp;result</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;`remove_duplicate_dataset_entries`&nbsp;in&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`?</td><td>def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result</td><td>result</td></tr><tr><td>1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.save_py2dataset_output.py`;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.</td><td>&quot;&quot;&quot;<br/>Utility&nbsp;functions&nbsp;for&nbsp;reading&nbsp;the&nbsp;input&nbsp;and&nbsp;saving&nbsp;the&nbsp;output&nbsp;of&nbsp;the&nbsp;py2dataset&nbsp;script.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`read_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Read&nbsp;and&nbsp;return&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>[req02]&nbsp;The&nbsp;`write_file`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;dictionary&nbsp;and&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Write&nbsp;the&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;file&nbsp;in&nbsp;either&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;format.<br/>[req03]&nbsp;The&nbsp;`convert_json_to_html`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Preserve&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.<br/>[req04]&nbsp;The&nbsp;`combine_json_files`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;directory&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;directory.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Write&nbsp;the&nbsp;combined&nbsp;data&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Convert&nbsp;the&nbsp;merged&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Return&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>[req05]&nbsp;The&nbsp;`create_code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;graphs&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.<br/>[req06]&nbsp;The&nbsp;`save_python_data`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file,&nbsp;a&nbsp;base&nbsp;name,&nbsp;and&nbsp;an&nbsp;output&nbsp;directory&nbsp;as&nbsp;arguments.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Save&nbsp;the&nbsp;details&nbsp;of&nbsp;the&nbsp;Python&nbsp;file&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Save&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Generate&nbsp;and&nbsp;save&nbsp;code&nbsp;graphs.<br/>&quot;&quot;&quot;<br/>import&nbsp;json<br/>import&nbsp;logging<br/>from&nbsp;html&nbsp;import&nbsp;escape<br/>from&nbsp;pathlib&nbsp;import&nbsp;Path<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List<br/>import&nbsp;matplotlib.pyplot&nbsp;as&nbsp;plt<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>import&nbsp;yaml<br/><br/>def&nbsp;read_file(file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;Dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Reads&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;returns&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;contents&nbsp;of&nbsp;the&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open()&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;json.load(f)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;yaml.load(f,&nbsp;Loader=yaml.SafeLoader)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{}<br/><br/>def&nbsp;write_file(data:&nbsp;Dict,&nbsp;file_path:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;data&nbsp;(Dict):&nbsp;The&nbsp;data&nbsp;to&nbsp;write&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(Path):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_type&nbsp;=&nbsp;file_path.suffix[1:]<br/>&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;file_path.open(&#x27;w&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;file_type&nbsp;==&nbsp;&#x27;json&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json.dump(data,&nbsp;f,&nbsp;indent=4)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;file_type&nbsp;==&nbsp;&#x27;yaml&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.SafeDumper.ignore_aliases&nbsp;=&nbsp;lambda&nbsp;*args:&nbsp;True<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;yaml.dump(data,&nbsp;f,&nbsp;Dumper=yaml.SafeDumper,&nbsp;sort_keys=False)<br/><br/><br/>def&nbsp;convert_json_to_html(directory:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;JSON&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;preserve_spacing(text:&nbsp;str,&nbsp;tab_width:&nbsp;int&nbsp;=&nbsp;4)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;Preserve&nbsp;spaces&nbsp;and&nbsp;tabs&nbsp;in&nbsp;the&nbsp;provided&nbsp;text.&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;text.replace(&quot;&nbsp;&quot;,&nbsp;&quot;&amp;nbsp;&quot;).replace(&quot;\t&quot;,&nbsp;&quot;&amp;nbsp;&quot;&nbsp;*&nbsp;tab_width)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(&#x27;*.json&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;table&nbsp;{border-collapse:&nbsp;collapse;&nbsp;width:&nbsp;100%;&nbsp;table-layout:&nbsp;fixed;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;th,&nbsp;td&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;border:&nbsp;1px&nbsp;solid&nbsp;black;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;padding:&nbsp;8px;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;text-align:&nbsp;left;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;white-space:&nbsp;pre-line;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;vertical-align:&nbsp;top;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;word-wrap:&nbsp;break-word;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/style&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/head&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_count&nbsp;=&nbsp;len(dataset[0].keys())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;column_width&nbsp;=&nbsp;100&nbsp;/&nbsp;column_count&nbsp;&nbsp;#&nbsp;Calculate&nbsp;the&nbsp;width&nbsp;for&nbsp;each&nbsp;column&nbsp;based&nbsp;on&nbsp;the&nbsp;number&nbsp;of&nbsp;columns<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;dataset[0].keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;th&nbsp;style=&#x27;width:&nbsp;{column_width}%;&#x27;&gt;{key}&lt;/th&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tr&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/thead&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;entry&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;tr&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key&nbsp;in&nbsp;entry:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Convert&nbsp;\n&nbsp;to&nbsp;HTML&nbsp;line&nbsp;breaks<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;escape(str(entry[key]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;preserve_spacing(value)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;value&nbsp;=&nbsp;value.replace(&#x27;\n&#x27;,&nbsp;&#x27;&lt;br/&gt;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;f&quot;&lt;td&gt;{value}&lt;/td&gt;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&lt;/tr&gt;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_content&nbsp;+=&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/tbody&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/table&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/body&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;/html&gt;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;html_file_path&nbsp;=&nbsp;json_file.with_suffix(&#x27;.html&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(html_file_path,&nbsp;&#x27;w&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;)&nbsp;as&nbsp;file:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.write(html_content)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Failed&nbsp;saving:&nbsp;{html_file_path}&#x27;)<br/><br/><br/>def&nbsp;combine_json_files(directory:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;the&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;,&nbsp;and&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;then&nbsp;remove&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;directory&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;are&nbsp;located.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;&#x27;instruct_list&#x27;&nbsp;datasets.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;remove_duplicate_dataset_entries(dataset:&nbsp;List[Dict],&nbsp;key1:&nbsp;str,&nbsp;key2:&nbsp;str)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;duplicate&nbsp;entries&nbsp;from&nbsp;the&nbsp;provided&nbsp;dataset&nbsp;based&nbsp;on&nbsp;the&nbsp;provided&nbsp;keys.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dataset&nbsp;(List[Dict]):&nbsp;The&nbsp;dataset&nbsp;to&nbsp;remove&nbsp;duplicates&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key1&nbsp;(str):&nbsp;The&nbsp;first&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key2&nbsp;(str):&nbsp;The&nbsp;second&nbsp;key&nbsp;to&nbsp;check&nbsp;for&nbsp;duplicates.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;dataset&nbsp;without&nbsp;duplicate&nbsp;entries.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen&nbsp;=&nbsp;set()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;dataset:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(item[key1],&nbsp;item[key2])&nbsp;not&nbsp;in&nbsp;seen:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;seen.add((item[key1],&nbsp;item[key2]))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result.append(item)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;result<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name&nbsp;in&nbsp;[&#x27;instruct.json&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;=&nbsp;Path(directory)&nbsp;/&nbsp;file_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;json_file&nbsp;in&nbsp;Path(directory).rglob(f&#x27;*.{file_name}&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;json_file_data&nbsp;=&nbsp;read_file(json_file)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data.extend(json_file_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;combined_data&nbsp;=&nbsp;remove_duplicate_dataset_entries(combined_data,&nbsp;&#x27;instruction&#x27;,&nbsp;&#x27;output&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_data&nbsp;=&nbsp;combined_data.copy()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;gen&nbsp;training&nbsp;datasets&nbsp;that&nbsp;contains&nbsp;purpose&nbsp;and&nbsp;graph&nbsp;data&nbsp;formatted&nbsp;for&nbsp;each&nbsp;item:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;purpose_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_data&nbsp;=&nbsp;[item&nbsp;for&nbsp;item&nbsp;in&nbsp;combined_data&nbsp;if&nbsp;item[&#x27;instruction&#x27;].startswith(&#x27;Call&nbsp;code&nbsp;graph&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;purpose_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;a&nbsp;Python&nbsp;code&nbsp;file&nbsp;that&nbsp;is&nbsp;described&nbsp;as&nbsp;follows:\n&#x27;+&nbsp;item[&#x27;output&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;input&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;item&nbsp;in&nbsp;graph_data:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruction&nbsp;=&nbsp;&#x27;Define&nbsp;the&nbsp;call&nbsp;code&nbsp;graph&nbsp;for&nbsp;this&nbsp;Python&nbsp;file:\n&#x27;&nbsp;+&nbsp;item[&#x27;input&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;graph_output.append({&#x27;instruction&#x27;:&nbsp;instruction,&nbsp;&#x27;output&#x27;:&nbsp;item[&#x27;output&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code_graph_output&nbsp;=&nbsp;code_output&nbsp;+&nbsp;graph_output<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(code_graph_output,&nbsp;Path(directory)&nbsp;/&nbsp;&#x27;training.json&#x27;)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(combined_data,&nbsp;file_path)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Save&nbsp;html&nbsp;file&nbsp;for&nbsp;each&nbsp;json&nbsp;file&nbsp;in&nbsp;the&nbsp;output&nbsp;directory<br/>&nbsp;&nbsp;&nbsp;&nbsp;convert_json_to_html(directory)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;instruct_list&#x27;:&nbsp;instruct_data}<br/><br/><br/>def&nbsp;create_code_graph(file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;output_subdir:&nbsp;Path)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Generate&nbsp;graphs&nbsp;from&nbsp;the&nbsp;file_details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;output&nbsp;files.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;(Path):&nbsp;The&nbsp;subdirectory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;graph_type&nbsp;=&nbsp;&#x27;entire_code_graph&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_file&nbsp;=&nbsp;output_subdir&nbsp;/&nbsp;f&#x27;{base_name}.{graph_type}.png&#x27;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;graphs,&nbsp;add&nbsp;nodes,&nbsp;and&nbsp;add&nbsp;edges<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_nodes_from(file_details[&#x27;file_info&#x27;][graph_type][&#x27;nodes&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;file_details[&#x27;file_info&#x27;][graph_type][&#x27;edges&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge[&#x27;source&#x27;],&nbsp;edge[&#x27;target&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source&nbsp;in&nbsp;G.nodes&nbsp;and&nbsp;target&nbsp;in&nbsp;G.nodes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**{k:&nbsp;v&nbsp;for&nbsp;k,&nbsp;v&nbsp;in&nbsp;edge.items()&nbsp;if&nbsp;k&nbsp;in&nbsp;[&#x27;target_inputs&#x27;,&nbsp;&#x27;target_returns&#x27;]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Draw&nbsp;graphs<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.figure(figsize=(20,&nbsp;20))<br/>&nbsp;&nbsp;&nbsp;&nbsp;pos&nbsp;=&nbsp;nx.spring_layout(G)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw(G,&nbsp;pos,&nbsp;with_labels=True,&nbsp;font_weight=&#x27;bold&#x27;,&nbsp;font_size&nbsp;=&nbsp;8,&nbsp;node_shape=&#x27;s&#x27;,&nbsp;node_size=500,&nbsp;width=1,&nbsp;arrowsize=12)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_labels&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges(data=True):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_inputs&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;Inputs:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_inputs&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;&#x27;target_returns&#x27;&nbsp;in&nbsp;edge[2]&nbsp;and&nbsp;edge[2][&#x27;target_returns&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;label.append(f&quot;\nReturns:&nbsp;{&#x27;,&nbsp;&#x27;.join(edge[2][&#x27;target_returns&#x27;])}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_labels[(edge[0],&nbsp;edge[1])]&nbsp;=&nbsp;&#x27;\n&#x27;.join(label)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nx.draw_networkx_edge_labels(G,&nbsp;pos,&nbsp;edge_labels=edge_labels,&nbsp;font_size=6)<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.savefig(output_file)&nbsp;#&nbsp;Save&nbsp;the&nbsp;figure<br/>&nbsp;&nbsp;&nbsp;&nbsp;plt.close()&nbsp;&nbsp;#&nbsp;Close&nbsp;the&nbsp;figure<br/><br/><br/>def&nbsp;save_python_data(file_details:&nbsp;dict,&nbsp;instruct_list:&nbsp;list,&nbsp;relative_path:&nbsp;Path,&nbsp;output_dir:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file,&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;a&nbsp;JSON&nbsp;file,&nbsp;and&nbsp;code&nbsp;graphs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(dict):&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(list):&nbsp;The&nbsp;instruction&nbsp;data&nbsp;extracted&nbsp;from&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;relative_path&nbsp;(Path):&nbsp;The&nbsp;relative&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;output_dir&nbsp;(str):&nbsp;The&nbsp;directory&nbsp;where&nbsp;the&nbsp;output&nbsp;files&nbsp;will&nbsp;be&nbsp;saved.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir&nbsp;=&nbsp;Path(output_dir)&nbsp;/&nbsp;relative_path.parts[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;output_subdir.mkdir(parents=True,&nbsp;exist_ok=True)<br/>&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;=&nbsp;&#x27;.&#x27;.join(part&nbsp;for&nbsp;part&nbsp;in&nbsp;relative_path.parts)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;write&nbsp;instrunct.json&nbsp;files<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_names&nbsp;=&nbsp;[f&#x27;{base_name}.instruct.json&#x27;,&nbsp;f&#x27;{base_name}.details.yaml&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;contents&nbsp;=&nbsp;[instruct_list,&nbsp;file_details]<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;file_name,&nbsp;content&nbsp;in&nbsp;zip(file_names,&nbsp;contents):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;write_file(content,&nbsp;output_subdir&nbsp;/&nbsp;file_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create_code_graph(file_details,&nbsp;base_name,&nbsp;output_subdir)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except&nbsp;Exception&nbsp;as&nbsp;e:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Error&nbsp;creating&nbsp;graph&nbsp;for&nbsp;{base_name}:&nbsp;{e}&#x27;)<br/></td><td>This&nbsp;Python&nbsp;file&nbsp;provides&nbsp;utilities&nbsp;for&nbsp;reading&nbsp;files&nbsp;(JSON&nbsp;or&nbsp;YAML),&nbsp;converting&nbsp;JSON&nbsp;files&nbsp;to&nbsp;HTML&nbsp;format,&nbsp;merging&nbsp;JSON&nbsp;files&nbsp;into&nbsp;a&nbsp;single&nbsp;JSON&nbsp;file,&nbsp;creating&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;provided&nbsp;file&nbsp;details,&nbsp;and&nbsp;saving&nbsp;Python&nbsp;data&nbsp;as&nbsp;YAML&nbsp;files.&nbsp;<br/><br/>Functions&nbsp;defined&nbsp;in&nbsp;`py2dataset.save_py2dataset_output.py`:<br/>1.&nbsp;`read_file`&nbsp;-&nbsp;reads&nbsp;the&nbsp;contents&nbsp;of&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;as&nbsp;a&nbsp;dictionary.<br/>&nbsp;&nbsp;&nbsp;Input:&nbsp;file&nbsp;path&nbsp;(str)<br/>&nbsp;&nbsp;&nbsp;Output:&nbsp;dictionary&nbsp;containing&nbsp;the&nbsp;contents&nbsp;of&nbsp;the&nbsp;file<br/>&nbsp;&nbsp;&nbsp;Variables:&nbsp;file&nbsp;type,&nbsp;f&nbsp;(file&nbsp;object),&nbsp;json/yaml&nbsp;loader<br/>2.&nbsp;`write_file`&nbsp;-&nbsp;writes&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file.&nbsp;<br/>&nbsp;&nbsp;&nbsp;Inputs:&nbsp;data&nbsp;(dict),&nbsp;file&nbsp;path&nbsp;(Path)<br/>&nbsp;&nbsp;&nbsp;Output:&nbsp;None<br/>&nbsp;&nbsp;&nbsp;Variables:&nbsp;file&nbsp;type,&nbsp;f&nbsp;(file&nbsp;object),&nbsp;json/yaml&nbsp;dumper<br/>3.&nbsp;`convert_json_to_html`&nbsp;-&nbsp;convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format,&nbsp;save&nbsp;each&nbsp;converted&nbsp;file&nbsp;with&nbsp;a&nbsp;.html&nbsp;extension&nbsp;while&nbsp;preserving&nbsp;input&#x27;s&nbsp;spacing&nbsp;and&nbsp;tabs&nbsp;for&nbsp;the&nbsp;&#x27;input&#x27;&nbsp;field.&nbsp;<br/>&nbsp;&nbsp;&nbsp;Input:&nbsp;directory&nbsp;(str)<br/>&nbsp;&nbsp;&nbsp;Output:&nbsp;None<br/>&nbsp;&nbsp;&nbsp;Variables:&nbsp;html_content&nbsp;(HTML&nbsp;formatted&nbsp;content),&nbsp;Path(),&nbsp;html_file_path&nbsp;(file&nbsp;path&nbsp;of&nbsp;the&nbsp;output&nbsp;HTML&nbsp;file)<br/>4.&nbsp;`combine_json_files`&nbsp;-&nbsp;merge&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;a&nbsp;given&nbsp;directory,&nbsp;remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;JSON&nbsp;files,&nbsp;and&nbsp;write&nbsp;them&nbsp;to&nbsp;&#x27;instruct.json&#x27;&nbsp;while&nbsp;generating&nbsp;HTML&nbsp;versions&nbsp;for&nbsp;each&nbsp;input&nbsp;dataset.<br/>&nbsp;&nbsp;&nbsp;Inputs:&nbsp;directory&nbsp;(str)<br/>&nbsp;&nbsp;&nbsp;Outputs:&nbsp;`{&#x27;instruct_list&#x27;:&nbsp;List[Dict]}`&nbsp;containing&nbsp;the&nbsp;merged&nbsp;datasets&nbsp;without&nbsp;duplicates<br/>&nbsp;&nbsp;&nbsp;Variables:&nbsp;instruct_data&nbsp;(List[Dict]),&nbsp;seen&nbsp;(set),&nbsp;result&nbsp;(List[Dict]),&nbsp;json_file,&nbsp;combined_data&nbsp;(List[Dict])<br/>5.&nbsp;`create_code_graph`&nbsp;-&nbsp;generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;provided&nbsp;file&nbsp;details&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;the&nbsp;specified&nbsp;output&nbsp;directory.&nbsp;<br/>&nbsp;&nbsp;&nbsp;Inputs:&nbsp;file_details&nbsp;(dict),&nbsp;base_name&nbsp;(str),&nbsp;output_subdir&nbsp;(Path)<br/>&nbsp;&nbsp;&nbsp;Output:&nbsp;None<br/>&nbsp;&nbsp;&nbsp;Variables:&nbsp;G&nbsp;(Graph&nbsp;object),&nbsp;pos&nbsp;(node&nbsp;positions),&nbsp;edge_labels&nbsp;(edge&nbsp;labels&nbsp;for&nbsp;graph),&nbsp;output_file&nbsp;(file&nbsp;path&nbsp;of&nbsp;the&nbsp;PNG&nbsp;image)<br/>6.&nbsp;`save_python_data`&nbsp;-&nbsp;save&nbsp;details&nbsp;of&nbsp;a&nbsp;Python&nbsp;file&nbsp;as&nbsp;YAML,&nbsp;generate&nbsp;and&nbsp;save&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files,&nbsp;and&nbsp;create&nbsp;code&nbsp;graphs.&nbsp;<br/>&nbsp;&nbsp;&nbsp;Inputs:&nbsp;file_details&nbsp;(dict),&nbsp;instruct_list&nbsp;(List[Dict]),&nbsp;relative_path&nbsp;(Path),&nbsp;output_dir&nbsp;(str)<br/>&nbsp;&nbsp;&nbsp;Output:&nbsp;None<br/>&nbsp;&nbsp;&nbsp;Variables:&nbsp;output_subdir&nbsp;(Path&nbsp;object),&nbsp;base_name&nbsp;(str),&nbsp;file_names,&nbsp;contents,&nbsp;graph_type,&nbsp;pos,&nbsp;edge_labels,&nbsp;label,&nbsp;output_file<br/><br/>Functions&nbsp;in&nbsp;`py2dataset.save_py2dataset_output.py`&nbsp;perform&nbsp;the&nbsp;following&nbsp;tasks:<br/>1.&nbsp;Read&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;and&nbsp;return&nbsp;its&nbsp;contents&nbsp;as&nbsp;a&nbsp;dictionary&nbsp;using&nbsp;`read_file`.&nbsp;The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;function&nbsp;is&nbsp;to&nbsp;simplify&nbsp;file&nbsp;read&nbsp;operations&nbsp;for&nbsp;all&nbsp;files.&nbsp;This&nbsp;ensures&nbsp;consistency&nbsp;when&nbsp;handling&nbsp;different&nbsp;formats&nbsp;for&nbsp;reading&nbsp;data&nbsp;from&nbsp;files.<br/>2.&nbsp;Write&nbsp;a&nbsp;dictionary&nbsp;to&nbsp;a&nbsp;JSON&nbsp;or&nbsp;YAML&nbsp;file&nbsp;using&nbsp;`write_file`&nbsp;to&nbsp;ensure&nbsp;consistency&nbsp;in&nbsp;writing&nbsp;the&nbsp;output&nbsp;data&nbsp;to&nbsp;disk.&nbsp;<br/>3.&nbsp;Convert&nbsp;JSON&nbsp;files&nbsp;within&nbsp;a&nbsp;given&nbsp;directory&nbsp;to&nbsp;HTML&nbsp;format&nbsp;using&nbsp;`convert_json_to_html`.&nbsp;The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;function&nbsp;is&nbsp;to&nbsp;simplify&nbsp;file&nbsp;conversion&nbsp;operations&nbsp;and&nbsp;maintain&nbsp;consistency&nbsp;in&nbsp;handling&nbsp;different&nbsp;formats&nbsp;for&nbsp;output&nbsp;files.&nbsp;<br/>4.&nbsp;Combine&nbsp;all&nbsp;JSON&nbsp;files&nbsp;in&nbsp;an&nbsp;output&nbsp;directory&nbsp;into&nbsp;&#x27;instruct.json&#x27;&nbsp;and&nbsp;remove&nbsp;duplicates&nbsp;from&nbsp;the&nbsp;combined&nbsp;data&nbsp;using&nbsp;`combine_json_files`.&nbsp;This&nbsp;function&nbsp;also&nbsp;generates&nbsp;HTML&nbsp;versions&nbsp;of&nbsp;each&nbsp;input&nbsp;dataset,&nbsp;which&nbsp;is&nbsp;useful&nbsp;for&nbsp;displaying&nbsp;the&nbsp;data&nbsp;visually.<br/>5.&nbsp;Generate&nbsp;code&nbsp;graphs&nbsp;based&nbsp;on&nbsp;provided&nbsp;file&nbsp;details&nbsp;using&nbsp;`create_code_graph`&nbsp;and&nbsp;save&nbsp;them&nbsp;as&nbsp;PNG&nbsp;images&nbsp;in&nbsp;a&nbsp;specified&nbsp;output&nbsp;directory&nbsp;using&nbsp;`save_python_data`.&nbsp;The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;function&nbsp;is&nbsp;to&nbsp;visualize&nbsp;the&nbsp;relationships&nbsp;between&nbsp;different&nbsp;functions&nbsp;in&nbsp;a&nbsp;Python&nbsp;script,&nbsp;which&nbsp;can&nbsp;help&nbsp;with&nbsp;understanding&nbsp;the&nbsp;flow&nbsp;of&nbsp;execution.&nbsp;<br/>6.&nbsp;Save&nbsp;Python&nbsp;file&nbsp;details&nbsp;as&nbsp;a&nbsp;YAML&nbsp;file&nbsp;and&nbsp;the&nbsp;instruction&nbsp;data&nbsp;as&nbsp;JSON&nbsp;files&nbsp;using&nbsp;`save_python_data`,&nbsp;which&nbsp;allows&nbsp;for&nbsp;easy&nbsp;modification&nbsp;and&nbsp;updating&nbsp;of&nbsp;the&nbsp;input&nbsp;data.&nbsp;This&nbsp;function&nbsp;also&nbsp;ensures&nbsp;consistency&nbsp;in&nbsp;handling&nbsp;different&nbsp;formats&nbsp;for&nbsp;output&nbsp;files.</td></tr><tr><td>Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.setup.py`?</td><td>from&nbsp;setuptools&nbsp;import&nbsp;setup<br/><br/>with&nbsp;open(&quot;README.md&quot;,&nbsp;&quot;r&quot;)&nbsp;as&nbsp;fh:<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description&nbsp;=&nbsp;fh.read()<br/><br/>setup(<br/>&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;version=&quot;0.1&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author=&quot;Jeff&nbsp;Meloy&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author_email=&quot;jeffmeloy@gmail.com&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;description=&quot;A&nbsp;tool&nbsp;to&nbsp;generate&nbsp;structured&nbsp;datasets&nbsp;from&nbsp;Python&nbsp;source&nbsp;code&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description=long_description,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description_content_type=&quot;text/markdown&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;url=&quot;https://github.com/jeffmeloy/py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;py_modules=[&quot;py2dataset&quot;,&nbsp;&quot;get_python_file_details&quot;,&nbsp;&quot;get_python_json&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;classifiers=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Programming&nbsp;Language&nbsp;::&nbsp;Python&nbsp;::&nbsp;3&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;License&nbsp;::&nbsp;OSI&nbsp;Approved&nbsp;::&nbsp;MIT&nbsp;License&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Operating&nbsp;System&nbsp;::&nbsp;OS&nbsp;Independent&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;python_requires=&#x27;&gt;=3.8&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;install_requires=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;matplotlib&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;networkx&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ctransformers&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pyyaml&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;entry_points={&#x27;console_scripts&#x27;:&nbsp;[&#x27;py2dataset&nbsp;=&nbsp;py2dataset:main&#x27;]},<br/>&nbsp;&nbsp;&nbsp;&nbsp;packages=[&#x27;py2dataset&#x27;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;package_dir={&#x27;py2dataset&#x27;:&nbsp;&#x27;.\\&#x27;},<br/>)</td><td>setuptools</td></tr><tr><td>Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.setup.py`?</td><td>from&nbsp;setuptools&nbsp;import&nbsp;setup<br/><br/>with&nbsp;open(&quot;README.md&quot;,&nbsp;&quot;r&quot;)&nbsp;as&nbsp;fh:<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description&nbsp;=&nbsp;fh.read()<br/><br/>setup(<br/>&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;version=&quot;0.1&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author=&quot;Jeff&nbsp;Meloy&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author_email=&quot;jeffmeloy@gmail.com&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;description=&quot;A&nbsp;tool&nbsp;to&nbsp;generate&nbsp;structured&nbsp;datasets&nbsp;from&nbsp;Python&nbsp;source&nbsp;code&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description=long_description,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description_content_type=&quot;text/markdown&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;url=&quot;https://github.com/jeffmeloy/py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;py_modules=[&quot;py2dataset&quot;,&nbsp;&quot;get_python_file_details&quot;,&nbsp;&quot;get_python_json&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;classifiers=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Programming&nbsp;Language&nbsp;::&nbsp;Python&nbsp;::&nbsp;3&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;License&nbsp;::&nbsp;OSI&nbsp;Approved&nbsp;::&nbsp;MIT&nbsp;License&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Operating&nbsp;System&nbsp;::&nbsp;OS&nbsp;Independent&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;python_requires=&#x27;&gt;=3.8&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;install_requires=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;matplotlib&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;networkx&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ctransformers&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pyyaml&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;entry_points={&#x27;console_scripts&#x27;:&nbsp;[&#x27;py2dataset&nbsp;=&nbsp;py2dataset:main&#x27;]},<br/>&nbsp;&nbsp;&nbsp;&nbsp;packages=[&#x27;py2dataset&#x27;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;package_dir={&#x27;py2dataset&#x27;:&nbsp;&#x27;.\\&#x27;},<br/>)</td><td>{&#x27;nodes&#x27;:&nbsp;[],&nbsp;&#x27;edges&#x27;:&nbsp;[]}</td></tr><tr><td>1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;`py2dataset.setup.py`;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.</td><td>from&nbsp;setuptools&nbsp;import&nbsp;setup<br/><br/>with&nbsp;open(&quot;README.md&quot;,&nbsp;&quot;r&quot;)&nbsp;as&nbsp;fh:<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description&nbsp;=&nbsp;fh.read()<br/><br/>setup(<br/>&nbsp;&nbsp;&nbsp;&nbsp;name=&quot;py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;version=&quot;0.1&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author=&quot;Jeff&nbsp;Meloy&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;author_email=&quot;jeffmeloy@gmail.com&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;description=&quot;A&nbsp;tool&nbsp;to&nbsp;generate&nbsp;structured&nbsp;datasets&nbsp;from&nbsp;Python&nbsp;source&nbsp;code&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description=long_description,<br/>&nbsp;&nbsp;&nbsp;&nbsp;long_description_content_type=&quot;text/markdown&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;url=&quot;https://github.com/jeffmeloy/py2dataset&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;py_modules=[&quot;py2dataset&quot;,&nbsp;&quot;get_python_file_details&quot;,&nbsp;&quot;get_python_json&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;classifiers=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Programming&nbsp;Language&nbsp;::&nbsp;Python&nbsp;::&nbsp;3&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;License&nbsp;::&nbsp;OSI&nbsp;Approved&nbsp;::&nbsp;MIT&nbsp;License&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Operating&nbsp;System&nbsp;::&nbsp;OS&nbsp;Independent&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;python_requires=&#x27;&gt;=3.8&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;install_requires=[<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;matplotlib&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;networkx&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;ctransformers&quot;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;pyyaml&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;entry_points={&#x27;console_scripts&#x27;:&nbsp;[&#x27;py2dataset&nbsp;=&nbsp;py2dataset:main&#x27;]},<br/>&nbsp;&nbsp;&nbsp;&nbsp;packages=[&#x27;py2dataset&#x27;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;package_dir={&#x27;py2dataset&#x27;:&nbsp;&#x27;.\\&#x27;},<br/>)</td><td>The&nbsp;purpose&nbsp;of&nbsp;this&nbsp;Python&nbsp;file&nbsp;is&nbsp;to&nbsp;generate&nbsp;a&nbsp;structured&nbsp;dataset&nbsp;from&nbsp;Python&nbsp;source&nbsp;code&nbsp;using&nbsp;AI&nbsp;generated&nbsp;context.&nbsp;The&nbsp;`setup()`&nbsp;function&nbsp;is&nbsp;used&nbsp;to&nbsp;create&nbsp;a&nbsp;package&nbsp;for&nbsp;distribution&nbsp;and&nbsp;installation,&nbsp;as&nbsp;per&nbsp;best&nbsp;practices&nbsp;defined&nbsp;by&nbsp;PEP&nbsp;517&nbsp;(Python&nbsp;packaging&nbsp;guidelines).&nbsp;Here&nbsp;are&nbsp;the&nbsp;step-by-step&nbsp;details:<br/><br/>Step&nbsp;1.&nbsp;The&nbsp;setup()&nbsp;function&nbsp;creates&nbsp;an&nbsp;object&nbsp;from&nbsp;setuptools&nbsp;which&nbsp;specifies&nbsp;metadata&nbsp;about&nbsp;the&nbsp;project&nbsp;such&nbsp;as&nbsp;name,&nbsp;version,&nbsp;author,&nbsp;and&nbsp;description.&nbsp;It&nbsp;also&nbsp;defines&nbsp;the&nbsp;package&nbsp;name,&nbsp;module&nbsp;name,&nbsp;and&nbsp;version&nbsp;requirements&nbsp;for&nbsp;installation.<br/><br/>Step&nbsp;2.&nbsp;The&nbsp;`long_description`&nbsp;variable&nbsp;is&nbsp;assigned&nbsp;to&nbsp;a&nbsp;Markdown-formatted&nbsp;README&nbsp;file,&nbsp;which&nbsp;contains&nbsp;detailed&nbsp;information&nbsp;about&nbsp;the&nbsp;package&nbsp;and&nbsp;its&nbsp;usage.<br/><br/>Step&nbsp;3.&nbsp;The&nbsp;`packages`&nbsp;argument&nbsp;specifies&nbsp;that&nbsp;only&nbsp;one&nbsp;Python&nbsp;module&nbsp;is&nbsp;included&nbsp;in&nbsp;this&nbsp;package:&nbsp;`py2dataset`.&nbsp;This&nbsp;is&nbsp;specified&nbsp;as&nbsp;a&nbsp;list&nbsp;of&nbsp;strings&nbsp;with&nbsp;the&nbsp;name&nbsp;of&nbsp;the&nbsp;directory&nbsp;containing&nbsp;the&nbsp;code.<br/><br/>Step&nbsp;4.&nbsp;The&nbsp;`package_dir`&nbsp;argument&nbsp;specifies&nbsp;where&nbsp;to&nbsp;look&nbsp;for&nbsp;the&nbsp;package,&nbsp;which&nbsp;is&nbsp;in&nbsp;the&nbsp;current&nbsp;directory&nbsp;(&#x27;.&#x27;).<br/><br/>Step&nbsp;5.&nbsp;The&nbsp;`entry_points`&nbsp;argument&nbsp;defines&nbsp;a&nbsp;console&nbsp;script&nbsp;that&nbsp;can&nbsp;be&nbsp;run&nbsp;from&nbsp;the&nbsp;command&nbsp;line&nbsp;to&nbsp;execute&nbsp;the&nbsp;`py2dataset:main`&nbsp;function&nbsp;from&nbsp;the&nbsp;module.<br/><br/>Step&nbsp;6.&nbsp;Finally,&nbsp;it&nbsp;calls&nbsp;setup()&nbsp;and&nbsp;saves&nbsp;all&nbsp;these&nbsp;attributes&nbsp;to&nbsp;a&nbsp;`setup()`&nbsp;object&nbsp;and&nbsp;passes&nbsp;it&nbsp;as&nbsp;an&nbsp;argument.<br/><br/>There&nbsp;are&nbsp;no&nbsp;other&nbsp;classes&nbsp;or&nbsp;functions&nbsp;defined&nbsp;in&nbsp;this&nbsp;file,&nbsp;as&nbsp;everything&nbsp;is&nbsp;taken&nbsp;care&nbsp;of&nbsp;within&nbsp;the&nbsp;setup()&nbsp;function&nbsp;itself.<br/><br/>1)&nbsp;Function:&nbsp;The&nbsp;only&nbsp;function&nbsp;present&nbsp;in&nbsp;`py2dataset.setup.py`&nbsp;is&nbsp;the&nbsp;`main()`&nbsp;function&nbsp;that&nbsp;executes&nbsp;when&nbsp;running&nbsp;`pip&nbsp;install&nbsp;py2dataset`.&nbsp;This&nbsp;function&nbsp;imports&nbsp;necessary&nbsp;modules&nbsp;and&nbsp;then&nbsp;uses&nbsp;setuptools&nbsp;to&nbsp;create&nbsp;a&nbsp;package&nbsp;with&nbsp;all&nbsp;its&nbsp;dependencies&nbsp;and&nbsp;metadata&nbsp;specified&nbsp;in&nbsp;the&nbsp;setup()&nbsp;function.&nbsp;<br/><br/>2)&nbsp;Inputs:&nbsp;None,&nbsp;as&nbsp;this&nbsp;file&nbsp;is&nbsp;only&nbsp;used&nbsp;for&nbsp;installation&nbsp;purposes.&nbsp;<br/><br/>3)&nbsp;Output:&nbsp;The&nbsp;output&nbsp;of&nbsp;`py2dataset.setup.py`&nbsp;is&nbsp;a&nbsp;Python&nbsp;package&nbsp;that&nbsp;can&nbsp;be&nbsp;installed&nbsp;using&nbsp;pip.&nbsp;This&nbsp;package&nbsp;includes&nbsp;all&nbsp;the&nbsp;necessary&nbsp;dependencies&nbsp;and&nbsp;metadata&nbsp;to&nbsp;create&nbsp;a&nbsp;structured&nbsp;dataset&nbsp;from&nbsp;Python&nbsp;source&nbsp;code.</td></tr>
                </tbody>
            </table>
        </body>
        </html>
        