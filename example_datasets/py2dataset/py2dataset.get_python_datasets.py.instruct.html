
        <html>
        <head>
            <style>
                table {border-collapse: collapse;width: 100%;}
                th, td {border: 1px solid black; padding: 8px; text-align: left; white-space: pre-line;}
                td:nth-child(2) { width: 50%; overflow-wrap: anywhere;}
            </style>
        </head>
        <body>
            <table>
                <thead>
                    <tr>
        <th>instruction</th><th>input</th><th>output</th>
                    </tr>
                </thead>
                <tbody>
        <tr><td>What are the dependencies of the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Parse&nbsp;a&nbsp;Python&nbsp;file&nbsp;along&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;to&nbsp;produce&nbsp;JSON-formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Add&nbsp;the&nbsp;produced&nbsp;question-answer&nbsp;pairs&nbsp;to&nbsp;its&nbsp;`qa_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Append&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;to&nbsp;the&nbsp;`instruct_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;might&nbsp;arise&nbsp;during&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;and&nbsp;provide&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Utilize&nbsp;the&nbsp;`get_model`&nbsp;function&nbsp;to&nbsp;load&nbsp;a&nbsp;specified&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;a&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Deploy&nbsp;the&nbsp;loaded&nbsp;language&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;to&nbsp;the&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;generation&nbsp;of&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Process&nbsp;questions&nbsp;that&nbsp;relate&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j.&nbsp;Generate&nbsp;a&nbsp;response&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable&nbsp;when&nbsp;the&nbsp;question&nbsp;type&nbsp;corresponds&nbsp;to&nbsp;this&nbsp;and&nbsp;`use_llm`&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k.&nbsp;Produce&nbsp;answers&nbsp;for&nbsp;all&nbsp;questions&nbsp;present&nbsp;in&nbsp;the&nbsp;supplied&nbsp;list,&nbsp;appending&nbsp;the&nbsp;responses&nbsp;to&nbsp;both&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l.&nbsp;Utilize&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;cleanse&nbsp;an&nbsp;input&nbsp;string&nbsp;and&nbsp;provide&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.&nbsp;Use&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;generated&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.&nbsp;Obtain&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;by&nbsp;using&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;when&nbsp;`use_llm`&nbsp;is&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o.&nbsp;Handle&nbsp;any&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;response&nbsp;generation&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.&nbsp;Incorporate&nbsp;the&nbsp;file&nbsp;summary&nbsp;into&nbsp;the&nbsp;context&nbsp;for&nbsp;generating&nbsp;the&nbsp;instruction&nbsp;list&nbsp;if&nbsp;the&nbsp;`use_summary`&nbsp;attribute&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Construct&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Invoke&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`&nbsp;produced&nbsp;by&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&quot;&quot;&quot;<br/>import&nbsp;re<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;random<br/>from&nbsp;typing&nbsp;import&nbsp;List,&nbsp;Dict<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;use_llm&nbsp;=&nbsp;false&nbsp;or&nbsp;llm&nbsp;equil&nbsp;to&nbsp;none&nbsp;then&nbsp;set&nbsp;use_llm&nbsp;to&nbsp;false&nbsp;and&nbsp;llm&nbsp;to&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&#x27;{question_type.split(&quot;_&quot;)[0]}_name&#x27;:&nbsp;name,&nbsp;f&#x27;{question_type.split(&quot;_&quot;)[0]}_variables&#x27;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.qa_list,&nbsp;self.instruct_list<br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>logging, sys, os, json, re, typing, random, yaml</td></tr><tr><td>What are the structural relationships between the functions and classes defined in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Parse&nbsp;a&nbsp;Python&nbsp;file&nbsp;along&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;to&nbsp;produce&nbsp;JSON-formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Add&nbsp;the&nbsp;produced&nbsp;question-answer&nbsp;pairs&nbsp;to&nbsp;its&nbsp;`qa_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Append&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;to&nbsp;the&nbsp;`instruct_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;might&nbsp;arise&nbsp;during&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;and&nbsp;provide&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Utilize&nbsp;the&nbsp;`get_model`&nbsp;function&nbsp;to&nbsp;load&nbsp;a&nbsp;specified&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;a&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Deploy&nbsp;the&nbsp;loaded&nbsp;language&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;to&nbsp;the&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;generation&nbsp;of&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Process&nbsp;questions&nbsp;that&nbsp;relate&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j.&nbsp;Generate&nbsp;a&nbsp;response&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable&nbsp;when&nbsp;the&nbsp;question&nbsp;type&nbsp;corresponds&nbsp;to&nbsp;this&nbsp;and&nbsp;`use_llm`&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k.&nbsp;Produce&nbsp;answers&nbsp;for&nbsp;all&nbsp;questions&nbsp;present&nbsp;in&nbsp;the&nbsp;supplied&nbsp;list,&nbsp;appending&nbsp;the&nbsp;responses&nbsp;to&nbsp;both&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l.&nbsp;Utilize&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;cleanse&nbsp;an&nbsp;input&nbsp;string&nbsp;and&nbsp;provide&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.&nbsp;Use&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;generated&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.&nbsp;Obtain&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;by&nbsp;using&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;when&nbsp;`use_llm`&nbsp;is&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o.&nbsp;Handle&nbsp;any&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;response&nbsp;generation&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.&nbsp;Incorporate&nbsp;the&nbsp;file&nbsp;summary&nbsp;into&nbsp;the&nbsp;context&nbsp;for&nbsp;generating&nbsp;the&nbsp;instruction&nbsp;list&nbsp;if&nbsp;the&nbsp;`use_summary`&nbsp;attribute&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Construct&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Invoke&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`&nbsp;produced&nbsp;by&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&quot;&quot;&quot;<br/>import&nbsp;re<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;random<br/>from&nbsp;typing&nbsp;import&nbsp;List,&nbsp;Dict<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;use_llm&nbsp;=&nbsp;false&nbsp;or&nbsp;llm&nbsp;equil&nbsp;to&nbsp;none&nbsp;then&nbsp;set&nbsp;use_llm&nbsp;to&nbsp;false&nbsp;and&nbsp;llm&nbsp;to&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&#x27;{question_type.split(&quot;_&quot;)[0]}_name&#x27;:&nbsp;name,&nbsp;f&#x27;{question_type.split(&quot;_&quot;)[0]}_variables&#x27;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.qa_list,&nbsp;self.instruct_list<br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>{&#x27;nodes&#x27;: [&#x27;DatasetGenerator&#x27;, &#x27;DatasetGenerator.__init__&#x27;, &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;DatasetGenerator.add_to_list&#x27;, &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;DatasetGenerator.process_items&#x27;, &#x27;DatasetGenerator.process_question&#x27;, &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;DatasetGenerator.generate&#x27;, &#x27;get_python_datasets&#x27;], &#x27;edges&#x27;: [{&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.__init__&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;file_path&#x27;, &#x27;file_details&#x27;, &#x27;base_name&#x27;, &#x27;questions&#x27;, &#x27;use_llm&#x27;, &#x27;use_summary&#x27;, &#x27;llm&#x27;, &#x27;prompt&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target_inputs&#x27;: [&#x27;input_str&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27;, &#x27;.join(cleaned_elements)&quot;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.add_to_list&#x27;, &#x27;target_inputs&#x27;: [&#x27;list_to_update&#x27;, &#x27;query&#x27;, &#x27;response&#x27;, &#x27;additional_field&#x27;], &#x27;target_returns&#x27;: [&#x27;list_to_update&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;query&#x27;, &#x27;context&#x27;], &#x27;target_returns&#x27;: [&#x27;response&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;, &#x27;base_name&#x27;, &#x27;name&#x27;, &#x27;info&#x27;, &#x27;context&#x27;, &#x27;item_type&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;query&#x27;, &#x27;context&#x27;, &#x27;info&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.generate&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: [&#x27;(self.qa_list, self.instruct_list)&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target_inputs&#x27;: [&#x27;input_str&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27;, &#x27;.join(cleaned_elements)&quot;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;query&#x27;, &#x27;context&#x27;, &#x27;info&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;query&#x27;, &#x27;context&#x27;], &#x27;target_returns&#x27;: [&#x27;response&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target_inputs&#x27;: [&#x27;input_str&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27;, &#x27;.join(cleaned_elements)&quot;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;, &#x27;base_name&#x27;, &#x27;name&#x27;, &#x27;info&#x27;, &#x27;context&#x27;, &#x27;item_type&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;query&#x27;, &#x27;context&#x27;, &#x27;info&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator.generate&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;get_python_datasets&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;file_path&#x27;, &#x27;file_details&#x27;, &#x27;base_name&#x27;, &#x27;questions&#x27;, &#x27;use_llm&#x27;, &#x27;use_summary&#x27;, &#x27;llm&#x27;, &#x27;prompt&#x27;], &#x27;target_returns&#x27;: []}]}</td></tr><tr><td>What are the structural relationships between the functions and classes defined and used in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Parse&nbsp;a&nbsp;Python&nbsp;file&nbsp;along&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;to&nbsp;produce&nbsp;JSON-formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Add&nbsp;the&nbsp;produced&nbsp;question-answer&nbsp;pairs&nbsp;to&nbsp;its&nbsp;`qa_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Append&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;to&nbsp;the&nbsp;`instruct_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;might&nbsp;arise&nbsp;during&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;and&nbsp;provide&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Utilize&nbsp;the&nbsp;`get_model`&nbsp;function&nbsp;to&nbsp;load&nbsp;a&nbsp;specified&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;a&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Deploy&nbsp;the&nbsp;loaded&nbsp;language&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;to&nbsp;the&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;generation&nbsp;of&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Process&nbsp;questions&nbsp;that&nbsp;relate&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j.&nbsp;Generate&nbsp;a&nbsp;response&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable&nbsp;when&nbsp;the&nbsp;question&nbsp;type&nbsp;corresponds&nbsp;to&nbsp;this&nbsp;and&nbsp;`use_llm`&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k.&nbsp;Produce&nbsp;answers&nbsp;for&nbsp;all&nbsp;questions&nbsp;present&nbsp;in&nbsp;the&nbsp;supplied&nbsp;list,&nbsp;appending&nbsp;the&nbsp;responses&nbsp;to&nbsp;both&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l.&nbsp;Utilize&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;cleanse&nbsp;an&nbsp;input&nbsp;string&nbsp;and&nbsp;provide&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.&nbsp;Use&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;generated&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.&nbsp;Obtain&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;by&nbsp;using&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;when&nbsp;`use_llm`&nbsp;is&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o.&nbsp;Handle&nbsp;any&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;response&nbsp;generation&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.&nbsp;Incorporate&nbsp;the&nbsp;file&nbsp;summary&nbsp;into&nbsp;the&nbsp;context&nbsp;for&nbsp;generating&nbsp;the&nbsp;instruction&nbsp;list&nbsp;if&nbsp;the&nbsp;`use_summary`&nbsp;attribute&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Construct&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Invoke&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`&nbsp;produced&nbsp;by&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&quot;&quot;&quot;<br/>import&nbsp;re<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;random<br/>from&nbsp;typing&nbsp;import&nbsp;List,&nbsp;Dict<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;use_llm&nbsp;=&nbsp;false&nbsp;or&nbsp;llm&nbsp;equil&nbsp;to&nbsp;none&nbsp;then&nbsp;set&nbsp;use_llm&nbsp;to&nbsp;false&nbsp;and&nbsp;llm&nbsp;to&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&#x27;{question_type.split(&quot;_&quot;)[0]}_name&#x27;:&nbsp;name,&nbsp;f&#x27;{question_type.split(&quot;_&quot;)[0]}_variables&#x27;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.qa_list,&nbsp;self.instruct_list<br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>{&#x27;nodes&#x27;: [&#x27;DatasetGenerator&#x27;, &#x27;DatasetGenerator.__init__&#x27;, &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;DatasetGenerator.add_to_list&#x27;, &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;DatasetGenerator.process_items&#x27;, &#x27;DatasetGenerator.process_question&#x27;, &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;DatasetGenerator.generate&#x27;, &#x27;get_python_datasets&#x27;, &#x27;generator.generate&#x27;, &#x27;set&#x27;, &#x27;re.sub&#x27;, &quot;re.sub(&#x27;\\\\s+&#x27;, &#x27; &#x27;, input_str).split&quot;, &#x27;element.strip&#x27;, &quot;&#x27;, &#x27;.join&quot;, &#x27;response.strip&#x27;, &#x27;list_to_update.append&#x27;, &#x27;self.prompt.format&#x27;, &#x27;logging.info&#x27;, &#x27;self.llm&#x27;, &#x27;logger.error&#x27;, &#x27;item.strip&#x27;, &#x27;question_text.format&#x27;, &#x27;str&#x27;, &#x27;question_type.split&#x27;, &#x27;self.clean_and_get_unique_elements(str(info[item_type])).split&#x27;, &#x27;self.qa_list.append&#x27;, &#x27;response_str.strip&#x27;, &#x27;self.instruct_list.append&#x27;, &#x27;question_id.endswith&#x27;, &#x27;info.get&#x27;, &quot;self.file_details[&#x27;classes&#x27;].items&quot;, &#x27;key.startswith&#x27;, &#x27;len&#x27;, &#x27;self.file_details[self.question_mapping[question_type]].items&#x27;, &#x27;class_info.items&#x27;], &#x27;edges&#x27;: [{&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.__init__&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;file_path&#x27;, &#x27;file_details&#x27;, &#x27;base_name&#x27;, &#x27;questions&#x27;, &#x27;use_llm&#x27;, &#x27;use_summary&#x27;, &#x27;llm&#x27;, &#x27;prompt&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target_inputs&#x27;: [&#x27;input_str&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27;, &#x27;.join(cleaned_elements)&quot;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.add_to_list&#x27;, &#x27;target_inputs&#x27;: [&#x27;list_to_update&#x27;, &#x27;query&#x27;, &#x27;response&#x27;, &#x27;additional_field&#x27;], &#x27;target_returns&#x27;: [&#x27;list_to_update&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;query&#x27;, &#x27;context&#x27;], &#x27;target_returns&#x27;: [&#x27;response&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;, &#x27;base_name&#x27;, &#x27;name&#x27;, &#x27;info&#x27;, &#x27;context&#x27;, &#x27;item_type&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;query&#x27;, &#x27;context&#x27;, &#x27;info&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.generate&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;], &#x27;target_returns&#x27;: [&#x27;(self.qa_list, self.instruct_list)&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target&#x27;: &#x27;set&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target&#x27;: &#x27;re.sub&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target&#x27;: &quot;re.sub(&#x27;\\\\s+&#x27;, &#x27; &#x27;, input_str).split&quot;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target&#x27;: &#x27;element.strip&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target&#x27;: &quot;&#x27;, &#x27;.join&quot;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.add_to_list&#x27;, &#x27;target&#x27;: &#x27;response.strip&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.add_to_list&#x27;, &#x27;target&#x27;: &#x27;list_to_update.append&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target&#x27;: &#x27;self.prompt.format&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target&#x27;: &#x27;logging.info&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target&#x27;: &#x27;self.llm&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target&#x27;: &#x27;logger.error&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;item.strip&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;question_text.format&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;str&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;question_type.split&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;self.clean_and_get_unique_elements(str(info[item_type])).split&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target_inputs&#x27;: [&#x27;input_str&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27;, &#x27;.join(cleaned_elements)&quot;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;query&#x27;, &#x27;context&#x27;, &#x27;info&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target&#x27;: &quot;&#x27;, &#x27;.join&quot;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.get_response_from_llm&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;query&#x27;, &#x27;context&#x27;], &#x27;target_returns&#x27;: [&#x27;response&#x27;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;self.qa_list.append&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;str&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;response_str.strip&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;self.instruct_list.append&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;question_id.endswith&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;info.get&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.clean_and_get_unique_elements&#x27;, &#x27;target_inputs&#x27;: [&#x27;input_str&#x27;], &#x27;target_returns&#x27;: [&quot;&#x27;, &#x27;.join(cleaned_elements)&quot;]}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;question_text.format&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &quot;self.file_details[&#x27;classes&#x27;].items&quot;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;key.startswith&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;len&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;self.file_details[self.question_mapping[question_type]].items&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_items&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;, &#x27;base_name&#x27;, &#x27;name&#x27;, &#x27;info&#x27;, &#x27;context&#x27;, &#x27;item_type&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;query&#x27;, &#x27;context&#x27;, &#x27;info&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target&#x27;: &#x27;class_info.items&#x27;}, {&#x27;source&#x27;: &#x27;DatasetGenerator.generate&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator.process_question_type&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;question_type&#x27;, &#x27;question_id&#x27;, &#x27;question_text&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;get_python_datasets&#x27;, &#x27;target&#x27;: &#x27;DatasetGenerator&#x27;, &#x27;target_inputs&#x27;: [&#x27;self&#x27;, &#x27;file_path&#x27;, &#x27;file_details&#x27;, &#x27;base_name&#x27;, &#x27;questions&#x27;, &#x27;use_llm&#x27;, &#x27;use_summary&#x27;, &#x27;llm&#x27;, &#x27;prompt&#x27;], &#x27;target_returns&#x27;: []}, {&#x27;source&#x27;: &#x27;get_python_datasets&#x27;, &#x27;target&#x27;: &#x27;generator.generate&#x27;}]}</td></tr><tr><td>What functions are defined in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Parse&nbsp;a&nbsp;Python&nbsp;file&nbsp;along&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;to&nbsp;produce&nbsp;JSON-formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Add&nbsp;the&nbsp;produced&nbsp;question-answer&nbsp;pairs&nbsp;to&nbsp;its&nbsp;`qa_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Append&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;to&nbsp;the&nbsp;`instruct_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;might&nbsp;arise&nbsp;during&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;and&nbsp;provide&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Utilize&nbsp;the&nbsp;`get_model`&nbsp;function&nbsp;to&nbsp;load&nbsp;a&nbsp;specified&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;a&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Deploy&nbsp;the&nbsp;loaded&nbsp;language&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;to&nbsp;the&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;generation&nbsp;of&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Process&nbsp;questions&nbsp;that&nbsp;relate&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j.&nbsp;Generate&nbsp;a&nbsp;response&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable&nbsp;when&nbsp;the&nbsp;question&nbsp;type&nbsp;corresponds&nbsp;to&nbsp;this&nbsp;and&nbsp;`use_llm`&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k.&nbsp;Produce&nbsp;answers&nbsp;for&nbsp;all&nbsp;questions&nbsp;present&nbsp;in&nbsp;the&nbsp;supplied&nbsp;list,&nbsp;appending&nbsp;the&nbsp;responses&nbsp;to&nbsp;both&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l.&nbsp;Utilize&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;cleanse&nbsp;an&nbsp;input&nbsp;string&nbsp;and&nbsp;provide&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.&nbsp;Use&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;generated&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.&nbsp;Obtain&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;by&nbsp;using&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;when&nbsp;`use_llm`&nbsp;is&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o.&nbsp;Handle&nbsp;any&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;response&nbsp;generation&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.&nbsp;Incorporate&nbsp;the&nbsp;file&nbsp;summary&nbsp;into&nbsp;the&nbsp;context&nbsp;for&nbsp;generating&nbsp;the&nbsp;instruction&nbsp;list&nbsp;if&nbsp;the&nbsp;`use_summary`&nbsp;attribute&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Construct&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Invoke&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`&nbsp;produced&nbsp;by&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&quot;&quot;&quot;<br/>import&nbsp;re<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;random<br/>from&nbsp;typing&nbsp;import&nbsp;List,&nbsp;Dict<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;use_llm&nbsp;=&nbsp;false&nbsp;or&nbsp;llm&nbsp;equil&nbsp;to&nbsp;none&nbsp;then&nbsp;set&nbsp;use_llm&nbsp;to&nbsp;false&nbsp;and&nbsp;llm&nbsp;to&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&#x27;{question_type.split(&quot;_&quot;)[0]}_name&#x27;:&nbsp;name,&nbsp;f&#x27;{question_type.split(&quot;_&quot;)[0]}_variables&#x27;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.qa_list,&nbsp;self.instruct_list<br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>get_python_datasets</td></tr><tr><td>What classes are defined in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Parse&nbsp;a&nbsp;Python&nbsp;file&nbsp;along&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;to&nbsp;produce&nbsp;JSON-formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Add&nbsp;the&nbsp;produced&nbsp;question-answer&nbsp;pairs&nbsp;to&nbsp;its&nbsp;`qa_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Append&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;to&nbsp;the&nbsp;`instruct_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;might&nbsp;arise&nbsp;during&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;and&nbsp;provide&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Utilize&nbsp;the&nbsp;`get_model`&nbsp;function&nbsp;to&nbsp;load&nbsp;a&nbsp;specified&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;a&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Deploy&nbsp;the&nbsp;loaded&nbsp;language&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;to&nbsp;the&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;generation&nbsp;of&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Process&nbsp;questions&nbsp;that&nbsp;relate&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j.&nbsp;Generate&nbsp;a&nbsp;response&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable&nbsp;when&nbsp;the&nbsp;question&nbsp;type&nbsp;corresponds&nbsp;to&nbsp;this&nbsp;and&nbsp;`use_llm`&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k.&nbsp;Produce&nbsp;answers&nbsp;for&nbsp;all&nbsp;questions&nbsp;present&nbsp;in&nbsp;the&nbsp;supplied&nbsp;list,&nbsp;appending&nbsp;the&nbsp;responses&nbsp;to&nbsp;both&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l.&nbsp;Utilize&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;cleanse&nbsp;an&nbsp;input&nbsp;string&nbsp;and&nbsp;provide&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.&nbsp;Use&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;generated&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.&nbsp;Obtain&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;by&nbsp;using&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;when&nbsp;`use_llm`&nbsp;is&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o.&nbsp;Handle&nbsp;any&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;response&nbsp;generation&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.&nbsp;Incorporate&nbsp;the&nbsp;file&nbsp;summary&nbsp;into&nbsp;the&nbsp;context&nbsp;for&nbsp;generating&nbsp;the&nbsp;instruction&nbsp;list&nbsp;if&nbsp;the&nbsp;`use_summary`&nbsp;attribute&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Construct&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Invoke&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`&nbsp;produced&nbsp;by&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&quot;&quot;&quot;<br/>import&nbsp;re<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;random<br/>from&nbsp;typing&nbsp;import&nbsp;List,&nbsp;Dict<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;use_llm&nbsp;=&nbsp;false&nbsp;or&nbsp;llm&nbsp;equil&nbsp;to&nbsp;none&nbsp;then&nbsp;set&nbsp;use_llm&nbsp;to&nbsp;false&nbsp;and&nbsp;llm&nbsp;to&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&#x27;{question_type.split(&quot;_&quot;)[0]}_name&#x27;:&nbsp;name,&nbsp;f&#x27;{question_type.split(&quot;_&quot;)[0]}_variables&#x27;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.qa_list,&nbsp;self.instruct_list<br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>DatasetGenerator</td></tr><tr><td>What is the control flow of the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Parse&nbsp;a&nbsp;Python&nbsp;file&nbsp;along&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;to&nbsp;produce&nbsp;JSON-formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Add&nbsp;the&nbsp;produced&nbsp;question-answer&nbsp;pairs&nbsp;to&nbsp;its&nbsp;`qa_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Append&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;to&nbsp;the&nbsp;`instruct_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;might&nbsp;arise&nbsp;during&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;and&nbsp;provide&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Utilize&nbsp;the&nbsp;`get_model`&nbsp;function&nbsp;to&nbsp;load&nbsp;a&nbsp;specified&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;a&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Deploy&nbsp;the&nbsp;loaded&nbsp;language&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;to&nbsp;the&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;generation&nbsp;of&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Process&nbsp;questions&nbsp;that&nbsp;relate&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j.&nbsp;Generate&nbsp;a&nbsp;response&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable&nbsp;when&nbsp;the&nbsp;question&nbsp;type&nbsp;corresponds&nbsp;to&nbsp;this&nbsp;and&nbsp;`use_llm`&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k.&nbsp;Produce&nbsp;answers&nbsp;for&nbsp;all&nbsp;questions&nbsp;present&nbsp;in&nbsp;the&nbsp;supplied&nbsp;list,&nbsp;appending&nbsp;the&nbsp;responses&nbsp;to&nbsp;both&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l.&nbsp;Utilize&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;cleanse&nbsp;an&nbsp;input&nbsp;string&nbsp;and&nbsp;provide&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.&nbsp;Use&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;generated&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.&nbsp;Obtain&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;by&nbsp;using&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;when&nbsp;`use_llm`&nbsp;is&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o.&nbsp;Handle&nbsp;any&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;response&nbsp;generation&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.&nbsp;Incorporate&nbsp;the&nbsp;file&nbsp;summary&nbsp;into&nbsp;the&nbsp;context&nbsp;for&nbsp;generating&nbsp;the&nbsp;instruction&nbsp;list&nbsp;if&nbsp;the&nbsp;`use_summary`&nbsp;attribute&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Construct&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Invoke&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`&nbsp;produced&nbsp;by&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&quot;&quot;&quot;<br/>import&nbsp;re<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;random<br/>from&nbsp;typing&nbsp;import&nbsp;List,&nbsp;Dict<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;use_llm&nbsp;=&nbsp;false&nbsp;or&nbsp;llm&nbsp;equil&nbsp;to&nbsp;none&nbsp;then&nbsp;set&nbsp;use_llm&nbsp;to&nbsp;false&nbsp;and&nbsp;llm&nbsp;to&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&#x27;{question_type.split(&quot;_&quot;)[0]}_name&#x27;:&nbsp;name,&nbsp;f&#x27;{question_type.split(&quot;_&quot;)[0]}_variables&#x27;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.qa_list,&nbsp;self.instruct_list<br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>module -&gt; class -&gt; def __init__ -&gt; if -&gt; def clean_and_get_unique_elements -&gt; def add_to_list -&gt; if -&gt; def get_response_from_llm -&gt; if -&gt; try -&gt; except -&gt; def process_items -&gt; if -&gt; def process_question -&gt; if -&gt; if -&gt; if -&gt; if -&gt; def process_question_type -&gt; if -&gt; if -&gt; for -&gt; for -&gt; if -&gt; for -&gt; if -&gt; if -&gt; def generate -&gt; for -&gt; def get_python_datasets</td></tr><tr><td>What are the inputs to the function: &#x27;get_python_datasets&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>use_llm, file_path, prompt, base_name, llm, file_details, use_summary, questions</td></tr><tr><td>What is the docstring of the function: &#x27;get_python_datasets&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>ListDict: Extracted information in JSON format., Extract information from a Python file and return it in JSON format. Args: file_path str: The path to the Python file. file_details Dict: The details of the file. base_name str: The base name. questions ListDict: The list of questions. use_llm bool: Whether to use the language model. user_config dict: User-provided model configurations. Returns: TupleListDict</td></tr><tr><td>What calls are made in the function: &#x27;get_python_datasets&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>DatasetGenerator, generator.generate</td></tr><tr><td>What variables are defined in the function: &#x27;get_python_datasets&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator</td></tr><tr><td>What are the returned items from the function: &#x27;get_python_datasets&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>generator.generate</td></tr><tr><td>What are the methods defined within the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>get_response_from_llm, process_items, generate, add_to_list, process_question, clean_and_get_unique_elements, process_question_type</td></tr><tr><td>What is the docstring of the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>response: str, variable_type: str -&gt; None: Processes questions related to the purpose of a variable. process_questionquestion_id: str, question_text: str -&gt; None: Processes questions related to a function or class. generate -&gt; TupleListDict, info -&gt; None: Processes a question and adds the generated response to the qa_list and instruct_list. process_file_questionquestion_id: str, additional_fieldNone -&gt; ListDict: Adds a response to a list. get_response_from_llmquery: str, context: str, question_text: str -&gt; None: Processes questions related to a file. process_func_class_questionquestion_type: str, query: str, name: str, ListDict: Generates responses for all the questions and returns the qa_list and instruct_list., info: Dict, context: str -&gt; str: Gets a response from the language model. get_variable_purposequestion_id: str, base_name: str, A class used to generate JSON formatted dictionary outputs for a Python file. Attributes: file_path str: The path to the Python file. file_details Dict: A dictionary containing details of the Python file. base_name str: The base name of the Python file. questions List: A list of questions for which responses are to be generated. qa_list List: A list to store the generated question-answer pairs. instruct_list List: A list to store the generated instructions. question_mapping Dict: A dictionary mapping question types to their corresponding keys in the file details. use_llm bool: A flag indicating whether to use a language model for generating responses. llm AutoModelForCausalLM: The language model to be used for generating responses. Methods: clean_and_get_unique_elementsinput_str: str -&gt; str: Cleans an input string and returns a string of unique elements. add_to_listlist_to_update: ListDict, question_text: str, question_id: str</td></tr><tr><td>What are the attributes of the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>use_llm, file_path, prompt, base_name, instruct_list, llm, file_details, use_summary, qa_list, questions, question_mapping</td></tr><tr><td>What variables are defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>response, question_id, prompt, query, info, itemstring, question_type, cleaned_elements, response_str, context, mapping, items, question_text, method_name</td></tr><tr><td>What are the inputs to method: &#x27;__init__&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary</td><td>use_llm, file_path, prompt, base_name, llm, file_details, use_summary, questions, self</td></tr><tr><td>What are the inputs to method: &#x27;clean_and_get_unique_elements&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>input_str</td></tr><tr><td>What are the inputs to method: &#x27;add_to_list&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>query, response, additional_field, list_to_update</td></tr><tr><td>What are the inputs to method: &#x27;get_response_from_llm&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>query, self, context</td></tr><tr><td>What are the inputs to method: &#x27;process_items&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>question_id, item_type, info, base_name, question_type, name, self, question_text, context</td></tr><tr><td>What are the inputs to method: &#x27;process_question&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>question_id, query, info, question_type, self, context</td></tr><tr><td>What are the inputs to method: &#x27;process_question_type&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>question_type, question_id, self, question_text</td></tr><tr><td>What are the inputs to method: &#x27;generate&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>self</td></tr><tr><td>What calls are made in the method: &#x27;clean_and_get_unique_elements&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>, input_str.split, re.subs, set, re.sub,  , .join, element.strip</td></tr><tr><td>What calls are made in the method: &#x27;add_to_list&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>response.strip, list_to_update.append</td></tr><tr><td>What calls are made in the method: &#x27;get_response_from_llm&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>self.prompt.format, logging.info, self.llm, logger.error</td></tr><tr><td>What calls are made in the method: &#x27;process_items&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>, item.strip, question_text.format, str, question_type.split, self.clean_and_get_unique_elementsstrinfoitem_type.split, .join, self.clean_and_get_unique_elements, self.process_question</td></tr><tr><td>What calls are made in the method: &#x27;process_question&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>self.get_response_from_llm, self.qa_list.append, str, response_str.strip, self.instruct_list.append, question_id.endswith, info.get, self.clean_and_get_unique_elements</td></tr><tr><td>What calls are made in the method: &#x27;process_question_type&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>question_text.format, key.startswith, self.file_detailsself.question_mappingquestion_type.items, len, self.file_detailsclasses.items, class_info.items, self.process_question, self.process_items</td></tr><tr><td>What calls are made in the method: &#x27;generate&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>self.process_question_type</td></tr><tr><td>What are the returns from the method: &#x27;clean_and_get_unique_elements&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>, .joincleaned_elements</td></tr><tr><td>What are the returns from the method: &#x27;add_to_list&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>list_to_update</td></tr><tr><td>What are the returns from the method: &#x27;get_response_from_llm&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>response</td></tr><tr><td>What are the returns from the method: &#x27;generate&#x27; in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>self.qa_list, self.instruct_list</td></tr><tr><td>What is the purpose and processing summary of the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Generates&nbsp;JSON&nbsp;format&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions&nbsp;for&nbsp;a&nbsp;Python&nbsp;file<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;`DatasetGenerator`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Parse&nbsp;a&nbsp;Python&nbsp;file&nbsp;along&nbsp;with&nbsp;a&nbsp;list&nbsp;of&nbsp;questions&nbsp;to&nbsp;produce&nbsp;JSON-formatted&nbsp;question-answer&nbsp;pairs&nbsp;and&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Add&nbsp;the&nbsp;produced&nbsp;question-answer&nbsp;pairs&nbsp;to&nbsp;its&nbsp;`qa_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Append&nbsp;the&nbsp;generated&nbsp;instructions&nbsp;to&nbsp;the&nbsp;`instruct_list`&nbsp;attribute.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;might&nbsp;arise&nbsp;during&nbsp;the&nbsp;loading&nbsp;of&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Use&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;to&nbsp;generate&nbsp;and&nbsp;provide&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Utilize&nbsp;the&nbsp;`get_model`&nbsp;function&nbsp;to&nbsp;load&nbsp;a&nbsp;specified&nbsp;language&nbsp;model&nbsp;based&nbsp;on&nbsp;a&nbsp;configuration&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Deploy&nbsp;the&nbsp;loaded&nbsp;language&nbsp;model&nbsp;to&nbsp;generate&nbsp;answers&nbsp;to&nbsp;the&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Handle&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;generation&nbsp;of&nbsp;answers.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;i.&nbsp;Process&nbsp;questions&nbsp;that&nbsp;relate&nbsp;to&nbsp;a&nbsp;file,&nbsp;function,&nbsp;class,&nbsp;or&nbsp;method.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;j.&nbsp;Generate&nbsp;a&nbsp;response&nbsp;for&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable&nbsp;when&nbsp;the&nbsp;question&nbsp;type&nbsp;corresponds&nbsp;to&nbsp;this&nbsp;and&nbsp;`use_llm`&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;k.&nbsp;Produce&nbsp;answers&nbsp;for&nbsp;all&nbsp;questions&nbsp;present&nbsp;in&nbsp;the&nbsp;supplied&nbsp;list,&nbsp;appending&nbsp;the&nbsp;responses&nbsp;to&nbsp;both&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;l.&nbsp;Utilize&nbsp;the&nbsp;`clean_and_get_unique_elements`&nbsp;method&nbsp;to&nbsp;cleanse&nbsp;an&nbsp;input&nbsp;string&nbsp;and&nbsp;provide&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;m.&nbsp;Use&nbsp;the&nbsp;`add_to_list`&nbsp;method&nbsp;to&nbsp;add&nbsp;a&nbsp;generated&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;n.&nbsp;Obtain&nbsp;a&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model&nbsp;by&nbsp;using&nbsp;the&nbsp;`get_response_from_llm`&nbsp;method&nbsp;when&nbsp;`use_llm`&nbsp;is&nbsp;True.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;o.&nbsp;Handle&nbsp;any&nbsp;exceptions&nbsp;that&nbsp;may&nbsp;arise&nbsp;during&nbsp;the&nbsp;response&nbsp;generation&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;p.&nbsp;Incorporate&nbsp;the&nbsp;file&nbsp;summary&nbsp;into&nbsp;the&nbsp;context&nbsp;for&nbsp;generating&nbsp;the&nbsp;instruction&nbsp;list&nbsp;if&nbsp;the&nbsp;`use_summary`&nbsp;attribute&nbsp;is&nbsp;set&nbsp;to&nbsp;True.<br/>[req02]&nbsp;The&nbsp;`get_python_datasets`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Construct&nbsp;an&nbsp;instance&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Invoke&nbsp;the&nbsp;`generate`&nbsp;method&nbsp;of&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;`qa_list`&nbsp;and&nbsp;`instruct_list`&nbsp;produced&nbsp;by&nbsp;the&nbsp;`DatasetGenerator`&nbsp;instance.<br/>&quot;&quot;&quot;<br/>import&nbsp;re<br/>import&nbsp;os<br/>import&nbsp;sys<br/>import&nbsp;json<br/>import&nbsp;logging<br/>import&nbsp;yaml<br/>import&nbsp;random<br/>from&nbsp;typing&nbsp;import&nbsp;List,&nbsp;Dict<br/><br/>#&nbsp;Set&nbsp;up&nbsp;logging<br/>logging.basicConfig(<br/>&nbsp;&nbsp;&nbsp;&nbsp;format=&#x27;%(asctime)s&nbsp;-&nbsp;%(levelname)s&nbsp;-&nbsp;%(message)s&#x27;,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;level=logging.INFO)<br/>logger&nbsp;=&nbsp;logging.getLogger(__name__)<br/><br/>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;if&nbsp;use_llm&nbsp;=&nbsp;false&nbsp;or&nbsp;llm&nbsp;equil&nbsp;to&nbsp;none&nbsp;then&nbsp;set&nbsp;use_llm&nbsp;to&nbsp;false&nbsp;and&nbsp;llm&nbsp;to&nbsp;none<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set(re.sub(r&#x27;[^\w\-_&gt;\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(r&#x27;\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;&nbsp;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;additional_field&nbsp;else<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&#x27;{question_type.split(&quot;_&quot;)[0]}_name&#x27;:&nbsp;name,&nbsp;f&#x27;{question_type.split(&quot;_&quot;)[0]}_variables&#x27;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;self.qa_list,&nbsp;self.instruct_list<br/><br/>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()<br/></td><td>The &quot;purpose&quot; in terms of generating a dataset from a python script involves extracting relevant information, such as functions or classes defined within it. The generated data will be used to train a language model (LLM) and assist developers while writing code for various purposes. <br/><br/>When processing the questions, the function &#x27;get_python_datasets&#x27; is called with an instance of DatasetGenerator class, which generates question-answer pairs from the script file. Each pair consists of a query string and its corresponding answer or response. The purpose of a variable in these generated queries depends on whether the use_llm flag is set to True (indicating the need for generating language model responses) and the type of information being processed, i.e., class name, function name etc.<br/><br/>The &#x27;generate&#x27; method within DatasetGenerator handles all questions related to this python file. The main purpose of each question is to provide a specific piece of data from the script (such as functions or classes defined), which will be used for training and refining the language model. <br/><br/>To summarize, the function &#x27;get_python_datasets&#x27; accepts a Python script file path, relevant information about it like class names, method details etc., and a list of questions to generate dataset from these questions. It returns two lists, one consisting of question-answer pairs for training purposes and another consisting of instructions regarding how each query should be handled by the LLM (if use_llm is set as True).</td></tr><tr><td>What is the purpose and processing summary of the function: &#x27;get_python_datasets&#x27; defined in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>The context given includes a Python code snippet, which defines a function named `get_python_datasets`. <br/><br/>Let&#x27;s break down what each part of this function does and how it is used.<br/><br/>1. **Function Definition**: &#x27;def get_python_datasets(file_path: str, file_details: Dict, base_name: str, questions: List[Dict], llm, prompt, use_llm: bool, use_summary: bool) -&gt; tuple[List[Dict], List[Dict]]:&#x27;<br/><br/>   This is the function signature that defines what parameters will be passed into this function. The function takes in a variety of inputs including `file_path`, `file_details`, `base_name`, and `questions`. It also has two boolean variables, &#x27;use_llm&#x27; and &#x27;use_summary&#x27;, which are used to control whether language model is utilized (LLM) or summary is generated.<br/><br/>2. **Docstring**: The function then moves onto the next line after the signature. This is a multi-line string that describes what this function does, along with its parameters and return types.<br/><br/>   &#x27;&quot;&quot;&quot;<br/>    Extract information from a Python file and return it in JSON format.<br/>   &#x27;&#x27;&#x27;<br/><br/>3. **Function Body**: From here on out, we have the actual code within the function body where actions are taken based on these inputs. The function is used to extract data from a Python file and prepare it for training or testing purposes.<br/><br/>   &#x27;    generator = DatasetGenerator(file_path, file_details, base_name, questions, use_llm, use_summary, llm, prompt)&#x27;<br/>  <br/>   This line creates an instance of the `DatasetGenerator` class with these parameters. We are assuming that this is a custom data structure or object created by someone else for handling Python dataset generation tasks.<br/><br/>4. **Return Statement**: After creating the generator and performing some actions within it, we then have:<br/><br/>   &#x27;    return generator.generate()&#x27;<br/>  <br/>   This returns an output tuple containing two lists of dictionaries which represent JSON-like objects that contain data from our input file. These are returned as outputs by the function.<br/><br/>So, based on these parts together with additional context and understanding, let&#x27;s summarize what this Python code does:<br/><br/>The `get_python_datasets` function is a utility function used to extract relevant information about a Python dataset (e.g., its name, its file path, etc.) from a provided Python script file. This data can then be utilized by other components of the system for training or testing purposes. <br/><br/>It takes in several parameters including `file_path`, `file_details`, and `questions` which are used to identify details about the dataset within the given Python script, as well as any relevant questions that may apply to this specific file. The function then uses a language model (LLM) if &#x27;use_llm&#x27; is set to True or generates summary data based on &#x27;prompt&#x27;, if &#x27;use_summary&#x27; is set to True.<br/><br/>The function returns two lists of dictionaries, each representing JSON-like objects that contain information about the dataset identified from the given Python script file and any relevant questions. These are intended for use by downstream systems such as a language model or another AI system.</td></tr><tr><td>What is the purpose and processing summary of the class: &#x27;DatasetGenerator&#x27; defined in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>The class &#x27;DatasetGenerator&#x27; is used to generate JSON-formatted dictionary outputs for a Python script. Here are some reasons why this can be helpful:<br/><br/>1. **Purpose:** The DatasetGenerator class is designed to fetch data from the provided python file, in order to convert it into pandas DataFrame objects that could then be easily stored or manipulated using other tools and libraries like Excel, SQL databases etc. Its primary purpose is not only for generating a dataset but also to automate repetitive tasks such as fetching data, cleaning it, and formatting it efficiently.<br/><br/>2. **Processing Summary:** The class processes the provided Python file by first importing all necessary modules and then extracting functions or classes that match certain conditions specified in its attributes (such as base name, filename etc.). For each function/class found, relevant information is gathered such as variables used inside these functions/classes, arguments passed to those functions/classes, and return types of the respective functions. The processed data is stored in a JSON-formatted dictionary that can be easily accessed for further processing or storage purposes.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;__init__&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary</td><td>The `__init__` method, also known as a constructor or an initializer in object-oriented programming languages like Python, is a special method used to initialize objects of a certain class when they are first created. The purpose of the `DatasetGenerator` class and its role in generating datasets from python files can be understood by examining its signature:<br/><br/>```python<br/>def __init__(self, file_path: str, file_details: Dict, base_name: str, questions: List[Dict], use_llm: bool, use_summary: bool, llm=None, prompt=&#x27;&#x27;):<br/>```<br/><br/>Here&#x27;s a breakdown of each argument:<br/>- `file_path` is the path to the Python file that contains the dataset.<br/>- `file_details` is metadata about the original file (e.g., its size and author).<br/>- `base_name` is a filename without extension which will be used as prefix for all generated files.<br/>- `questions` are details of what type to generate in each part of the dataset, such as functions or classes.<br/>- `use_llm` is a boolean flag that specifies if language model based generation should be performed. If it&#x27;s False, no LLM will be used and only regular rules based generations will occur. <br/>- `use_summary` is also a boolean flag that controls whether summarization of the generated code should be done or not. For large outputs from this function, summary can help in reducing the size of data to be processed by other systems/people.<br/>- The default value for `llm=None` indicates no LLM instance will be provided and it is up to the caller to provide one if necessary (which usually would be when using language model based code generation). <br/>- Finally, `prompt` is a string that can contain instructions or other details about how to generate specific pieces of code. <br/><br/>The purpose of this `__init__` function is to initialize all necessary attributes and configurations for the class. The actual processing of generating data from these arguments will be handled by another method within the same Python file, so there&#x27;s no need to summarize that part of the code.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;clean_and_get_unique_elements&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)</td><td>The `clean_and_get_unique_elements` function is a static method in Python, which means it does not rely on any instance of the class to operate and can be called without creating an object of that class. This function takes one argument &#x27;input_str&#x27;, defines four variables (cleaned_elements, re, set, join), processes the input string by removing all non-alphanumeric characters using regular expressions, splits it into a list at every &#x27;,&#x27; character, removes duplicate elements from the list using sets, and finally joins these unique elements back together with a &#x27;, &#x27; separator.<br/><br/>The function returns this processed, cleaned up and combined string of unique elements. The main purpose is to process a user input containing various Python package names (which may contain special characters like &#x27;-&#x27;, &#x27;_&#x27;, &#x27;&gt;&#x27;, &#x27;&lt;&#x27;, etc.), clean them by removing any irrelevant or unnecessary characters, convert it into a set to eliminate duplicate values, and finally return these unique package names as a single string separated by &#x27;, &#x27;.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;add_to_list&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>@staticmethod<br/>def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update</td><td>The `add_to_list` function is a static method inside the class `DatasetGenerator`. This means that this function can be called without creating an instance of the class and its attributes, unlike regular instance methods or class methods which need to be associated with either a Class object or an Instance object.<br/><br/>Here&#x27;s what it does:<br/>- It takes three parameters: <br/>    - list_to_update (List[Dict]): A List of dictionaries where each dictionary represents one data point in the dataset<br/>    - query (str): The question asked for generating the python code<br/>    - response (str): The solution provided by the user to generate the python code.<br/>- It then checks if there is a value in the `response` parameter, and also makes sure that it&#x27;s not &#x27;None&#x27;. If everything checks out, it appends an updated dictionary containing either the query and answer or instruction and input/output pairs to the list_to_update.<br/>- Finally, it returns the modified list of dictionaries. <br/><br/>This function is used in the class `DatasetGenerator` for populating a python dataset that&#x27;s ready to be trained by AI models. It&#x27;s designed to handle scenarios where users are asked to provide solutions (i.e., &#x27;response&#x27; parameter) and also scenarios when no solution was provided (&#x27;None&#x27;). In both cases, it appends relevant information about the query and response into a dictionary which is then added to a list of dictionaries representing the dataset.<br/><br/>Overall, this function serves as an important part in building up a python dataset for training AI models, but it&#x27;s also quite simple in terms of processing, meaning that it doesn&#x27;t have any complex operations or loops within itself. Its role and function are straightforward and limited, which makes it easier to understand and maintain.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;get_response_from_llm&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response</td><td>The &#x27;get_response_from_llm&#x27; function, as part of a language model (LLM) training process, is primarily responsible for generating responses to user queries based on given contexts and prompts. <br/><br/>Here&#x27;s what the purpose and processing summary would look like:<br/><br/>- **Purpose**: This method is designed to query an LLM with specific input parameters and return a generated response. It may be used in various AI language models, such as GPT-3 or other transformer-based models that are trained on a large corpus of data for language understanding. The main purpose is to generate appropriate responses given a prompt from the user based on its context.<br/><br/>- **Processing Summary**:<br/>   - This function takes two parameters: &#x27;query&#x27; and &#x27;context&#x27;. It processes these parameters to create a specific prompt, which is then fed into an LLM model (in our case, it&#x27;s assumed that we&#x27;re dealing with GPT-3). The generated response from the LLM model is what gets returned.<br/>   - If there are any errors during execution of this function due to issues with the LLM model or other related factors, they would be caught and handled in a way that does not interfere with overall operation.<br/>   <br/>So, while it&#x27;s important for AI language models to understand how a response is generated based on user inputs and contexts (like programming languages), &#x27;get_response_from_llm&#x27; could function as an effective tool for teaching the models about Python code in a way that aligns with its overall capabilities.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;process_items&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>The &#x27;process_items&#x27; function, which is a critical part of the DatasetGenerator class in the mentioned python script (py2dataset/get_python_datasets.py), serves as an interface between the user and data from the Python Package Index website (PyPI). This function creates and handles the query based on the inputs given by the user about a particular dataset they want to retrieve.<br/><br/>When this method is called, it first checks if there are any items of a certain type (dataset_name or dataset_variables) in the info dictionary that was passed as an argument when &#x27;process_items&#x27; is called. If such elements exist, these values will be processed further. The function then formats and prepares a query using the user&#x27;s input about the dataset they are interested in. This prepared query is sent to another method of DatasetGenerator class which handles the actual retrieval process from PyPI website.<br/><br/>The main purpose of this &#x27;process_items&#x27; function is to allow users to retrieve data related to Python packages, datasets and more efficiently using a user-friendly interface. The processing summary reflects these functions as it creates queries based on user inputs and then sends them for further processing by the DatasetGenerator class.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;process_question&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})</td><td>The `process_question` function serves to gather information from a variety of sources, process it based on the question type and id, and return the result as an answer. The main purpose behind this method is to assist users in extracting code snippets or insights relating to Python programming language datasets. <br/><br/>When processing &#x27;code graph&#x27; related questions (question IDs ending with &#x27;_code_graph&#x27;), a dictionary object `response` is created using the provided information (`info`). This could be for example, a parsed data structure of code syntax trees from Jupyter notebook files where every node represents a function or class and each edge denotes a call between two functions/classes. The creation and manipulation of this graph provides additional contextual insights into Python programming language datasets.<br/><br/>If &#x27;purpose&#x27; related question IDs end with &#x27;_purpose&#x27;, the method uses Language Modeling (LLM) to generate responses if it&#x27;s activated by the user, otherwise it cleans up and extracts unique elements from the provided string (`info[question_id]`). The purpose of LLM is to aid in generating human-like text based on the input query.<br/><br/>If a non &#x27;None&#x27; value for `response` exists (either generated using LLM or cleaned/extracted unique elements), it&#x27;s converted into a string and stripped from any leading, trailing whitespace characters. If such a cleansed string exists after stripping, it is added to a list of question-answer pairs (`self.qa_list`) along with the original query as `question`. Furthermore, if &#x27;file&#x27; related question types exist and summary generation is activated by the user (`self.use_summary`), then the file&#x27;s contextual summary is provided as `context` in instruction lists (`self.instruct_list`). <br/><br/>So, to answer our question, the main purpose of the `process_question` method lies within its ability to extract and process code snippets or insights from a variety of sources (datasets), which can assist users with various programming language datasets processing tasks.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;process_question_type&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)</td><td>The &#x27;process_question_type&#x27; function is used to handle various types of questions related to a Python code file during training and inference phase for language models like GPT, BERT etc. When you ask &quot;What is the purpose and processing summary of the method: &#x27;process_question_type&#x27;&quot;, it&#x27;s about understanding what type of question is being asked and how does it get processed by this function in order to provide responses from trained model.<br/><br/>The &#x27;process_question_type&#x27; function, as defined, accepts three parameters - `self`, which refers to an instance of the class (DatasetGenerator), `question_type` which specifies what type of question is being asked (&#x27;file&#x27;, &#x27;method&#x27; or anything else that&#x27;s specified in self.question_mapping dictionary), and a string representing a unique ID for each individual question (`question_id`). <br/><br/>The first part of this function then checks whether the question type is a file, method or something else (a variable). If it&#x27;s a file, it formats a query using the filename from the instance variable &#x27;self.base_name&#x27;. Then, it gets the code related to the respective question in the Python file (&#x27;context&#x27;).<br/><br/>If the question type is a method, it iterates over each class and its methods defined in the python file. For each method, it formats a query using the filename from &#x27;self.base_name&#x27; and inserts both class name and method names. <br/><br/>For all other types of questions (like variable declaration or usage), if `question_id` is not &quot;variable_purpose&quot;, i.e., it&#x27;s not asking about variables in question, then the function formats a query using the filename from &#x27;self.base_name&#x27; followed by inserting values related to the specific question type and name.<br/><br/>If `question_id` is &quot;variable_purpose&quot; (which means this method is being called for variable purpose), then if language model was asked about variables, it will handle them differently depending on whether language model itself is asking or not. If it&#x27;s a normal user interacting with the system, then it&#x27;ll just process all variables in that particular question type as specified by &#x27;question_text&#x27; (format string). <br/><br/>So overall, this function provides a summary of how each individual method is processed based on the input provided.</td></tr><tr><td>What is the purpose and processing summary of the method: &#x27;generate&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>The `generate` method, also known as a &quot;getter&quot; or &quot;accessor&quot;, in the given context is generally used to get data out of an object that&#x27;s typically some form of dataset. <br/><br/>The purpose and processing summary for &#x27;generate&#x27; can vary depending on its implementation within the class &#x27;DatasetGenerator&#x27;. However, it&#x27;s important to note that this method modifies several variables of the DatasetGenerator instance: `self.qa_list` (question-answer list) and `self.instruct_list` (instructions list).<br/><br/>The purpose of these two lists is to store information about questions and instructions in a structured way, which can be helpful for training language models or other AI systems. <br/><br/>For instance, the &#x27;generate&#x27; method might iterate over each question in the dataset&#x27;s `questions` list, extract its ID, text, and type fields (if available), then process these values based on their types. The exact nature of processing could depend largely on what kind of data is being processed - it could be a classification problem where we want to identify which category the question falls into or an information retrieval task where we&#x27;re trying to find relevant instructions given a question.<br/><br/>Once the questions and instructions have been processed, these are added to `self.qa_list` and `self.instruct_list`, respectively. The method then returns both lists as a tuple. <br/><br/>This is a typical scenario in Python code where &#x27;generate&#x27; is used to get data out of another object (in this case, the DatasetGenerator instance), manipulate it based on some rules or criteria, store processed values, and return these. This can be particularly useful when we have complex datasets that need to be processed and managed.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;generator&#x27; defined in the function: &#x27;get_python_datasets&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>def&nbsp;get_python_datasets(file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;llm,&nbsp;prompt,&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;information&nbsp;from&nbsp;a&nbsp;Python&nbsp;file&nbsp;and&nbsp;return&nbsp;it&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;The&nbsp;details&nbsp;of&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List[Dict]):&nbsp;The&nbsp;list&nbsp;of&nbsp;questions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;Whether&nbsp;to&nbsp;use&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;user_config&nbsp;(dict):&nbsp;User-provided&nbsp;model&nbsp;configurations.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Extracted&nbsp;information&nbsp;in&nbsp;JSON&nbsp;format.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;generator&nbsp;=&nbsp;DatasetGenerator(file_path,&nbsp;file_details,&nbsp;base_name,&nbsp;questions,&nbsp;use_llm,&nbsp;use_summary,&nbsp;llm,&nbsp;prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;generator.generate()</td><td>The `generator` variable is a class object, specifically an instance of the `DatasetGenerator` class from the imported module `&#x27;py2dataset.get_python_datasets&#x27;. The purpose and usage of each variable within this function are as follows:<br/><br/>1. &#x27;file_path&#x27;: This is the path to the Python file that was provided by the user when calling the function. It&#x27;s typically a filepath inputted into the function, which could be any valid python script or notebook. <br/><br/>2. &#x27;file_details&#x27;: This is a dictionary containing metadata about the file such as its size in bytes and last modification date/time. The details are gathered using Python built-in modules `os` (for file operations) and `datetime`.<br/><br/>3. &#x27;base_name&#x27;: This is the filename without any extension or path information. It&#x27;s used to extract a meaningful name for the dataset, which will be appended with `_train`, `_validation`, and `_test`. The purpose of this is to ensure that each dataset split gets unique names even if there are multiple datasets in one file (which could happen in some cases).<br/><br/>4. &#x27;questions&#x27;: This is an array of dictionaries containing details about the questions asked during code review. These include information such as question number, line number where the question was asked, whether it&#x27;s a required or optional prompt and various other metadata related to each question. The list contains all the questions that were asked in the code file by the user.<br/><br/>5. &#x27;llm&#x27;: This is an instance of Language Model object from the transformers library. It&#x27;s used to tokenize text and generate language model specific features which include things like token types, tokens ids, attention mask etc., depending on how well your language model was trained. If use_llm flag is set as True, then it would perform feature extraction using this instance of Language Model object, otherwise, no feature extraction will be done.<br/><br/>6. &#x27;prompt&#x27;: This is a boolean value that determines whether the function should prompt the user to provide additional information about the dataset like how many rows/columns, target column name etc. It&#x27;s used in generating prompts for the user asking them to input details related to the datasets. <br/><br/>7. &#x27;use_summary&#x27;: A boolean flag which decides if summary of code file is required or not. If True then a summary will be generated else no summary would be created and only code structure will be considered while processing data.<br/><br/>8. The function `generate()` returns two lists, the first list contains details about the datasets such as number of rows/columns in each dataset, target column name etc., whereas the second list is an array containing information related to all questions asked by user for every dataset split (train, validation and test). Each item in these lists represents a row from the CSV file.<br/><br/>In summary, &#x27;generator&#x27; is used as an instance of `DatasetGenerator` class which has methods generating datasets with necessary details like filenames without extensions etc., tokenizing code files using language model specific features if required, prompting user to provide additional information about data sets and finally returning extracted dataset related information in JSON format.</td></tr><tr><td>What is the purpose and usage of each of these variables: &#x27;response, question_id, prompt, query, info, itemstring, question_type, cleaned_elements, response_str, context, mapping, items, question_text, method_name&#x27; defined in the class: &#x27;DatasetGenerator&#x27; in the Python file: &#x27;py2dataset.get_python_datasets.py&#x27;?</td><td>class&nbsp;DatasetGenerator:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;A&nbsp;class&nbsp;used&nbsp;to&nbsp;generate&nbsp;JSON&nbsp;formatted&nbsp;dictionary&nbsp;outputs&nbsp;for&nbsp;a&nbsp;Python&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path&nbsp;(str):&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;containing&nbsp;details&nbsp;of&nbsp;the&nbsp;Python<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;base_name&nbsp;(str):&nbsp;The&nbsp;base&nbsp;name&nbsp;of&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;questions&nbsp;(List):&nbsp;A&nbsp;list&nbsp;of&nbsp;questions&nbsp;for&nbsp;which&nbsp;responses&nbsp;are&nbsp;to&nbsp;be<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;question-answer&nbsp;pairs.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;instruct_list&nbsp;(List):&nbsp;A&nbsp;list&nbsp;to&nbsp;store&nbsp;the&nbsp;generated&nbsp;instructions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_mapping&nbsp;(Dict):&nbsp;A&nbsp;dictionary&nbsp;mapping&nbsp;question&nbsp;types&nbsp;to&nbsp;their<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;corresponding&nbsp;keys&nbsp;in&nbsp;the&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;use_llm&nbsp;(bool):&nbsp;A&nbsp;flag&nbsp;indicating&nbsp;whether&nbsp;to&nbsp;use&nbsp;a&nbsp;language&nbsp;model&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;llm&nbsp;(AutoModelForCausalLM):&nbsp;The&nbsp;language&nbsp;model&nbsp;to&nbsp;be&nbsp;used&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generating&nbsp;responses.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Cleans&nbsp;an&nbsp;input&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;string&nbsp;and&nbsp;returns&nbsp;a&nbsp;string&nbsp;of&nbsp;unique&nbsp;elements.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:&nbsp;Adds&nbsp;a&nbsp;response&nbsp;to&nbsp;a&nbsp;list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_response_from_llm(query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:&nbsp;Gets&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;from&nbsp;the&nbsp;language&nbsp;model.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;get_variable_purpose(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;variable_type:&nbsp;str)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;the&nbsp;purpose&nbsp;of&nbsp;a&nbsp;variable.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_question(question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info)&nbsp;-&gt;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None:&nbsp;Processes&nbsp;a&nbsp;question&nbsp;and&nbsp;adds&nbsp;the&nbsp;generated&nbsp;response&nbsp;to&nbsp;the<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_file_question(question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;process_func_class_question(question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:&nbsp;Processes&nbsp;questions&nbsp;related&nbsp;to&nbsp;a&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function&nbsp;or&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;generate()&nbsp;-&gt;&nbsp;Tuple[List[Dict],&nbsp;List[Dict]]:&nbsp;Generates&nbsp;responses&nbsp;for<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;all&nbsp;the&nbsp;questions&nbsp;and&nbsp;returns&nbsp;the&nbsp;qa_list&nbsp;and&nbsp;instruct_list.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;file_path:&nbsp;str,&nbsp;file_details:&nbsp;Dict,&nbsp;base_name:&nbsp;str,&nbsp;questions:&nbsp;List[Dict],&nbsp;use_llm:&nbsp;bool,&nbsp;use_summary:&nbsp;bool,&nbsp;llm,&nbsp;prompt):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_path&nbsp;=&nbsp;file_path<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_details&nbsp;=&nbsp;file_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.base_name&nbsp;=&nbsp;base_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.questions&nbsp;=&nbsp;questions<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.question_mapping&nbsp;=&nbsp;{&#x27;file&#x27;:&nbsp;&#x27;file&#x27;,&nbsp;&#x27;function&#x27;:&nbsp;&#x27;functions&#x27;,&nbsp;&#x27;class&#x27;:&nbsp;&#x27;classes&#x27;,&nbsp;&#x27;method&#x27;:&nbsp;&#x27;classes&#x27;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;use_llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;llm<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.prompt&nbsp;=&nbsp;prompt<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.use_llm&nbsp;or&nbsp;self.llm&nbsp;is&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_llm&nbsp;=&nbsp;False<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.llm&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.use_summary&nbsp;=&nbsp;use_summary<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;clean_and_get_unique_elements(input_str:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cleaned_elements&nbsp;=&nbsp;set((re.sub(&#x27;[^\\w\\-_&gt;\\s:/.]&#x27;,&nbsp;&#x27;&#x27;,&nbsp;element.strip())&nbsp;for&nbsp;element&nbsp;in&nbsp;re.sub(&#x27;\\s+&#x27;,&nbsp;&#x27;&nbsp;&#x27;,&nbsp;input_str).split(&#x27;,&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;&#x27;,&nbsp;&#x27;.join(cleaned_elements)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;@staticmethod<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_to_list(list_to_update:&nbsp;List[Dict],&nbsp;query:&nbsp;str,&nbsp;response:&nbsp;str,&nbsp;additional_field=None)&nbsp;-&gt;&nbsp;List[Dict]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response.strip()&nbsp;and&nbsp;(response&nbsp;!=&nbsp;&#x27;None&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;list_to_update.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;additional_field,&nbsp;&#x27;output&#x27;:&nbsp;response}&nbsp;if&nbsp;additional_field&nbsp;else&nbsp;{&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;list_to_update<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_response_from_llm(self,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;&#x27;&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;not&nbsp;self.llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;AI&nbsp;model&nbsp;not&nbsp;available.&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;prompt&nbsp;=&nbsp;self.prompt.format(context=context,&nbsp;query=query)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Query:&nbsp;{query}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.llm(prompt)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.info(f&#x27;Response:&nbsp;{response}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logger.error(&#x27;Failed&nbsp;to&nbsp;generate&nbsp;model&nbsp;response&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;response<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_items(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str,&nbsp;base_name:&nbsp;str,&nbsp;name:&nbsp;str,&nbsp;info:&nbsp;Dict,&nbsp;context:&nbsp;str,&nbsp;item_type:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;info[item_type]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;items&nbsp;=&nbsp;[item.strip()&nbsp;for&nbsp;item&nbsp;in&nbsp;self.clean_and_get_unique_elements(str(info[item_type])).split(&#x27;,&#x27;)&nbsp;if&nbsp;item]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;itemstring&nbsp;=&nbsp;&#x27;,&nbsp;&#x27;.join(items)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=base_name,&nbsp;**{f&quot;{question_type.split(&#x27;_&#x27;)[0]}_name&quot;:&nbsp;name,&nbsp;f&quot;{question_type.split(&#x27;_&#x27;)[0]}_variables&quot;:&nbsp;itemstring})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;query:&nbsp;str,&nbsp;context:&nbsp;str,&nbsp;info:&nbsp;Dict)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id.endswith(&#x27;code_graph&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;info.get(question_id,&nbsp;{})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response&nbsp;=&nbsp;self.get_response_from_llm(query,&nbsp;context)&nbsp;if&nbsp;self.use_llm&nbsp;and&nbsp;question_id.endswith(&#x27;purpose&#x27;)&nbsp;else&nbsp;self.clean_and_get_unique_elements(str(info.get(question_id,&nbsp;&#x27;&#x27;)))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response&nbsp;and&nbsp;response&nbsp;!=&nbsp;&#x27;None&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;str(response)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;response_str&nbsp;=&nbsp;response_str.strip()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;response_str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.qa_list.append({&#x27;question&#x27;:&nbsp;query,&nbsp;&#x27;answer&#x27;:&nbsp;response_str})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;&nbsp;and&nbsp;self.use_summary:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[&#x27;file_summary&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.instruct_list.append({&#x27;instruction&#x27;:&nbsp;query,&nbsp;&#x27;input&#x27;:&nbsp;context,&nbsp;&#x27;output&#x27;:&nbsp;response_str})<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;process_question_type(self,&nbsp;question_type:&nbsp;str,&nbsp;question_id:&nbsp;str,&nbsp;question_text:&nbsp;str)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_type&nbsp;==&nbsp;&#x27;file&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;][&#x27;file_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;info&nbsp;=&nbsp;self.file_details[&#x27;file_info&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_type&nbsp;==&nbsp;&#x27;method&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_info&nbsp;in&nbsp;self.file_details[&#x27;classes&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;key,&nbsp;method_info&nbsp;in&nbsp;class_info.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;key.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;key[len(&#x27;class_method_&#x27;):]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;method_info[&#x27;method_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{&#x27;class_name&#x27;:&nbsp;class_name,&nbsp;&#x27;method_name&#x27;:&nbsp;method_name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;method_info)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;name,&nbsp;info&nbsp;in&nbsp;self.file_details[self.question_mapping[question_type]].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;context&nbsp;=&nbsp;info[f&#x27;{question_type}_code&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mapping&nbsp;=&nbsp;{f&#x27;{question_type}_name&#x27;:&nbsp;name}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;question_id&nbsp;==&nbsp;f&#x27;{question_type}_variable_purpose&#x27;&nbsp;and&nbsp;self.use_llm:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_items(question_type,&nbsp;question_id,&nbsp;question_text,&nbsp;self.base_name,&nbsp;name,&nbsp;info,&nbsp;context,&nbsp;f&#x27;{question_type}_variables&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;question_id&nbsp;!=&nbsp;f&#x27;{question_type}_variable_purpose&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;query&nbsp;=&nbsp;question_text.format(filename=self.base_name,&nbsp;**mapping)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question(question_type,&nbsp;question_id,&nbsp;query,&nbsp;context,&nbsp;info)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;generate(self)&nbsp;-&gt;&nbsp;tuple[List[Dict],&nbsp;List[Dict]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;question&nbsp;in&nbsp;self.questions:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_id&nbsp;=&nbsp;question[&#x27;id&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_text&nbsp;=&nbsp;question[&#x27;text&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;question_type&nbsp;=&nbsp;question[&#x27;type&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.process_question_type(question_type,&nbsp;question_id,&nbsp;question_text)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;(self.qa_list,&nbsp;self.instruct_list)</td><td>The purpose of each variable is as follows when used within the DatasetGenerator class from py2dataset/utils/py2dataset/get_python_datasets.py: <br/><br/>- `response`: This is a dictionary containing information about the variables that are to be extracted or analyzed, such as the file&#x27;s path and its contents. It is typically an output of processing steps within the generate() method.<br/><br/>- `question_id`: The id of each question being processed by the DatasetGenerator class.<br/><br/>- `prompt`: This is a string containing a prompt template that will be used to format query for generating responses using language models. <br/><br/>- `query`: This is an input to get_response_from_llm() method, which is a call to an AI model (Language Model) given the context and the question text as inputs. If self.use_llm is True, it will generate a response for each query based on the provided prompt template.<br/><br/>- `info`: This is a dictionary containing various details about the file being processed. It includes information such as author name, version control system used etc., and may include other variables depending on how the class interacts with these fields in its methods. <br/><br/>- `itemstring`: This is a cleaned string of unique elements from info[&#x27;functions&#x27;] or info[&#x27;classes&#x27;]. The &#x27;items&#x27; are extracted from this variable for each question related to functions/classes, such as &#x27;How many function arguments does [function_name] have?&#x27; and &#x27;What variables is [class_method_name] using?&#x27;.<br/><br/>- `question_type`: This is the type of question being processed. For example, if a file is being processed, it will be of type &quot;file&quot;. If a class method is being processed, its value would be &#x27;method&#x27;. <br/><br/>- `cleaned_elements`: This is a cleaned string from each input str in variables [&#x27;functions&#x27;, &#x27;classes&#x27;] that are split using &#x27;, &#x27;. The &#x27;,&#x27; is replaced with &#x27; &#x27;, and any non-alphanumeric characters are removed. It returns a set of unique elements. For example, it would return {&#x27;func1&#x27;, &#x27;arg1&#x27;} for the query: &quot;What functions does this file have?&quot;<br/><br/>- `response_str`: This is an output from get_response_from_llm() or cleaned_elements when self.use_llm is False. It&#x27;s usually a string containing a clean response, but could also be a dictionary of information related to the question being processed by generate(). <br/><br/>- `context`: For each query, this contains the code from where responses were generated. The context is typically provided as input for language models and can vary based on how specific queries are structured in the DatasetGenerator class.<br/><br/>- `mapping`: A dictionary containing relevant information about variables or methods related to file/class being processed (e.g., &#x27;filename&#x27;: self.base_name, &#x27;function_variables&#x27;: itemsstring). This is typically used as a mapping for formatting questions related to these entities, like: &quot;How many functions does the [file] have?&quot;<br/><br/>- `items`: A list of cleaned elements extracted from info[&#x27;functions&#x27;] or info[&#x27;classes&#x27;]. These are processed depending on the question id. For example, &#x27;How many function arguments does [function_name] have?&#x27; and &#x27;What variables is [class_method_name] using?&#x27;. <br/><br/>- `question_text`: This contains a string with placeholders for relevant variables (like filename). The query will be generated based on these placeholders and the context. For example, &quot;How many functions are in the {filename} file?&quot; or &quot;{function_variables}&quot;.<br/><br/>- `method_name`: Each class method&#x27;s name is processed here to generate responses. <br/><br/>In terms of usage, within py2dataset/utils/py2dataset/get_python_datasets.py:<br/><br/>- The &#x27;response&#x27; variable will be used extensively in the DatasetGenerator methods such as add_to_list(), process_question() and others where it is necessary to interact with various components related to dataset generation, analysis or storage. <br/><br/>- The &#x27;prompt&#x27;, &#x27;query&#x27;, &#x27;info&#x27;, etc., variables are generally inputs to other functions/methods that will be used in generating responses (either directly from language models if self.use_llm is True, or cleaned elements). They represent different aspects of the question being processed by the DatasetGenerator class, and can vary based on how these parameters would be passed into each method during runtime.<br/><br/>- The &#x27;cleaned_elements&#x27;, &#x27;response_str&#x27; variables will be used extensively in generating responses from language models if self.use_llm is True or non-language model based methods where response processing is required (such as the clean_and_get_unique_elements() method). They represent various components of data that can be provided during runtime, which could potentially include a string, dictionary, list etc., depending on how it was generated.<br/><br/>- The &#x27;context&#x27;, &#x27;mapping&#x27;, &#x27;items&#x27; and &#x27;question_text&#x27; variables are mainly used as inputs to generate responses in the DatasetGenerator class methods based on these parameters being passed into each method during runtime. They represent various aspects of data that can be provided during runtime, which could potentially include a string or dictionary depending on how it was generated.<br/><br/>All these reasons provide evidence for the purpose and usage of all variables within the context of py2dataset/utils/py2dataset/get_python_datasets.py</td></tr>
                </tbody>
            </table>
        </body>
        </html>
        