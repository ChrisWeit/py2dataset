
        <html>
        <head>
            <style>
                table {border-collapse: collapse; width: 100%; table-layout: fixed;}
                th, td {
                    border: 1px solid black;
                    padding: 8px;
                    text-align: left;
                    white-space: pre-line;
                    vertical-align: top;
                    word-wrap: break-word;
                }
            </style>
        </head>
        <body>
            <table>
                <thead>
                    <tr>
        <th style='width: 33.333333333333336%;'>instruction</th><th style='width: 33.333333333333336%;'>input</th><th style='width: 33.333333333333336%;'>output</th>
                    </tr>
                </thead>
                <tbody>
        <tr><td>Dependencies&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node&nbsp;with&nbsp;the&nbsp;function&nbsp;names&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;respective&nbsp;arguments&nbsp;as&nbsp;values.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node&nbsp;and&nbsp;return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;relevant&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships&nbsp;using&nbsp;the&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details&nbsp;or&nbsp;None&nbsp;if&nbsp;there&#x27;s&nbsp;an&nbsp;issue&nbsp;reading&nbsp;the&nbsp;file&nbsp;or&nbsp;parsing&nbsp;its&nbsp;content.<br/>[req05]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;astor<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>typing,&nbsp;networkx,&nbsp;logging,&nbsp;astor,&nbsp;ast,&nbsp;re,&nbsp;json</td></tr><tr><td>Call&nbsp;code&nbsp;graph&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node&nbsp;with&nbsp;the&nbsp;function&nbsp;names&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;respective&nbsp;arguments&nbsp;as&nbsp;values.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node&nbsp;and&nbsp;return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;relevant&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships&nbsp;using&nbsp;the&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details&nbsp;or&nbsp;None&nbsp;if&nbsp;there&#x27;s&nbsp;an&nbsp;issue&nbsp;reading&nbsp;the&nbsp;file&nbsp;or&nbsp;parsing&nbsp;its&nbsp;content.<br/>[req05]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;astor<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>{&#x27;nodes&#x27;:&nbsp;[&#x27;CodeVisitor&#x27;,&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;ast.Constant&#x27;,&nbsp;&#x27;node.value.replace(\&#x27;&quot;&quot;&quot;\&#x27;,&nbsp;\&#x27;\&#x27;).replace&#x27;,&nbsp;&#x27;node.value.replace&#x27;,&nbsp;&#x27;astor.to_source(parsed).strip&#x27;,&nbsp;&#x27;astor.to_source&#x27;,&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;G.add_node&#x27;,&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;list&#x27;,&nbsp;&#x27;set&#x27;,&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;function_details_lookup.keys&#x27;,&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;open&#x27;,&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;next&#x27;,&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&quot;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend&quot;,&nbsp;&#x27;self.classes[self.current_class].setdefault&#x27;,&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;any&#x27;,&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;len&#x27;,&nbsp;&#x27;class_defs.append&#x27;],&nbsp;&#x27;edges&#x27;:&nbsp;[{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.__init__&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_FunctionDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self&#x27;,&nbsp;&#x27;node&#x27;,&nbsp;&#x27;node_type&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;details&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.visit_ClassDef&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.generic_visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;{ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;base&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;next&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;(n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str))&#x27;,&nbsp;&#x27;None&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;decorator&#x27;,&nbsp;&#x27;ast.Name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;call_data.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;attributes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes[self.current_class].setdefault&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_attributes&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;details.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.extract_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;any&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;self.classes.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.visit&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.dump&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;subnode&#x27;,&nbsp;&#x27;ast.ImportFrom&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.functions.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;self.classes.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_details.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;method_name.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;len&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;class_method_&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_defs.append&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;{class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}}&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;ast.unparse(node)&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;astor.to_source(parsed).strip()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;CodeVisitor.analyze&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.walk&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;parsed&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node.value&#x27;,&nbsp;&#x27;str&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.Constant&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;node.value.replace(\&#x27;&quot;&quot;&quot;\&#x27;,&nbsp;\&#x27;\&#x27;).replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;&quot;\&#x27;\&#x27;\&#x27;&quot;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;node.value.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;\&#x27;&quot;&quot;&quot;\&#x27;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;astor.to_source(parsed).strip&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;remove_docs_and_comments&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;astor.to_source&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;parsed&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.iter_child_nodes&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;node&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;isinstance&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;,&nbsp;&#x27;ast.Call&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.unparse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;arg&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;calls.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;get_all_calls(child)&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_all_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;child&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;calls&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;nx.DiGraph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_def&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;function_name&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;class_details[&#x27;method_defs&#x27;].items&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;G.nodes&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;qualified_method_name&#x27;,&nbsp;&quot;details[&#x27;calls&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.items&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G[source][target].update&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.edges.data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;target_details.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;returns&#x27;&quot;,&nbsp;&#x27;[]&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;set(target_details.get(&#x27;returns&#x27;,&nbsp;[]))&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;set&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;target_details.get(&#x27;returns&#x27;,&nbsp;[])&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_method_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;function_details_lookup.get&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_edge&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source&#x27;,&nbsp;&#x27;target&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;get_edge_data_from_details&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;target_details&#x27;,&nbsp;&#x27;source_details&#x27;,&nbsp;&#x27;target&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;list&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;class_def.keys()&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;class_def.keys&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.startswith&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;called.replace&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;self.&#x27;&quot;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;source_name.split&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;&#x27;.&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;add_edge_with_data&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;source_name&#x27;,&nbsp;&#x27;called&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;add_edges_for_calls&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;G.add_node&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;called&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;open&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;file_path&#x27;,&nbsp;&quot;&#x27;r&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;f.read&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;ast.parse&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;logging.warning&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;CodeVisitor&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;code&#x27;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;visitor.analyze&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;tree&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;code_graph&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;],&nbsp;&#x27;target_returns&#x27;:&nbsp;[&quot;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}&quot;,&nbsp;&#x27;edge_data&#x27;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&quot;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace&quot;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&#x27;\&#x27;&quot;\&#x27;&#x27;,&nbsp;&quot;&#x27;&#x27;&quot;]},&nbsp;{&#x27;source&#x27;:&nbsp;&#x27;get_python_file_details&#x27;,&nbsp;&#x27;target&#x27;:&nbsp;&#x27;json.dumps&#x27;,&nbsp;&#x27;target_inputs&#x27;:&nbsp;[&quot;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&quot;]}]}</td></tr><tr><td>Functions&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node&nbsp;with&nbsp;the&nbsp;function&nbsp;names&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;respective&nbsp;arguments&nbsp;as&nbsp;values.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node&nbsp;and&nbsp;return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;relevant&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships&nbsp;using&nbsp;the&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details&nbsp;or&nbsp;None&nbsp;if&nbsp;there&#x27;s&nbsp;an&nbsp;issue&nbsp;reading&nbsp;the&nbsp;file&nbsp;or&nbsp;parsing&nbsp;its&nbsp;content.<br/>[req05]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;astor<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>code_graph,&nbsp;get_python_file_details,&nbsp;get_edge_data_from_details,&nbsp;add_edge_with_data,&nbsp;remove_docs_and_comments,&nbsp;get_all_calls,&nbsp;add_edges_for_calls</td></tr><tr><td>Classes&nbsp;defined&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node&nbsp;with&nbsp;the&nbsp;function&nbsp;names&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;respective&nbsp;arguments&nbsp;as&nbsp;values.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node&nbsp;and&nbsp;return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;relevant&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships&nbsp;using&nbsp;the&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details&nbsp;or&nbsp;None&nbsp;if&nbsp;there&#x27;s&nbsp;an&nbsp;issue&nbsp;reading&nbsp;the&nbsp;file&nbsp;or&nbsp;parsing&nbsp;its&nbsp;content.<br/>[req05]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;astor<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>CodeVisitor</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;remove_docs_and_comments&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>code</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>node</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>file_summary</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target,&nbsp;target_details,&nbsp;source_details</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>target,&nbsp;init_method,&nbsp;source</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>calls,&nbsp;source_name</td></tr><tr><td>Inputs&nbsp;to&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_path</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;remove_docs_and_comments&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.</td></tr><tr><td>Docstring&nbsp;of&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;remove_docs_and_comments&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>node.value.replace,&nbsp;astor.to_source,&nbsp;ast.parse,&nbsp;astor.to_sourceparsed.strip,&nbsp;ast.walk,&nbsp;ast.Constant,&nbsp;.replace,&nbsp;isinstance</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>ast.unparse,&nbsp;ast.iter_child_nodes,&nbsp;calls.update,&nbsp;get_all_calls,&nbsp;isinstance</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>class_method_details_lookup.items,&nbsp;set,&nbsp;class_def.keys,&nbsp;class_detailsmethod_defs.items,&nbsp;G.add_edge,&nbsp;G.add_node,&nbsp;G.edges.data,&nbsp;called.startswith,&nbsp;function_details_lookup.keys,&nbsp;called.split,&nbsp;target_details.get,&nbsp;function_details_lookup.get,&nbsp;class_def.items,&nbsp;function_details_lookup.update,&nbsp;called.replace,&nbsp;class_method_details_lookup.get,&nbsp;add_edge_with_data,&nbsp;nx.DiGraph,&nbsp;list,&nbsp;function_details_lookup.items,&nbsp;Gsourcetarget.update,&nbsp;get_edge_data_from_details,&nbsp;source_name.split,&nbsp;add_edges_for_calls</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>target_details.get,&nbsp;set,&nbsp;list</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>class_method_details_lookup.get,&nbsp;function_details_lookup.get,&nbsp;G.add_edge,&nbsp;get_edge_data_from_details</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>called.replace,&nbsp;called.startswith,&nbsp;source_name.split,&nbsp;add_edge_with_data,&nbsp;list,&nbsp;class_def.keys,&nbsp;called.split,&nbsp;G.add_node</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>code_graph,&nbsp;json.dumpsfile_detailsfile_infofile_summary.replace,&nbsp;visitor.analyze,&nbsp;open,&nbsp;json.dumps,&nbsp;CodeVisitor,&nbsp;ast.parse,&nbsp;f.read,&nbsp;logging.warning</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;remove_docs_and_comments&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>parsed</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>qualified_method_name,&nbsp;method_name,&nbsp;function_details_lookup,&nbsp;nodes,&nbsp;fully_qualified_name,&nbsp;edges,&nbsp;init_method_name,&nbsp;target_details,&nbsp;source_details,&nbsp;edge_data,&nbsp;class_method_details_lookup,&nbsp;G,&nbsp;class_names,&nbsp;init_method,&nbsp;called_class_name</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;add_edge_with_data&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))</td><td>target_details,&nbsp;source_details</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;add_edges_for_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)</td><td>method_name,&nbsp;fully_qualified_name,&nbsp;init_method_name,&nbsp;class_names,&nbsp;init_method,&nbsp;called_class_name</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>tree,&nbsp;visitor,&nbsp;file_details,&nbsp;code</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;remove_docs_and_comments&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()</td><td>astor.to_sourceparsed.strip</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;get_all_calls&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls</td><td>calls</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;code_graph&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]=None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&#x27;self.&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&#x27;self.&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&#x27;{called}.__init__&#x27;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&#x27;source&#x27;:&nbsp;edge[0],&nbsp;&#x27;target&#x27;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&#x27;nodes&#x27;:&nbsp;nodes,&nbsp;&#x27;edges&#x27;:&nbsp;edges}</td><td>edge_data,&nbsp;nodes:&nbsp;nodes,&nbsp;edges:&nbsp;edges</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;get_edge_data_from_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;(target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data</td><td>edge_data</td></tr><tr><td>Returned&nbsp;items&nbsp;from&nbsp;function:&nbsp;&#x27;get_python_file_details&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&#x27;r&#x27;,&nbsp;encoding=&#x27;utf-8&#x27;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&#x27;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;&quot;&#x27;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>file_details,&nbsp;None</td></tr><tr><td>Methods&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>analyze,&nbsp;extract_details,&nbsp;visit_FunctionDef,&nbsp;visit_ClassDef</td></tr><tr><td>Docstring&nbsp;of&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.</td></tr><tr><td>Attributes&nbsp;of&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>current_class,&nbsp;file_info</td></tr><tr><td>Variables&nbsp;defined&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>details,&nbsp;method_defs,&nbsp;function_defs,&nbsp;node_walk,&nbsp;call_data,&nbsp;class_defs,&nbsp;attributes,&nbsp;file_code_simplified</td></tr><tr><td>Inheritance&nbsp;of&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>ast.NodeVisitor</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>code,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>node,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>node,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>node,&nbsp;node_type,&nbsp;self</td></tr><tr><td>Inputs&nbsp;to&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>node,&nbsp;self</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;__init__&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None</td><td>Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.</td></tr><tr><td>Docstring&nbsp;of&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;visit_FunctionDef&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;visit_ClassDef&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None</td><td>self.generic_visit,&nbsp;self.extract_details</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>call_data.keys,&nbsp;any,&nbsp;ast.unparse,&nbsp;next,&nbsp;self.classesself.current_class.setdefaultclass_attributes,&nbsp;details.update,&nbsp;list,&nbsp;ast.dump,&nbsp;set,&nbsp;self.classesself.current_class.setdefault,&nbsp;ast.walk,&nbsp;get_all_calls,&nbsp;.extend,&nbsp;isinstance</td></tr><tr><td>Calls&nbsp;made&nbsp;in&nbsp;method:&nbsp;&#x27;analyze&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{&#x27;file_code&#x27;:&nbsp;self.code,&nbsp;&#x27;file_ast&#x27;:&nbsp;ast.dump(node),&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys())}<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified</td><td>method_name.startswith,&nbsp;self.classes.keys,&nbsp;ast.unparse,&nbsp;self.classes.items,&nbsp;self.visit,&nbsp;len,&nbsp;self.functions.keys,&nbsp;list,&nbsp;ast.dump,&nbsp;class_details.items,&nbsp;ast.walk,&nbsp;remove_docs_and_comments,&nbsp;self.functions.items,&nbsp;class_defs.append,&nbsp;isinstance</td></tr><tr><td>Returns&nbsp;from&nbsp;method:&nbsp;&#x27;extract_details&#x27;&nbsp;in&nbsp;class:&nbsp;&#x27;CodeVisitor&#x27;&nbsp;in&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;?</td><td>def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&#x27;None&#x27;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)})}<br/>&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;(target.value.id&nbsp;==&nbsp;&#x27;self&#x27;)]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;],&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&#x27;__init__&#x27;&nbsp;and&nbsp;any((isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&#x27;staticmethod&#x27;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list))]})<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details</td><td>details</td></tr><tr><td>1)&nbsp;DESCRIBE&nbsp;the&nbsp;purpose&nbsp;and&nbsp;processing&nbsp;summary&nbsp;of&nbsp;Python&nbsp;file:&nbsp;&#x27;py2dataset.get_python_file_details.py&#x27;;&nbsp;2)&nbsp;PROVIDE&nbsp;an&nbsp;itemized&nbsp;and&nbsp;detailed&nbsp;description&nbsp;of&nbsp;each&nbsp;applicable&nbsp;function,&nbsp;class,&nbsp;and&nbsp;method;&nbsp;3)&nbsp;EXPLAIN&nbsp;what&nbsp;each&nbsp;input,&nbsp;output,&nbsp;and&nbsp;variable&nbsp;does&nbsp;in&nbsp;the&nbsp;code.</td><td>&quot;&quot;&quot;<br/>Use&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file,&nbsp;determine&nbsp;the&nbsp;code&nbsp;call&nbsp;graph&nbsp;and&nbsp;return&nbsp;it&nbsp;as&nbsp;a&nbsp;dictionary.<br/>Requirements:<br/>[req01]&nbsp;The&nbsp;get_all_calls&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;node&nbsp;of&nbsp;type&nbsp;ast.AST&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;of&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;the&nbsp;node&nbsp;with&nbsp;the&nbsp;function&nbsp;names&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;respective&nbsp;arguments&nbsp;as&nbsp;values.<br/>[req02]&nbsp;The&nbsp;`CodeVisitor`&nbsp;class&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;source&nbsp;code&nbsp;as&nbsp;input&nbsp;when&nbsp;instantiated.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Use&nbsp;the&nbsp;AST&nbsp;to&nbsp;extract&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Inherit&nbsp;from&nbsp;`ast.NodeVisitor`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Implement&nbsp;the&nbsp;`visit_FunctionDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;functions.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Implement&nbsp;the&nbsp;`visit_ClassDef`&nbsp;method&nbsp;to&nbsp;gather&nbsp;details&nbsp;about&nbsp;classes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f.&nbsp;Implement&nbsp;the&nbsp;`extract_details`&nbsp;method&nbsp;to&nbsp;parse&nbsp;information&nbsp;about&nbsp;a&nbsp;given&nbsp;node&nbsp;and&nbsp;return&nbsp;a&nbsp;dictionary&nbsp;containing&nbsp;relevant&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;g.&nbsp;Implement&nbsp;the&nbsp;`analyze`&nbsp;method&nbsp;to&nbsp;traverse&nbsp;the&nbsp;AST,&nbsp;list&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;the&nbsp;&#x27;file_info&#x27;&nbsp;attribute&nbsp;with&nbsp;comprehensive&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;h.&nbsp;Maintain&nbsp;a&nbsp;current&nbsp;class&nbsp;context&nbsp;using&nbsp;the&nbsp;attribute&nbsp;&#x27;current_class&#x27;.<br/>[req03]&nbsp;The&nbsp;`code_graph`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;the&nbsp;file&nbsp;summary&nbsp;as&nbsp;input.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Construct&nbsp;a&nbsp;directed&nbsp;graph&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;that&nbsp;illustrate&nbsp;code&nbsp;relationships&nbsp;using&nbsp;the&nbsp;networkx&nbsp;library.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Define&nbsp;elements&nbsp;such&nbsp;as&nbsp;function&nbsp;nodes,&nbsp;class&nbsp;nodes,&nbsp;and&nbsp;method&nbsp;nodes.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Specify&nbsp;edges&nbsp;to&nbsp;represent&nbsp;relationships&nbsp;like&nbsp;function&nbsp;calls,&nbsp;method&nbsp;calls,&nbsp;and&nbsp;class&nbsp;inheritance.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;e.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;graph,&nbsp;aiding&nbsp;in&nbsp;understanding&nbsp;the&nbsp;code&#x27;s&nbsp;structure&nbsp;and&nbsp;inter-relationships.<br/>[req04]&nbsp;The&nbsp;`get_python_file_details`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;file&nbsp;path&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Extract&nbsp;detailed&nbsp;information&nbsp;from&nbsp;the&nbsp;specified&nbsp;Python&nbsp;file&nbsp;using&nbsp;the&nbsp;AST&nbsp;and&nbsp;the&nbsp;`CodeVisitor`&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Include&nbsp;the&nbsp;entire&nbsp;code&nbsp;graph&nbsp;in&nbsp;the&nbsp;returned&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;d.&nbsp;Return&nbsp;a&nbsp;dictionary&nbsp;encompassing&nbsp;the&nbsp;extracted&nbsp;file&nbsp;details&nbsp;or&nbsp;None&nbsp;if&nbsp;there&#x27;s&nbsp;an&nbsp;issue&nbsp;reading&nbsp;the&nbsp;file&nbsp;or&nbsp;parsing&nbsp;its&nbsp;content.<br/>[req05]&nbsp;The&nbsp;`remove_docs_and_comments`&nbsp;function&nbsp;shall:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a.&nbsp;Accept&nbsp;a&nbsp;Python&nbsp;code&nbsp;string&nbsp;as&nbsp;an&nbsp;argument.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b.&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;c.&nbsp;Return&nbsp;the&nbsp;sanitized&nbsp;code&nbsp;string.<br/>&quot;&quot;&quot;<br/>import&nbsp;ast<br/>import&nbsp;re<br/>import&nbsp;json<br/>import&nbsp;astor<br/>import&nbsp;logging<br/>import&nbsp;networkx&nbsp;as&nbsp;nx<br/>from&nbsp;typing&nbsp;import&nbsp;Dict,&nbsp;List,&nbsp;Optional,&nbsp;Union<br/><br/>def&nbsp;remove_docs_and_comments(code:&nbsp;str)&nbsp;-&gt;&nbsp;str:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Remove&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;the&nbsp;provided&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str:&nbsp;The&nbsp;sanitized&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;parsed&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;node&nbsp;in&nbsp;ast.walk(parsed):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(node,&nbsp;(ast.Expr,&nbsp;ast.Constant))&nbsp;and&nbsp;isinstance(node.value,&nbsp;(ast.Str,&nbsp;ast.Bytes)):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;ast.Constant(value=&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;isinstance(node,&nbsp;ast.Constant)&nbsp;and&nbsp;isinstance(node.value,&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node.value&nbsp;=&nbsp;node.value.replace(&#x27;&quot;&quot;&quot;&#x27;,&nbsp;&#x27;&#x27;).replace(&quot;&#x27;&#x27;&#x27;&quot;,&nbsp;&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;astor.to_source(parsed).strip()<br/><br/><br/>def&nbsp;get_all_calls(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;List[str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Recursively&nbsp;find&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;the&nbsp;subtree&nbsp;rooted&nbsp;at&nbsp;`node`.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node&nbsp;(ast.AST):&nbsp;The&nbsp;node&nbsp;to&nbsp;start&nbsp;the&nbsp;search&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;List[str]]:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;function&nbsp;calls&nbsp;as&nbsp;keys&nbsp;and&nbsp;their&nbsp;arguments&nbsp;as&nbsp;values.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;calls&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;child&nbsp;in&nbsp;ast.iter_child_nodes(node):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;isinstance(child,&nbsp;ast.Call):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls[ast.unparse(child.func)]&nbsp;=&nbsp;[ast.unparse(arg)&nbsp;for&nbsp;arg&nbsp;in&nbsp;child.args]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;calls.update(get_all_calls(child))<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;calls<br/><br/><br/>class&nbsp;CodeVisitor(ast.NodeVisitor):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Visitor&nbsp;class&nbsp;for&nbsp;traversing&nbsp;an&nbsp;AST&nbsp;(Abstract&nbsp;Syntax&nbsp;Tree)&nbsp;and&nbsp;extracting&nbsp;details&nbsp;about&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Attributes:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;(str):&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;functions(Dict):&nbsp;details&nbsp;about&nbsp;functions&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;classes&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;classes&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_info&nbsp;(Dict):&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Methods:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_FunctionDef(node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;visit_ClassDef(node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;extract_details(node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;analyze(node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Populate&nbsp;file_info&nbsp;with&nbsp;details&nbsp;about&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;__init__(self,&nbsp;code:&nbsp;str):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;the&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code:&nbsp;str:&nbsp;The&nbsp;source&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.code:&nbsp;str&nbsp;=&nbsp;code<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes:&nbsp;Dict[str,&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info:&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class:&nbsp;str&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_FunctionDef(self,&nbsp;node:&nbsp;ast.FunctionDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;function.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.FunctionDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;method&#x27;&nbsp;if&nbsp;self.current_class&nbsp;else&nbsp;&#x27;function&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;self.current_class:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class][f&#x27;class_method_{node.name}&#x27;]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.functions[node.name]&nbsp;=&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;visit_ClassDef(self,&nbsp;node:&nbsp;ast.ClassDef)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;class.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.ClassDef:&nbsp;The&nbsp;node&nbsp;to&nbsp;visit.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[node.name]&nbsp;=&nbsp;self.extract_details(node,&nbsp;&#x27;class&#x27;)&nbsp;#&nbsp;populate&nbsp;class&nbsp;dictionary&nbsp;when&nbsp;class&nbsp;definition&nbsp;found&nbsp;in&nbsp;AST<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;node.name&nbsp;&nbsp;#&nbsp;set&nbsp;current_class&nbsp;to&nbsp;indicate&nbsp;inside&nbsp;a&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.generic_visit(node)&nbsp;#&nbsp;continue&nbsp;AST&nbsp;traversal&nbsp;to&nbsp;the&nbsp;next&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.current_class&nbsp;=&nbsp;None&nbsp;&nbsp;#&nbsp;reset&nbsp;current_class&nbsp;when&nbsp;finished&nbsp;with&nbsp;this&nbsp;class<br/>&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;extract_details(self,&nbsp;node:&nbsp;ast.AST,&nbsp;node_type:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;about&nbsp;a&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;extract&nbsp;details&nbsp;from.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_type:&nbsp;str:&nbsp;The&nbsp;type&nbsp;of&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[str,&nbsp;List[str]]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;node.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;call_data&nbsp;=&nbsp;get_all_calls(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_name&#x27;:&nbsp;node.name,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_code&#x27;:&nbsp;ast.unparse(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_ast&#x27;:&nbsp;ast.dump(node),&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_docstring&#x27;:&nbsp;next((n.value.s&nbsp;for&nbsp;n&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(n,&nbsp;ast.Expr)&nbsp;and&nbsp;isinstance(n.value,&nbsp;ast.Str)),&nbsp;None),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_inputs&#x27;:&nbsp;[arg.arg&nbsp;for&nbsp;arg&nbsp;in&nbsp;node.args.args]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_defaults&#x27;:&nbsp;[ast.unparse(d)&nbsp;for&nbsp;d&nbsp;in&nbsp;node.args.defaults]&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;function&#x27;,&nbsp;&#x27;method&#x27;]&nbsp;else&nbsp;None,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_returns&#x27;:&nbsp;[ast.unparse(subnode.value)&nbsp;if&nbsp;subnode.value&nbsp;is&nbsp;not&nbsp;None&nbsp;else&nbsp;&quot;None&quot;&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Return)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_calls&#x27;:&nbsp;list(call_data.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_call_inputs&#x27;:&nbsp;call_data,&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_variables&#x27;:&nbsp;list({ast.unparse(target)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Name)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_decorators&#x27;:&nbsp;list({ast.unparse(decorator)&nbsp;for&nbsp;decorator&nbsp;in&nbsp;node.decorator_list}&nbsp;if&nbsp;node.decorator_list&nbsp;else&nbsp;set()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_annotations&#x27;:&nbsp;list({ast.unparse(subnode.annotation)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.AnnAssign)&nbsp;and&nbsp;subnode.annotation&nbsp;is&nbsp;not&nbsp;None}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&#x27;{node_type}_properties&#x27;:&nbsp;list({ast.unparse(subnode)&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(subnode.ctx,&nbsp;ast.Store)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;in&nbsp;[&#x27;class&#x27;,&nbsp;&#x27;method&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;method&#x27;&nbsp;and&nbsp;self.current_class:&nbsp;#&nbsp;find&nbsp;attributes&nbsp;defined&nbsp;as&nbsp;self.attribute<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;attributes&nbsp;=&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)&nbsp;and&nbsp;isinstance(target.value,&nbsp;ast.Name)&nbsp;and&nbsp;target.value.id&nbsp;==&nbsp;&#x27;self&#x27;]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.classes[self.current_class].setdefault(&#x27;class_attributes&#x27;,&nbsp;[]).extend(attributes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;node_type&nbsp;==&nbsp;&#x27;class&#x27;:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;details.update({<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_attributes&#x27;:&nbsp;[target.attr&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Assign)&nbsp;for&nbsp;target&nbsp;in&nbsp;subnode.targets&nbsp;if&nbsp;isinstance(target,&nbsp;ast.Attribute)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_inheritance&#x27;:&nbsp;[ast.unparse(base)&nbsp;for&nbsp;base&nbsp;in&nbsp;node.bases]&nbsp;if&nbsp;node.bases&nbsp;else&nbsp;[],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;class_static_methods&#x27;:&nbsp;[subnode.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node.body&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.FunctionDef)&nbsp;and&nbsp;subnode.name&nbsp;!=&nbsp;&quot;__init__&quot;&nbsp;and&nbsp;any(isinstance(decorator,&nbsp;ast.Name)&nbsp;and&nbsp;decorator.id&nbsp;==&nbsp;&quot;staticmethod&quot;&nbsp;for&nbsp;decorator&nbsp;in&nbsp;subnode.decorator_list)],<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;details<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;analyze(self,&nbsp;node:&nbsp;ast.AST)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Traverse&nbsp;the&nbsp;AST&nbsp;rooted&nbsp;at&nbsp;&#x27;node&#x27;,&nbsp;create&nbsp;a&nbsp;list&nbsp;of&nbsp;all&nbsp;nodes&nbsp;within&nbsp;the&nbsp;current&nbsp;file,&nbsp;and&nbsp;populate&nbsp;&#x27;file_info&#x27;&nbsp;with&nbsp;file&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node:&nbsp;ast.AST:&nbsp;The&nbsp;node&nbsp;to&nbsp;analyze.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;node_walk&nbsp;=&nbsp;list(ast.walk(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.visit(node)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info&nbsp;=&nbsp;{<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_code&#x27;:&nbsp;self.code,<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_ast&#x27;&nbsp;:&nbsp;ast.dump(node),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_dependencies&#x27;:&nbsp;list({alias.name&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.Import)&nbsp;for&nbsp;alias&nbsp;in&nbsp;subnode.names}&nbsp;|&nbsp;{subnode.module&nbsp;for&nbsp;subnode&nbsp;in&nbsp;node_walk&nbsp;if&nbsp;isinstance(subnode,&nbsp;ast.ImportFrom)}),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_functions&#x27;:&nbsp;list(self.functions.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#x27;file_classes&#x27;:&nbsp;list(self.classes.keys()),<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;add&nbsp;file_summary&nbsp;to&nbsp;file_info<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_defs&nbsp;=&nbsp;[{func_name:&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;function_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;function_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;function_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;function_returns&#x27;]}}&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;self.functions.items()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs&nbsp;=&nbsp;[]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;self.classes.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;details&nbsp;in&nbsp;class_details.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;method_name.startswith(&#x27;class_method_&#x27;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_defs[method_name[len(&#x27;class_method_&#x27;):]]&nbsp;=&nbsp;{&#x27;inputs&#x27;:&nbsp;details[&#x27;method_inputs&#x27;],&nbsp;&#x27;calls&#x27;:&nbsp;details[&#x27;method_calls&#x27;],&nbsp;&#x27;call_inputs&#x27;:&nbsp;details[&#x27;method_call_inputs&#x27;],&nbsp;&#x27;returns&#x27;:&nbsp;details[&#x27;method_returns&#x27;]}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_defs.append({class_name:&nbsp;{&#x27;method_defs&#x27;:&nbsp;method_defs}})<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_summary&#x27;]&nbsp;=&nbsp;{&nbsp;&#x27;dependencies&#x27;:&nbsp;self.file_info[&#x27;file_dependencies&#x27;],&nbsp;&#x27;function_defs&#x27;&nbsp;:&nbsp;function_defs,&nbsp;&#x27;class_defs&#x27;&nbsp;:&nbsp;class_defs}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_code_simplified&nbsp;=&nbsp;remove_docs_and_comments(ast.unparse(node))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;self.file_info[&#x27;file_code_simplified&#x27;]&nbsp;=&nbsp;file_code_simplified<br/><br/><br/>def&nbsp;code_graph(file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]])&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[List[str],&nbsp;Dict[str,&nbsp;List[str]]]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Create&nbsp;a&nbsp;dictionary&nbsp;representation&nbsp;of&nbsp;file&nbsp;details.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_summary:&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dict:&nbsp;A&nbsp;dictionary&nbsp;with&nbsp;nodes&nbsp;and&nbsp;edges&nbsp;representing&nbsp;the&nbsp;relationships&nbsp;in&nbsp;the&nbsp;code.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;G&nbsp;=&nbsp;nx.DiGraph()<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Create&nbsp;lookup&nbsp;dictionaries&nbsp;for&nbsp;function&nbsp;and&nbsp;class&nbsp;method&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_def&nbsp;in&nbsp;file_summary[&#x27;function_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;function_details_lookup.update(function_def)<br/>&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;class_name,&nbsp;class_details&nbsp;in&nbsp;class_def.items():&nbsp;#&nbsp;Extract&nbsp;class&nbsp;name&nbsp;and&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(class_name)&nbsp;#&nbsp;Add&nbsp;class&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;method_name,&nbsp;method_details&nbsp;in&nbsp;class_details[&#x27;method_defs&#x27;].items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;qualified_method_name&nbsp;=&nbsp;f&#x27;{class_name}.{method_name}&#x27;&nbsp;#&nbsp;Create&nbsp;method&nbsp;fully&nbsp;qualified&nbsp;name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(qualified_method_name)&nbsp;#&nbsp;Add&nbsp;method&nbsp;as&nbsp;a&nbsp;graph&nbsp;node<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_method_details_lookup[qualified_method_name]&nbsp;=&nbsp;method_details&nbsp;&nbsp;#&nbsp;Store&nbsp;method&nbsp;details&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(class_name,&nbsp;qualified_method_name)&nbsp;#&nbsp;Add&nbsp;edge&nbsp;from&nbsp;class&nbsp;to&nbsp;method<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;extract&nbsp;edge&nbsp;data&nbsp;from&nbsp;target&nbsp;details<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;get_edge_data_from_details(target_details:&nbsp;dict,&nbsp;source_details:&nbsp;dict,&nbsp;target:&nbsp;str)&nbsp;-&gt;&nbsp;dict:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;{}<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;target_details:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;target_details.get(&#x27;inputs&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_returns&#x27;]&nbsp;=&nbsp;list(set(target_details.get(&#x27;returns&#x27;,&nbsp;[])))<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;source_details&nbsp;and&nbsp;&#x27;call_inputs&#x27;&nbsp;in&nbsp;source_details&nbsp;and&nbsp;target&nbsp;in&nbsp;source_details[&#x27;call_inputs&#x27;]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data[&#x27;target_inputs&#x27;]&nbsp;=&nbsp;source_details[&#x27;call_inputs&#x27;][target]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;edge_data<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edge&nbsp;with&nbsp;data<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edge_with_data(source:&nbsp;str,&nbsp;target:&nbsp;str,&nbsp;init_method:&nbsp;Optional[str]&nbsp;=&nbsp;None)&nbsp;-&gt;&nbsp;None:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;class_method_details_lookup.get(init_method&nbsp;or&nbsp;target)&nbsp;or&nbsp;function_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_edge(source,&nbsp;target,&nbsp;**get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target))<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Helper&nbsp;function&nbsp;to&nbsp;add&nbsp;edges&nbsp;for&nbsp;function&nbsp;or&nbsp;class&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;def&nbsp;add_edges_for_calls(source_name,&nbsp;calls):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;class_names&nbsp;=&nbsp;[list(class_def.keys())[0]&nbsp;for&nbsp;class_def&nbsp;in&nbsp;file_summary[&#x27;class_defs&#x27;]]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;called&nbsp;in&nbsp;calls:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called_class_name&nbsp;=&nbsp;called.split(&#x27;.&#x27;)[0]<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;called.startswith(&quot;self.&quot;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;method_name&nbsp;=&nbsp;called.replace(&quot;self.&quot;,&nbsp;&quot;&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fully_qualified_name&nbsp;=&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{method_name}&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;fully_qualified_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;fully_qualified_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;continue<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;(<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;function_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;called&nbsp;in&nbsp;class_method_details_lookup&nbsp;or&nbsp;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;f&quot;{source_name.split(&#x27;.&#x27;)[0]}.{called}&quot;&nbsp;in&nbsp;class_method_details_lookup<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;):<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;elif&nbsp;called_class_name&nbsp;in&nbsp;class_names:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;None<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method_name&nbsp;=&nbsp;f&quot;{called}.__init__&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;init_method_name&nbsp;in&nbsp;class_method_details_lookup:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;init_method&nbsp;=&nbsp;init_method_name<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called,&nbsp;init_method)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;else:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(called)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edge_with_data(source_name,&nbsp;called)<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;function&nbsp;nodes&nbsp;to&nbsp;graph&nbsp;and&nbsp;edges&nbsp;for&nbsp;function&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;function_name&nbsp;in&nbsp;function_details_lookup.keys():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G.add_node(function_name)<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;func_name,&nbsp;details&nbsp;in&nbsp;function_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(func_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edges&nbsp;for&nbsp;method&nbsp;calls<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;qualified_method_name,&nbsp;details&nbsp;in&nbsp;class_method_details_lookup.items():<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;add_edges_for_calls(qualified_method_name,&nbsp;details[&#x27;calls&#x27;])<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;#&nbsp;Add&nbsp;edge&nbsp;data&nbsp;to&nbsp;edges&nbsp;and&nbsp;create&nbsp;node&nbsp;and&nbsp;edges&nbsp;to&nbsp;return<br/>&nbsp;&nbsp;&nbsp;&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source,&nbsp;target&nbsp;=&nbsp;edge<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;target_details&nbsp;=&nbsp;function_details_lookup.get(target)&nbsp;or&nbsp;class_method_details_lookup.get(target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;source_details&nbsp;=&nbsp;function_details_lookup.get(source)&nbsp;or&nbsp;class_method_details_lookup.get(source)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;edge_data&nbsp;=&nbsp;get_edge_data_from_details(target_details,&nbsp;source_details,&nbsp;target)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;G[source][target].update(edge_data)<br/>&nbsp;&nbsp;&nbsp;&nbsp;nodes&nbsp;=&nbsp;list(G.nodes)<br/>&nbsp;&nbsp;&nbsp;&nbsp;edges&nbsp;=&nbsp;[{&quot;source&quot;:&nbsp;edge[0],&nbsp;&quot;target&quot;:&nbsp;edge[1],&nbsp;**edge[2]}&nbsp;for&nbsp;edge&nbsp;in&nbsp;G.edges.data()]<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;{&quot;nodes&quot;:&nbsp;nodes,&nbsp;&quot;edges&quot;:&nbsp;edges}<br/><br/><br/>def&nbsp;get_python_file_details(file_path:&nbsp;str)&nbsp;-&gt;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;Extract&nbsp;details&nbsp;from&nbsp;a&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Args:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;file_path:&nbsp;str:&nbsp;The&nbsp;path&nbsp;to&nbsp;the&nbsp;Python&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;Returns:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Dict[str,&nbsp;Union[Dict,&nbsp;str]]:&nbsp;The&nbsp;details&nbsp;extracted&nbsp;from&nbsp;the&nbsp;file.<br/>&nbsp;&nbsp;&nbsp;&nbsp;&quot;&quot;&quot;<br/>&nbsp;&nbsp;&nbsp;&nbsp;try:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;open(file_path,&nbsp;&quot;r&quot;,&nbsp;encoding=&quot;utf-8&quot;,&nbsp;errors=&#x27;ignore&#x27;)&nbsp;as&nbsp;f:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;code&nbsp;=&nbsp;f.read()<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tree&nbsp;=&nbsp;ast.parse(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;except:<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;logging.warning(f&quot;Permission&nbsp;denied&nbsp;or&nbsp;syntax&nbsp;error&nbsp;in&nbsp;file:&nbsp;{file_path}&quot;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;None&nbsp;<br/><br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor&nbsp;=&nbsp;CodeVisitor(code)<br/>&nbsp;&nbsp;&nbsp;&nbsp;visitor.analyze(tree)<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details&nbsp;=&nbsp;{&#x27;file_info&#x27;:&nbsp;visitor.file_info,&nbsp;&#x27;functions&#x27;:&nbsp;visitor.functions,&nbsp;&#x27;classes&#x27;:&nbsp;visitor.classes}<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;entire_code_graph&#x27;]&nbsp;=&nbsp;code_graph(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;])<br/>&nbsp;&nbsp;&nbsp;&nbsp;file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]&nbsp;=&nbsp;json.dumps(file_details[&#x27;file_info&#x27;][&#x27;file_summary&#x27;]).replace(&#x27;\&quot;&#x27;,&#x27;&#x27;)<br/>&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;file_details</td><td>Summary/Processing&nbsp;of&nbsp;the&nbsp;file&nbsp;`get_python_file_details`&nbsp;purpose:&nbsp;Python&nbsp;program&nbsp;used&nbsp;for&nbsp;analysis,&nbsp;transformation&nbsp;and&nbsp;summarizing&nbsp;details&nbsp;of&nbsp;Python&nbsp;code.&nbsp;This&nbsp;program&nbsp;contains&nbsp;methods&nbsp;that&nbsp;parse&nbsp;Python&nbsp;source&nbsp;code&nbsp;to&nbsp;extract&nbsp;various&nbsp;details&nbsp;like&nbsp;functions,&nbsp;classes,&nbsp;their&nbsp;arguments,&nbsp;returns,&nbsp;inputs,&nbsp;variables,&nbsp;call&nbsp;relationships&nbsp;etc.,&nbsp;and&nbsp;create&nbsp;a&nbsp;directed&nbsp;graph&nbsp;representation&nbsp;of&nbsp;the&nbsp;code&nbsp;structure&nbsp;using&nbsp;networkx&nbsp;library.<br/><br/>Functions:<br/>-&nbsp;`remove_docs_and_comments`&nbsp;-&nbsp;removes&nbsp;docstrings&nbsp;and&nbsp;comments&nbsp;from&nbsp;provided&nbsp;python&nbsp;code<br/>-&nbsp;`get_all_calls`&nbsp;-&nbsp;Recursively&nbsp;finds&nbsp;all&nbsp;function&nbsp;calls&nbsp;in&nbsp;given&nbsp;ast&nbsp;subtree&nbsp;node&nbsp;<br/>-&nbsp;`code_graph`&nbsp;-&nbsp;Generate&nbsp;the&nbsp;code&nbsp;graph,&nbsp;determining&nbsp;relations&nbsp;like&nbsp;method/class&nbsp;inheritances,&nbsp;function&nbsp;calls&nbsp;etc.&nbsp;using&nbsp;networkx&nbsp;library<br/>-&nbsp;`get_python_file_details`&nbsp;-&nbsp;Extracts&nbsp;details&nbsp;from&nbsp;Python&nbsp;file&nbsp;and&nbsp;includes&nbsp;entire&nbsp;code&nbsp;graph&nbsp;as&nbsp;well&nbsp;in&nbsp;the&nbsp;output&nbsp;dictionary<br/><br/>Classes:<br/>-&nbsp;`CodeVisitor`&nbsp;-&nbsp;Inherits&nbsp;ast.NodeVisitor&nbsp;to&nbsp;extract&nbsp;information&nbsp;about&nbsp;classes&nbsp;and&nbsp;functions</td></tr>
                </tbody>
            </table>
        </body>
        </html>
        